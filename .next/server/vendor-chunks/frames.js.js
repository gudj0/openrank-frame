"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "vendor-chunks/frames.js";
exports.ids = ["vendor-chunks/frames.js"];
exports.modules = {

/***/ "(rsc)/./node_modules/frames.js/dist/chunk-22POH47P.js":
/*!*******************************************************!*\
  !*** ./node_modules/frames.js/dist/chunk-22POH47P.js ***!
  \*******************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   framesjsMiddleware: () => (/* binding */ framesjsMiddleware)\n/* harmony export */ });\n/* harmony import */ var _chunk_CAY3YIQE_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./chunk-CAY3YIQE.js */ \"(rsc)/./node_modules/frames.js/dist/chunk-CAY3YIQE.js\");\n\n\n// src/middleware/framesjsMiddleware.ts\nfunction framesjsMiddleware() {\n  return async (context, next) => {\n    const { searchParams } = (0,_chunk_CAY3YIQE_js__WEBPACK_IMPORTED_MODULE_0__.parseSearchParams)(context.url);\n    if (context.request.method !== \"POST\") {\n      return next({ searchParams });\n    }\n    const pressedButton = (0,_chunk_CAY3YIQE_js__WEBPACK_IMPORTED_MODULE_0__.parseButtonInformationFromTargetURL)(context.url);\n    const result = await next({ pressedButton, searchParams });\n    if (pressedButton?.action === \"post_redirect\") {\n      if (result instanceof Response && (result.status < 300 || result.status > 399) || !(0,_chunk_CAY3YIQE_js__WEBPACK_IMPORTED_MODULE_0__.isFrameRedirect)(result)) {\n        console.warn(\n          \"The clicked button action was post_redirect, but the response was not a redirect\"\n        );\n      }\n    } else if (pressedButton?.action === \"post\") {\n      if (result instanceof Response || (0,_chunk_CAY3YIQE_js__WEBPACK_IMPORTED_MODULE_0__.isFrameRedirect)(result)) {\n        console.warn(\n          \"The clicked button action was post, but the response was not a frame definition\"\n        );\n      }\n    }\n    return result;\n  };\n}\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvZnJhbWVzLmpzL2Rpc3QvY2h1bmstMjJQT0g0N1AuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFJNkI7O0FBRTdCO0FBQ0E7QUFDQTtBQUNBLFlBQVksZUFBZSxFQUFFLHFFQUFpQjtBQUM5QztBQUNBLG9CQUFvQixjQUFjO0FBQ2xDO0FBQ0EsMEJBQTBCLHVGQUFtQztBQUM3RCxnQ0FBZ0MsNkJBQTZCO0FBQzdEO0FBQ0EseUZBQXlGLG1FQUFlO0FBQ3hHO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOLHdDQUF3QyxtRUFBZTtBQUN2RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUlFIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcGxlYi1maW5kZXIvLi9ub2RlX21vZHVsZXMvZnJhbWVzLmpzL2Rpc3QvY2h1bmstMjJQT0g0N1AuanM/MmYyNCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge1xuICBpc0ZyYW1lUmVkaXJlY3QsXG4gIHBhcnNlQnV0dG9uSW5mb3JtYXRpb25Gcm9tVGFyZ2V0VVJMLFxuICBwYXJzZVNlYXJjaFBhcmFtc1xufSBmcm9tIFwiLi9jaHVuay1DQVkzWUlRRS5qc1wiO1xuXG4vLyBzcmMvbWlkZGxld2FyZS9mcmFtZXNqc01pZGRsZXdhcmUudHNcbmZ1bmN0aW9uIGZyYW1lc2pzTWlkZGxld2FyZSgpIHtcbiAgcmV0dXJuIGFzeW5jIChjb250ZXh0LCBuZXh0KSA9PiB7XG4gICAgY29uc3QgeyBzZWFyY2hQYXJhbXMgfSA9IHBhcnNlU2VhcmNoUGFyYW1zKGNvbnRleHQudXJsKTtcbiAgICBpZiAoY29udGV4dC5yZXF1ZXN0Lm1ldGhvZCAhPT0gXCJQT1NUXCIpIHtcbiAgICAgIHJldHVybiBuZXh0KHsgc2VhcmNoUGFyYW1zIH0pO1xuICAgIH1cbiAgICBjb25zdCBwcmVzc2VkQnV0dG9uID0gcGFyc2VCdXR0b25JbmZvcm1hdGlvbkZyb21UYXJnZXRVUkwoY29udGV4dC51cmwpO1xuICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IG5leHQoeyBwcmVzc2VkQnV0dG9uLCBzZWFyY2hQYXJhbXMgfSk7XG4gICAgaWYgKHByZXNzZWRCdXR0b24/LmFjdGlvbiA9PT0gXCJwb3N0X3JlZGlyZWN0XCIpIHtcbiAgICAgIGlmIChyZXN1bHQgaW5zdGFuY2VvZiBSZXNwb25zZSAmJiAocmVzdWx0LnN0YXR1cyA8IDMwMCB8fCByZXN1bHQuc3RhdHVzID4gMzk5KSB8fCAhaXNGcmFtZVJlZGlyZWN0KHJlc3VsdCkpIHtcbiAgICAgICAgY29uc29sZS53YXJuKFxuICAgICAgICAgIFwiVGhlIGNsaWNrZWQgYnV0dG9uIGFjdGlvbiB3YXMgcG9zdF9yZWRpcmVjdCwgYnV0IHRoZSByZXNwb25zZSB3YXMgbm90IGEgcmVkaXJlY3RcIlxuICAgICAgICApO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAocHJlc3NlZEJ1dHRvbj8uYWN0aW9uID09PSBcInBvc3RcIikge1xuICAgICAgaWYgKHJlc3VsdCBpbnN0YW5jZW9mIFJlc3BvbnNlIHx8IGlzRnJhbWVSZWRpcmVjdChyZXN1bHQpKSB7XG4gICAgICAgIGNvbnNvbGUud2FybihcbiAgICAgICAgICBcIlRoZSBjbGlja2VkIGJ1dHRvbiBhY3Rpb24gd2FzIHBvc3QsIGJ1dCB0aGUgcmVzcG9uc2Ugd2FzIG5vdCBhIGZyYW1lIGRlZmluaXRpb25cIlxuICAgICAgICApO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xuICB9O1xufVxuXG5leHBvcnQge1xuICBmcmFtZXNqc01pZGRsZXdhcmVcbn07XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/frames.js/dist/chunk-22POH47P.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/frames.js/dist/chunk-3G7JIAWO.js":
/*!*******************************************************!*\
  !*** ./node_modules/frames.js/dist/chunk-3G7JIAWO.js ***!
  \*******************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   FrameMessageError: () => (/* binding */ FrameMessageError),\n/* harmony export */   InvalidFrameActionPayloadError: () => (/* binding */ InvalidFrameActionPayloadError),\n/* harmony export */   RequestBodyNotJSONError: () => (/* binding */ RequestBodyNotJSONError)\n/* harmony export */ });\n// src/core/errors.ts\nvar RequestBodyNotJSONError = class extends Error {\n  constructor() {\n    super(\"Invalid frame action payload\");\n  }\n};\nvar InvalidFrameActionPayloadError = class extends Error {\n  constructor() {\n    super(\"Invalid frame action payload\");\n  }\n};\nvar FrameMessageError = class extends Error {\n  status;\n  /**\n   *\n   * @param message - Message to show the user (up to 90 characters)\n   * @param status - 4XX status code\n   */\n  constructor(message, status) {\n    if (message.length > 90)\n      throw new Error(\"Message too long\");\n    if (status < 400 || status >= 500)\n      throw new Error(\"Invalid status code\");\n    super(message);\n    this.status = status;\n  }\n};\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvZnJhbWVzLmpzL2Rpc3QvY2h1bmstM0c3SklBV08uanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQU1FIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcGxlYi1maW5kZXIvLi9ub2RlX21vZHVsZXMvZnJhbWVzLmpzL2Rpc3QvY2h1bmstM0c3SklBV08uanM/MmEzYiJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBzcmMvY29yZS9lcnJvcnMudHNcbnZhciBSZXF1ZXN0Qm9keU5vdEpTT05FcnJvciA9IGNsYXNzIGV4dGVuZHMgRXJyb3Ige1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcihcIkludmFsaWQgZnJhbWUgYWN0aW9uIHBheWxvYWRcIik7XG4gIH1cbn07XG52YXIgSW52YWxpZEZyYW1lQWN0aW9uUGF5bG9hZEVycm9yID0gY2xhc3MgZXh0ZW5kcyBFcnJvciB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKFwiSW52YWxpZCBmcmFtZSBhY3Rpb24gcGF5bG9hZFwiKTtcbiAgfVxufTtcbnZhciBGcmFtZU1lc3NhZ2VFcnJvciA9IGNsYXNzIGV4dGVuZHMgRXJyb3Ige1xuICBzdGF0dXM7XG4gIC8qKlxuICAgKlxuICAgKiBAcGFyYW0gbWVzc2FnZSAtIE1lc3NhZ2UgdG8gc2hvdyB0aGUgdXNlciAodXAgdG8gOTAgY2hhcmFjdGVycylcbiAgICogQHBhcmFtIHN0YXR1cyAtIDRYWCBzdGF0dXMgY29kZVxuICAgKi9cbiAgY29uc3RydWN0b3IobWVzc2FnZSwgc3RhdHVzKSB7XG4gICAgaWYgKG1lc3NhZ2UubGVuZ3RoID4gOTApXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJNZXNzYWdlIHRvbyBsb25nXCIpO1xuICAgIGlmIChzdGF0dXMgPCA0MDAgfHwgc3RhdHVzID49IDUwMClcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIkludmFsaWQgc3RhdHVzIGNvZGVcIik7XG4gICAgc3VwZXIobWVzc2FnZSk7XG4gICAgdGhpcy5zdGF0dXMgPSBzdGF0dXM7XG4gIH1cbn07XG5cbmV4cG9ydCB7XG4gIFJlcXVlc3RCb2R5Tm90SlNPTkVycm9yLFxuICBJbnZhbGlkRnJhbWVBY3Rpb25QYXlsb2FkRXJyb3IsXG4gIEZyYW1lTWVzc2FnZUVycm9yXG59O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/frames.js/dist/chunk-3G7JIAWO.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/frames.js/dist/chunk-5TLR47X5.js":
/*!*******************************************************!*\
  !*** ./node_modules/frames.js/dist/chunk-5TLR47X5.js ***!
  \*******************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getFrameMessage: () => (/* binding */ getFrameMessage)\n/* harmony export */ });\n/* harmony import */ var _chunk_NYM7O7IG_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./chunk-NYM7O7IG.js */ \"(rsc)/./node_modules/frames.js/dist/chunk-NYM7O7IG.js\");\n/* harmony import */ var _chunk_HKQGGRBN_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./chunk-HKQGGRBN.js */ \"(rsc)/./node_modules/frames.js/dist/chunk-HKQGGRBN.js\");\n/* harmony import */ var _chunk_SUN5RYRE_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./chunk-SUN5RYRE.js */ \"(rsc)/./node_modules/frames.js/dist/chunk-SUN5RYRE.js\");\n/* harmony import */ var _chunk_T2UQQRTL_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./chunk-T2UQQRTL.js */ \"(rsc)/./node_modules/frames.js/dist/chunk-T2UQQRTL.js\");\n/* harmony import */ var _chunk_CGGPX3ON_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./chunk-CGGPX3ON.js */ \"(rsc)/./node_modules/frames.js/dist/chunk-CGGPX3ON.js\");\n/* harmony import */ var _chunk_MI43JRER_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./chunk-MI43JRER.js */ \"(rsc)/./node_modules/frames.js/dist/chunk-MI43JRER.js\");\n/* harmony import */ var viem_utils__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! viem/utils */ \"(rsc)/./node_modules/viem/_esm/utils/encoding/toHex.js\");\n\n\n\n\n\n\n\n// src/getFrameMessage.ts\n\nasync function getFrameMessage(payload, {\n  fetchHubContext = true,\n  hubHttpUrl = _chunk_T2UQQRTL_js__WEBPACK_IMPORTED_MODULE_3__.DEFAULT_HUB_API_URL,\n  hubRequestOptions = {\n    headers: {\n      api_key: _chunk_T2UQQRTL_js__WEBPACK_IMPORTED_MODULE_3__.DEFAULT_HUB_API_KEY\n    }\n  }\n} = {}) {\n  const decodedMessage = _chunk_MI43JRER_js__WEBPACK_IMPORTED_MODULE_5__.Message.decode(\n    Buffer.from(payload.trustedData.messageBytes, \"hex\")\n  );\n  const {\n    buttonIndex,\n    inputText: inputTextBytes,\n    state: stateBytes,\n    transactionId: transactionIdBytes\n  } = decodedMessage.data.frameActionBody;\n  const inputText = Buffer.from(inputTextBytes).toString(\"utf-8\");\n  const transactionId = transactionIdBytes.length > 0 ? (0,viem_utils__WEBPACK_IMPORTED_MODULE_6__.bytesToHex)(transactionIdBytes) : void 0;\n  const requesterFid = decodedMessage.data.fid;\n  const castId = decodedMessage.data.frameActionBody.castId ? (0,_chunk_CGGPX3ON_js__WEBPACK_IMPORTED_MODULE_4__.normalizeCastId)(decodedMessage.data.frameActionBody.castId) : void 0;\n  const connectedAddress = decodedMessage.data.frameActionBody.address.length > 0 ? (0,viem_utils__WEBPACK_IMPORTED_MODULE_6__.bytesToHex)(decodedMessage.data.frameActionBody.address) : void 0;\n  const state = Buffer.from(stateBytes).toString(\"utf-8\");\n  const parsedData = {\n    buttonIndex,\n    castId,\n    inputText,\n    requesterFid,\n    state,\n    connectedAddress,\n    transactionId\n  };\n  if (fetchHubContext) {\n    const [\n      validationResult,\n      requesterFollowsCaster,\n      casterFollowsRequester,\n      likedCast,\n      recastedCast,\n      requesterEthAddresses,\n      requesterUserData\n    ] = await Promise.all([\n      (0,_chunk_HKQGGRBN_js__WEBPACK_IMPORTED_MODULE_1__.validateFrameMessage)(payload, {\n        hubHttpUrl,\n        hubRequestOptions\n      }),\n      fetch(\n        `${hubHttpUrl}/v1/linkById?fid=${requesterFid}&target_fid=${castId?.fid}&link_type=follow`,\n        hubRequestOptions\n      ).then((res) => res.ok || requesterFid === castId?.fid),\n      fetch(\n        `${hubHttpUrl}/v1/linkById?fid=${castId?.fid}&target_fid=${requesterFid}&link_type=follow`,\n        hubRequestOptions\n      ).then((res) => res.ok || requesterFid === castId?.fid),\n      fetch(\n        `${hubHttpUrl}/v1/reactionById?fid=${requesterFid}&reaction_type=1&target_fid=${castId?.fid}&target_hash=${castId?.hash}`,\n        hubRequestOptions\n      ).then((res) => res.ok),\n      fetch(\n        `${hubHttpUrl}/v1/reactionById?fid=${requesterFid}&reaction_type=2&target_fid=${castId?.fid}&target_hash=${castId?.hash}`,\n        hubRequestOptions\n      ).then((res) => res.ok),\n      (0,_chunk_SUN5RYRE_js__WEBPACK_IMPORTED_MODULE_2__.getAddressesForFid)({\n        fid: requesterFid,\n        options: {\n          hubHttpUrl,\n          hubRequestOptions\n        }\n      }),\n      (0,_chunk_NYM7O7IG_js__WEBPACK_IMPORTED_MODULE_0__.getUserDataForFid)({\n        fid: requesterFid,\n        options: {\n          hubHttpUrl,\n          hubRequestOptions\n        }\n      })\n    ]);\n    const requesterCustodyAddress = requesterEthAddresses.find(\n      (item) => item.type === \"custody\"\n    )?.address;\n    if (!requesterCustodyAddress) {\n      throw new Error(\"Custody address not found\");\n    }\n    const requesterVerifiedAddresses = requesterEthAddresses.filter((item) => item.type === \"verified\").map((item) => item.address);\n    const hubContext = {\n      isValid: validationResult.isValid,\n      casterFollowsRequester,\n      requesterFollowsCaster,\n      likedCast,\n      recastedCast,\n      requesterVerifiedAddresses,\n      requesterCustodyAddress,\n      requesterUserData\n    };\n    return { ...parsedData, ...hubContext };\n  }\n  return parsedData;\n}\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvZnJhbWVzLmpzL2Rpc3QvY2h1bmstNVRMUjQ3WDUuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7QUFFNkI7QUFHQTtBQUdBO0FBSUE7QUFHQTtBQUdBOztBQUU3QjtBQUN3QztBQUN4QztBQUNBO0FBQ0EsZUFBZSxtRUFBbUI7QUFDbEM7QUFDQTtBQUNBLGVBQWUsbUVBQW1CO0FBQ2xDO0FBQ0E7QUFDQSxFQUFFLElBQUk7QUFDTix5QkFBeUIsdURBQU87QUFDaEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQSx3REFBd0Qsc0RBQVU7QUFDbEU7QUFDQSw4REFBOEQsbUVBQWU7QUFDN0Usb0ZBQW9GLHNEQUFVO0FBQzlGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNLHdFQUFvQjtBQUMxQjtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0EsV0FBVyxXQUFXLG1CQUFtQixhQUFhLGNBQWMsWUFBWTtBQUNoRjtBQUNBO0FBQ0E7QUFDQSxXQUFXLFdBQVcsbUJBQW1CLFlBQVksY0FBYyxhQUFhO0FBQ2hGO0FBQ0E7QUFDQTtBQUNBLFdBQVcsV0FBVyx1QkFBdUIsYUFBYSw4QkFBOEIsWUFBWSxlQUFlLGFBQWE7QUFDaEk7QUFDQTtBQUNBO0FBQ0EsV0FBVyxXQUFXLHVCQUF1QixhQUFhLDhCQUE4QixZQUFZLGVBQWUsYUFBYTtBQUNoSTtBQUNBO0FBQ0EsTUFBTSxzRUFBa0I7QUFDeEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUCxNQUFNLHFFQUFpQjtBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7O0FBSUUiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9wbGViLWZpbmRlci8uL25vZGVfbW9kdWxlcy9mcmFtZXMuanMvZGlzdC9jaHVuay01VExSNDdYNS5qcz81NWE5Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7XG4gIGdldFVzZXJEYXRhRm9yRmlkXG59IGZyb20gXCIuL2NodW5rLU5ZTTdPN0lHLmpzXCI7XG5pbXBvcnQge1xuICB2YWxpZGF0ZUZyYW1lTWVzc2FnZVxufSBmcm9tIFwiLi9jaHVuay1IS1FHR1JCTi5qc1wiO1xuaW1wb3J0IHtcbiAgZ2V0QWRkcmVzc2VzRm9yRmlkXG59IGZyb20gXCIuL2NodW5rLVNVTjVSWVJFLmpzXCI7XG5pbXBvcnQge1xuICBERUZBVUxUX0hVQl9BUElfS0VZLFxuICBERUZBVUxUX0hVQl9BUElfVVJMXG59IGZyb20gXCIuL2NodW5rLVQyVVFRUlRMLmpzXCI7XG5pbXBvcnQge1xuICBub3JtYWxpemVDYXN0SWRcbn0gZnJvbSBcIi4vY2h1bmstQ0dHUFgzT04uanNcIjtcbmltcG9ydCB7XG4gIE1lc3NhZ2Vcbn0gZnJvbSBcIi4vY2h1bmstTUk0M0pSRVIuanNcIjtcblxuLy8gc3JjL2dldEZyYW1lTWVzc2FnZS50c1xuaW1wb3J0IHsgYnl0ZXNUb0hleCB9IGZyb20gXCJ2aWVtL3V0aWxzXCI7XG5hc3luYyBmdW5jdGlvbiBnZXRGcmFtZU1lc3NhZ2UocGF5bG9hZCwge1xuICBmZXRjaEh1YkNvbnRleHQgPSB0cnVlLFxuICBodWJIdHRwVXJsID0gREVGQVVMVF9IVUJfQVBJX1VSTCxcbiAgaHViUmVxdWVzdE9wdGlvbnMgPSB7XG4gICAgaGVhZGVyczoge1xuICAgICAgYXBpX2tleTogREVGQVVMVF9IVUJfQVBJX0tFWVxuICAgIH1cbiAgfVxufSA9IHt9KSB7XG4gIGNvbnN0IGRlY29kZWRNZXNzYWdlID0gTWVzc2FnZS5kZWNvZGUoXG4gICAgQnVmZmVyLmZyb20ocGF5bG9hZC50cnVzdGVkRGF0YS5tZXNzYWdlQnl0ZXMsIFwiaGV4XCIpXG4gICk7XG4gIGNvbnN0IHtcbiAgICBidXR0b25JbmRleCxcbiAgICBpbnB1dFRleHQ6IGlucHV0VGV4dEJ5dGVzLFxuICAgIHN0YXRlOiBzdGF0ZUJ5dGVzLFxuICAgIHRyYW5zYWN0aW9uSWQ6IHRyYW5zYWN0aW9uSWRCeXRlc1xuICB9ID0gZGVjb2RlZE1lc3NhZ2UuZGF0YS5mcmFtZUFjdGlvbkJvZHk7XG4gIGNvbnN0IGlucHV0VGV4dCA9IEJ1ZmZlci5mcm9tKGlucHV0VGV4dEJ5dGVzKS50b1N0cmluZyhcInV0Zi04XCIpO1xuICBjb25zdCB0cmFuc2FjdGlvbklkID0gdHJhbnNhY3Rpb25JZEJ5dGVzLmxlbmd0aCA+IDAgPyBieXRlc1RvSGV4KHRyYW5zYWN0aW9uSWRCeXRlcykgOiB2b2lkIDA7XG4gIGNvbnN0IHJlcXVlc3RlckZpZCA9IGRlY29kZWRNZXNzYWdlLmRhdGEuZmlkO1xuICBjb25zdCBjYXN0SWQgPSBkZWNvZGVkTWVzc2FnZS5kYXRhLmZyYW1lQWN0aW9uQm9keS5jYXN0SWQgPyBub3JtYWxpemVDYXN0SWQoZGVjb2RlZE1lc3NhZ2UuZGF0YS5mcmFtZUFjdGlvbkJvZHkuY2FzdElkKSA6IHZvaWQgMDtcbiAgY29uc3QgY29ubmVjdGVkQWRkcmVzcyA9IGRlY29kZWRNZXNzYWdlLmRhdGEuZnJhbWVBY3Rpb25Cb2R5LmFkZHJlc3MubGVuZ3RoID4gMCA/IGJ5dGVzVG9IZXgoZGVjb2RlZE1lc3NhZ2UuZGF0YS5mcmFtZUFjdGlvbkJvZHkuYWRkcmVzcykgOiB2b2lkIDA7XG4gIGNvbnN0IHN0YXRlID0gQnVmZmVyLmZyb20oc3RhdGVCeXRlcykudG9TdHJpbmcoXCJ1dGYtOFwiKTtcbiAgY29uc3QgcGFyc2VkRGF0YSA9IHtcbiAgICBidXR0b25JbmRleCxcbiAgICBjYXN0SWQsXG4gICAgaW5wdXRUZXh0LFxuICAgIHJlcXVlc3RlckZpZCxcbiAgICBzdGF0ZSxcbiAgICBjb25uZWN0ZWRBZGRyZXNzLFxuICAgIHRyYW5zYWN0aW9uSWRcbiAgfTtcbiAgaWYgKGZldGNoSHViQ29udGV4dCkge1xuICAgIGNvbnN0IFtcbiAgICAgIHZhbGlkYXRpb25SZXN1bHQsXG4gICAgICByZXF1ZXN0ZXJGb2xsb3dzQ2FzdGVyLFxuICAgICAgY2FzdGVyRm9sbG93c1JlcXVlc3RlcixcbiAgICAgIGxpa2VkQ2FzdCxcbiAgICAgIHJlY2FzdGVkQ2FzdCxcbiAgICAgIHJlcXVlc3RlckV0aEFkZHJlc3NlcyxcbiAgICAgIHJlcXVlc3RlclVzZXJEYXRhXG4gICAgXSA9IGF3YWl0IFByb21pc2UuYWxsKFtcbiAgICAgIHZhbGlkYXRlRnJhbWVNZXNzYWdlKHBheWxvYWQsIHtcbiAgICAgICAgaHViSHR0cFVybCxcbiAgICAgICAgaHViUmVxdWVzdE9wdGlvbnNcbiAgICAgIH0pLFxuICAgICAgZmV0Y2goXG4gICAgICAgIGAke2h1Ykh0dHBVcmx9L3YxL2xpbmtCeUlkP2ZpZD0ke3JlcXVlc3RlckZpZH0mdGFyZ2V0X2ZpZD0ke2Nhc3RJZD8uZmlkfSZsaW5rX3R5cGU9Zm9sbG93YCxcbiAgICAgICAgaHViUmVxdWVzdE9wdGlvbnNcbiAgICAgICkudGhlbigocmVzKSA9PiByZXMub2sgfHwgcmVxdWVzdGVyRmlkID09PSBjYXN0SWQ/LmZpZCksXG4gICAgICBmZXRjaChcbiAgICAgICAgYCR7aHViSHR0cFVybH0vdjEvbGlua0J5SWQ/ZmlkPSR7Y2FzdElkPy5maWR9JnRhcmdldF9maWQ9JHtyZXF1ZXN0ZXJGaWR9JmxpbmtfdHlwZT1mb2xsb3dgLFxuICAgICAgICBodWJSZXF1ZXN0T3B0aW9uc1xuICAgICAgKS50aGVuKChyZXMpID0+IHJlcy5vayB8fCByZXF1ZXN0ZXJGaWQgPT09IGNhc3RJZD8uZmlkKSxcbiAgICAgIGZldGNoKFxuICAgICAgICBgJHtodWJIdHRwVXJsfS92MS9yZWFjdGlvbkJ5SWQ/ZmlkPSR7cmVxdWVzdGVyRmlkfSZyZWFjdGlvbl90eXBlPTEmdGFyZ2V0X2ZpZD0ke2Nhc3RJZD8uZmlkfSZ0YXJnZXRfaGFzaD0ke2Nhc3RJZD8uaGFzaH1gLFxuICAgICAgICBodWJSZXF1ZXN0T3B0aW9uc1xuICAgICAgKS50aGVuKChyZXMpID0+IHJlcy5vayksXG4gICAgICBmZXRjaChcbiAgICAgICAgYCR7aHViSHR0cFVybH0vdjEvcmVhY3Rpb25CeUlkP2ZpZD0ke3JlcXVlc3RlckZpZH0mcmVhY3Rpb25fdHlwZT0yJnRhcmdldF9maWQ9JHtjYXN0SWQ/LmZpZH0mdGFyZ2V0X2hhc2g9JHtjYXN0SWQ/Lmhhc2h9YCxcbiAgICAgICAgaHViUmVxdWVzdE9wdGlvbnNcbiAgICAgICkudGhlbigocmVzKSA9PiByZXMub2spLFxuICAgICAgZ2V0QWRkcmVzc2VzRm9yRmlkKHtcbiAgICAgICAgZmlkOiByZXF1ZXN0ZXJGaWQsXG4gICAgICAgIG9wdGlvbnM6IHtcbiAgICAgICAgICBodWJIdHRwVXJsLFxuICAgICAgICAgIGh1YlJlcXVlc3RPcHRpb25zXG4gICAgICAgIH1cbiAgICAgIH0pLFxuICAgICAgZ2V0VXNlckRhdGFGb3JGaWQoe1xuICAgICAgICBmaWQ6IHJlcXVlc3RlckZpZCxcbiAgICAgICAgb3B0aW9uczoge1xuICAgICAgICAgIGh1Ykh0dHBVcmwsXG4gICAgICAgICAgaHViUmVxdWVzdE9wdGlvbnNcbiAgICAgICAgfVxuICAgICAgfSlcbiAgICBdKTtcbiAgICBjb25zdCByZXF1ZXN0ZXJDdXN0b2R5QWRkcmVzcyA9IHJlcXVlc3RlckV0aEFkZHJlc3Nlcy5maW5kKFxuICAgICAgKGl0ZW0pID0+IGl0ZW0udHlwZSA9PT0gXCJjdXN0b2R5XCJcbiAgICApPy5hZGRyZXNzO1xuICAgIGlmICghcmVxdWVzdGVyQ3VzdG9keUFkZHJlc3MpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIkN1c3RvZHkgYWRkcmVzcyBub3QgZm91bmRcIik7XG4gICAgfVxuICAgIGNvbnN0IHJlcXVlc3RlclZlcmlmaWVkQWRkcmVzc2VzID0gcmVxdWVzdGVyRXRoQWRkcmVzc2VzLmZpbHRlcigoaXRlbSkgPT4gaXRlbS50eXBlID09PSBcInZlcmlmaWVkXCIpLm1hcCgoaXRlbSkgPT4gaXRlbS5hZGRyZXNzKTtcbiAgICBjb25zdCBodWJDb250ZXh0ID0ge1xuICAgICAgaXNWYWxpZDogdmFsaWRhdGlvblJlc3VsdC5pc1ZhbGlkLFxuICAgICAgY2FzdGVyRm9sbG93c1JlcXVlc3RlcixcbiAgICAgIHJlcXVlc3RlckZvbGxvd3NDYXN0ZXIsXG4gICAgICBsaWtlZENhc3QsXG4gICAgICByZWNhc3RlZENhc3QsXG4gICAgICByZXF1ZXN0ZXJWZXJpZmllZEFkZHJlc3NlcyxcbiAgICAgIHJlcXVlc3RlckN1c3RvZHlBZGRyZXNzLFxuICAgICAgcmVxdWVzdGVyVXNlckRhdGFcbiAgICB9O1xuICAgIHJldHVybiB7IC4uLnBhcnNlZERhdGEsIC4uLmh1YkNvbnRleHQgfTtcbiAgfVxuICByZXR1cm4gcGFyc2VkRGF0YTtcbn1cblxuZXhwb3J0IHtcbiAgZ2V0RnJhbWVNZXNzYWdlXG59O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/frames.js/dist/chunk-5TLR47X5.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/frames.js/dist/chunk-A7DY5J6N.js":
/*!*******************************************************!*\
  !*** ./node_modules/frames.js/dist/chunk-A7DY5J6N.js ***!
  \*******************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getFrameHtml: () => (/* binding */ getFrameHtml),\n/* harmony export */   getFrameHtmlHead: () => (/* binding */ getFrameHtmlHead)\n/* harmony export */ });\n/* harmony import */ var _chunk_NPHRKC5O_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./chunk-NPHRKC5O.js */ \"(rsc)/./node_modules/frames.js/dist/chunk-NPHRKC5O.js\");\n/* harmony import */ var _chunk_CGGPX3ON_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./chunk-CGGPX3ON.js */ \"(rsc)/./node_modules/frames.js/dist/chunk-CGGPX3ON.js\");\n\n\n\n// src/getFrameHtml.ts\nfunction getFrameHtml(frame, options = {}) {\n  const html = `<!DOCTYPE html>\n  <html>\n    <head>\n      <title>${options.title ?? \"frame\"}</title>\n      ${options.og?.title ? `<meta property=\"og:title\" content=\"${options.og.title}\"/>` : \"\"}\n      ${getFrameHtmlHead(frame)}\n      ${options.htmlHead || \"\"}\n    </head>\n    <body>${options.htmlBody ? options.htmlBody : \"\"}</body>\n  </html>`;\n  return html;\n}\nfunction getFrameHtmlHead(frame) {\n  const flattened = (0,_chunk_NPHRKC5O_js__WEBPACK_IMPORTED_MODULE_0__.getFrameFlattened)(frame);\n  const tags = Object.entries(flattened).map(([key, value]) => {\n    return value ? `<meta name=\"${key}\" content=\"${(0,_chunk_CGGPX3ON_js__WEBPACK_IMPORTED_MODULE_1__.escapeHtmlAttributeValue)(value)}\"/>` : null;\n  }).filter(Boolean);\n  return tags.join(\"\");\n}\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvZnJhbWVzLmpzL2Rpc3QvY2h1bmstQTdEWTVKNk4uanMiLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUU2QjtBQUdBOztBQUU3QjtBQUNBLHlDQUF5QztBQUN6QztBQUNBO0FBQ0E7QUFDQSxlQUFlLHlCQUF5QjtBQUN4QyxRQUFRLDBEQUEwRCxpQkFBaUI7QUFDbkYsUUFBUTtBQUNSLFFBQVE7QUFDUjtBQUNBLFlBQVkseUNBQXlDO0FBQ3JEO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLHFFQUFpQjtBQUNyQztBQUNBLGtDQUFrQyxJQUFJLGFBQWEsNEVBQXdCLFFBQVE7QUFDbkYsR0FBRztBQUNIO0FBQ0E7O0FBS0UiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9wbGViLWZpbmRlci8uL25vZGVfbW9kdWxlcy9mcmFtZXMuanMvZGlzdC9jaHVuay1BN0RZNUo2Ti5qcz8yYWFkIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7XG4gIGdldEZyYW1lRmxhdHRlbmVkXG59IGZyb20gXCIuL2NodW5rLU5QSFJLQzVPLmpzXCI7XG5pbXBvcnQge1xuICBlc2NhcGVIdG1sQXR0cmlidXRlVmFsdWVcbn0gZnJvbSBcIi4vY2h1bmstQ0dHUFgzT04uanNcIjtcblxuLy8gc3JjL2dldEZyYW1lSHRtbC50c1xuZnVuY3Rpb24gZ2V0RnJhbWVIdG1sKGZyYW1lLCBvcHRpb25zID0ge30pIHtcbiAgY29uc3QgaHRtbCA9IGA8IURPQ1RZUEUgaHRtbD5cbiAgPGh0bWw+XG4gICAgPGhlYWQ+XG4gICAgICA8dGl0bGU+JHtvcHRpb25zLnRpdGxlID8/IFwiZnJhbWVcIn08L3RpdGxlPlxuICAgICAgJHtvcHRpb25zLm9nPy50aXRsZSA/IGA8bWV0YSBwcm9wZXJ0eT1cIm9nOnRpdGxlXCIgY29udGVudD1cIiR7b3B0aW9ucy5vZy50aXRsZX1cIi8+YCA6IFwiXCJ9XG4gICAgICAke2dldEZyYW1lSHRtbEhlYWQoZnJhbWUpfVxuICAgICAgJHtvcHRpb25zLmh0bWxIZWFkIHx8IFwiXCJ9XG4gICAgPC9oZWFkPlxuICAgIDxib2R5PiR7b3B0aW9ucy5odG1sQm9keSA/IG9wdGlvbnMuaHRtbEJvZHkgOiBcIlwifTwvYm9keT5cbiAgPC9odG1sPmA7XG4gIHJldHVybiBodG1sO1xufVxuZnVuY3Rpb24gZ2V0RnJhbWVIdG1sSGVhZChmcmFtZSkge1xuICBjb25zdCBmbGF0dGVuZWQgPSBnZXRGcmFtZUZsYXR0ZW5lZChmcmFtZSk7XG4gIGNvbnN0IHRhZ3MgPSBPYmplY3QuZW50cmllcyhmbGF0dGVuZWQpLm1hcCgoW2tleSwgdmFsdWVdKSA9PiB7XG4gICAgcmV0dXJuIHZhbHVlID8gYDxtZXRhIG5hbWU9XCIke2tleX1cIiBjb250ZW50PVwiJHtlc2NhcGVIdG1sQXR0cmlidXRlVmFsdWUodmFsdWUpfVwiLz5gIDogbnVsbDtcbiAgfSkuZmlsdGVyKEJvb2xlYW4pO1xuICByZXR1cm4gdGFncy5qb2luKFwiXCIpO1xufVxuXG5leHBvcnQge1xuICBnZXRGcmFtZUh0bWwsXG4gIGdldEZyYW1lSHRtbEhlYWRcbn07XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/frames.js/dist/chunk-A7DY5J6N.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/frames.js/dist/chunk-CAY3YIQE.js":
/*!*******************************************************!*\
  !*** ./node_modules/frames.js/dist/chunk-CAY3YIQE.js ***!
  \*******************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   generatePostButtonTargetURL: () => (/* binding */ generatePostButtonTargetURL),\n/* harmony export */   generateTargetURL: () => (/* binding */ generateTargetURL),\n/* harmony export */   isFrameDefinition: () => (/* binding */ isFrameDefinition),\n/* harmony export */   isFrameRedirect: () => (/* binding */ isFrameRedirect),\n/* harmony export */   joinPaths: () => (/* binding */ joinPaths),\n/* harmony export */   parseButtonInformationFromTargetURL: () => (/* binding */ parseButtonInformationFromTargetURL),\n/* harmony export */   parseSearchParams: () => (/* binding */ parseSearchParams),\n/* harmony export */   resolveBaseUrl: () => (/* binding */ resolveBaseUrl)\n/* harmony export */ });\n/* harmony import */ var _chunk_CPDJUXZV_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./chunk-CPDJUXZV.js */ \"(rsc)/./node_modules/frames.js/dist/chunk-CPDJUXZV.js\");\n\n\n// src/core/utils.ts\nvar buttonActionToCode = {\n  post: \"p\",\n  post_redirect: \"pr\"\n};\nvar BUTTON_INFORMATION_SEARCH_PARAM_NAME = \"__bi\";\nfunction joinPaths(pathA, pathB) {\n  return pathB === \"/\" ? pathA : [pathA, pathB].join(\"/\").replace(/\\/{2,}/g, \"/\");\n}\nfunction resolveBaseUrl(request, baseUrl, basePath) {\n  if (baseUrl) {\n    if (basePath === \"/\" || basePath === \"\") {\n      return baseUrl;\n    }\n    return new URL(joinPaths(baseUrl.pathname, basePath), baseUrl);\n  }\n  return new URL(basePath, request.url);\n}\nfunction isValidButtonIndex(index) {\n  return typeof index === \"number\" && !Number.isNaN(index) && index >= 1 && index <= 4;\n}\nfunction isValidButtonAction(action) {\n  return typeof action === \"string\" && (action === \"post\" || action === \"post_redirect\");\n}\nfunction generateTargetURL({\n  baseUrl,\n  target\n}) {\n  if (!target) {\n    return new URL(baseUrl);\n  }\n  if (typeof target === \"object\") {\n    return new URL(\n      (0,_chunk_CPDJUXZV_js__WEBPACK_IMPORTED_MODULE_0__.formatUrl)({\n        host: baseUrl.host,\n        hash: baseUrl.hash,\n        hostname: baseUrl.hostname,\n        href: baseUrl.href,\n        // pathname: url.pathname,\n        protocol: baseUrl.protocol,\n        // we ignore existing search params and uses only new ones\n        // search: url.search,\n        port: baseUrl.port,\n        // query: url.searchParams,\n        ...target,\n        pathname: joinPaths(baseUrl.pathname, target.pathname ?? \"\")\n      })\n    );\n  }\n  try {\n    return new URL(target);\n  } catch {\n    const url = new URL(baseUrl);\n    const finalPathname = joinPaths(url.pathname, target);\n    return new URL(finalPathname, url);\n  }\n}\nfunction generatePostButtonTargetURL({\n  buttonIndex,\n  buttonAction,\n  target,\n  baseUrl\n}) {\n  const url = new URL(generateTargetURL({ baseUrl, target }));\n  url.searchParams.set(\n    BUTTON_INFORMATION_SEARCH_PARAM_NAME,\n    `${buttonIndex}-${buttonActionToCode[buttonAction]}`\n  );\n  return url.toString();\n}\nfunction parseSearchParams(url) {\n  const searchParams = Object.fromEntries(url.searchParams);\n  return {\n    searchParams\n  };\n}\nfunction parseButtonInformationFromTargetURL(url) {\n  const buttonInformation = url.searchParams.get(\n    BUTTON_INFORMATION_SEARCH_PARAM_NAME\n  );\n  if (!buttonInformation) {\n    return void 0;\n  }\n  const [buttonIndex, buttonActionCode] = buttonInformation.split(\"-\");\n  if (!buttonIndex || !buttonActionCode) {\n    return void 0;\n  }\n  const index = parseInt(buttonIndex, 10);\n  const action = Object.entries(buttonActionToCode).find(\n    ([, value]) => value === buttonActionCode\n  )?.[0];\n  if (!isValidButtonIndex(index) || !isValidButtonAction(action)) {\n    return void 0;\n  }\n  return {\n    action,\n    index\n  };\n}\nfunction isFrameRedirect(value) {\n  return value !== null && typeof value === \"object\" && \"kind\" in value && value.kind === \"redirect\";\n}\nfunction isFrameDefinition(value) {\n  return value !== null && typeof value === \"object\" && \"image\" in value;\n}\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvZnJhbWVzLmpzL2Rpc3QvY2h1bmstQ0FZM1lJUUUuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7O0FBRTZCOztBQUU3QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNFQUFzRSxHQUFHO0FBQ3pFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNLDZEQUFTO0FBQ2Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNELDBDQUEwQyxpQkFBaUI7QUFDM0Q7QUFDQTtBQUNBLE9BQU8sWUFBWSxHQUFHLGlDQUFpQztBQUN2RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQVdFIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcGxlYi1maW5kZXIvLi9ub2RlX21vZHVsZXMvZnJhbWVzLmpzL2Rpc3QvY2h1bmstQ0FZM1lJUUUuanM/MWQ4NCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge1xuICBmb3JtYXRVcmxcbn0gZnJvbSBcIi4vY2h1bmstQ1BESlVYWlYuanNcIjtcblxuLy8gc3JjL2NvcmUvdXRpbHMudHNcbnZhciBidXR0b25BY3Rpb25Ub0NvZGUgPSB7XG4gIHBvc3Q6IFwicFwiLFxuICBwb3N0X3JlZGlyZWN0OiBcInByXCJcbn07XG52YXIgQlVUVE9OX0lORk9STUFUSU9OX1NFQVJDSF9QQVJBTV9OQU1FID0gXCJfX2JpXCI7XG5mdW5jdGlvbiBqb2luUGF0aHMocGF0aEEsIHBhdGhCKSB7XG4gIHJldHVybiBwYXRoQiA9PT0gXCIvXCIgPyBwYXRoQSA6IFtwYXRoQSwgcGF0aEJdLmpvaW4oXCIvXCIpLnJlcGxhY2UoL1xcL3syLH0vZywgXCIvXCIpO1xufVxuZnVuY3Rpb24gcmVzb2x2ZUJhc2VVcmwocmVxdWVzdCwgYmFzZVVybCwgYmFzZVBhdGgpIHtcbiAgaWYgKGJhc2VVcmwpIHtcbiAgICBpZiAoYmFzZVBhdGggPT09IFwiL1wiIHx8IGJhc2VQYXRoID09PSBcIlwiKSB7XG4gICAgICByZXR1cm4gYmFzZVVybDtcbiAgICB9XG4gICAgcmV0dXJuIG5ldyBVUkwoam9pblBhdGhzKGJhc2VVcmwucGF0aG5hbWUsIGJhc2VQYXRoKSwgYmFzZVVybCk7XG4gIH1cbiAgcmV0dXJuIG5ldyBVUkwoYmFzZVBhdGgsIHJlcXVlc3QudXJsKTtcbn1cbmZ1bmN0aW9uIGlzVmFsaWRCdXR0b25JbmRleChpbmRleCkge1xuICByZXR1cm4gdHlwZW9mIGluZGV4ID09PSBcIm51bWJlclwiICYmICFOdW1iZXIuaXNOYU4oaW5kZXgpICYmIGluZGV4ID49IDEgJiYgaW5kZXggPD0gNDtcbn1cbmZ1bmN0aW9uIGlzVmFsaWRCdXR0b25BY3Rpb24oYWN0aW9uKSB7XG4gIHJldHVybiB0eXBlb2YgYWN0aW9uID09PSBcInN0cmluZ1wiICYmIChhY3Rpb24gPT09IFwicG9zdFwiIHx8IGFjdGlvbiA9PT0gXCJwb3N0X3JlZGlyZWN0XCIpO1xufVxuZnVuY3Rpb24gZ2VuZXJhdGVUYXJnZXRVUkwoe1xuICBiYXNlVXJsLFxuICB0YXJnZXRcbn0pIHtcbiAgaWYgKCF0YXJnZXQpIHtcbiAgICByZXR1cm4gbmV3IFVSTChiYXNlVXJsKTtcbiAgfVxuICBpZiAodHlwZW9mIHRhcmdldCA9PT0gXCJvYmplY3RcIikge1xuICAgIHJldHVybiBuZXcgVVJMKFxuICAgICAgZm9ybWF0VXJsKHtcbiAgICAgICAgaG9zdDogYmFzZVVybC5ob3N0LFxuICAgICAgICBoYXNoOiBiYXNlVXJsLmhhc2gsXG4gICAgICAgIGhvc3RuYW1lOiBiYXNlVXJsLmhvc3RuYW1lLFxuICAgICAgICBocmVmOiBiYXNlVXJsLmhyZWYsXG4gICAgICAgIC8vIHBhdGhuYW1lOiB1cmwucGF0aG5hbWUsXG4gICAgICAgIHByb3RvY29sOiBiYXNlVXJsLnByb3RvY29sLFxuICAgICAgICAvLyB3ZSBpZ25vcmUgZXhpc3Rpbmcgc2VhcmNoIHBhcmFtcyBhbmQgdXNlcyBvbmx5IG5ldyBvbmVzXG4gICAgICAgIC8vIHNlYXJjaDogdXJsLnNlYXJjaCxcbiAgICAgICAgcG9ydDogYmFzZVVybC5wb3J0LFxuICAgICAgICAvLyBxdWVyeTogdXJsLnNlYXJjaFBhcmFtcyxcbiAgICAgICAgLi4udGFyZ2V0LFxuICAgICAgICBwYXRobmFtZTogam9pblBhdGhzKGJhc2VVcmwucGF0aG5hbWUsIHRhcmdldC5wYXRobmFtZSA/PyBcIlwiKVxuICAgICAgfSlcbiAgICApO1xuICB9XG4gIHRyeSB7XG4gICAgcmV0dXJuIG5ldyBVUkwodGFyZ2V0KTtcbiAgfSBjYXRjaCB7XG4gICAgY29uc3QgdXJsID0gbmV3IFVSTChiYXNlVXJsKTtcbiAgICBjb25zdCBmaW5hbFBhdGhuYW1lID0gam9pblBhdGhzKHVybC5wYXRobmFtZSwgdGFyZ2V0KTtcbiAgICByZXR1cm4gbmV3IFVSTChmaW5hbFBhdGhuYW1lLCB1cmwpO1xuICB9XG59XG5mdW5jdGlvbiBnZW5lcmF0ZVBvc3RCdXR0b25UYXJnZXRVUkwoe1xuICBidXR0b25JbmRleCxcbiAgYnV0dG9uQWN0aW9uLFxuICB0YXJnZXQsXG4gIGJhc2VVcmxcbn0pIHtcbiAgY29uc3QgdXJsID0gbmV3IFVSTChnZW5lcmF0ZVRhcmdldFVSTCh7IGJhc2VVcmwsIHRhcmdldCB9KSk7XG4gIHVybC5zZWFyY2hQYXJhbXMuc2V0KFxuICAgIEJVVFRPTl9JTkZPUk1BVElPTl9TRUFSQ0hfUEFSQU1fTkFNRSxcbiAgICBgJHtidXR0b25JbmRleH0tJHtidXR0b25BY3Rpb25Ub0NvZGVbYnV0dG9uQWN0aW9uXX1gXG4gICk7XG4gIHJldHVybiB1cmwudG9TdHJpbmcoKTtcbn1cbmZ1bmN0aW9uIHBhcnNlU2VhcmNoUGFyYW1zKHVybCkge1xuICBjb25zdCBzZWFyY2hQYXJhbXMgPSBPYmplY3QuZnJvbUVudHJpZXModXJsLnNlYXJjaFBhcmFtcyk7XG4gIHJldHVybiB7XG4gICAgc2VhcmNoUGFyYW1zXG4gIH07XG59XG5mdW5jdGlvbiBwYXJzZUJ1dHRvbkluZm9ybWF0aW9uRnJvbVRhcmdldFVSTCh1cmwpIHtcbiAgY29uc3QgYnV0dG9uSW5mb3JtYXRpb24gPSB1cmwuc2VhcmNoUGFyYW1zLmdldChcbiAgICBCVVRUT05fSU5GT1JNQVRJT05fU0VBUkNIX1BBUkFNX05BTUVcbiAgKTtcbiAgaWYgKCFidXR0b25JbmZvcm1hdGlvbikge1xuICAgIHJldHVybiB2b2lkIDA7XG4gIH1cbiAgY29uc3QgW2J1dHRvbkluZGV4LCBidXR0b25BY3Rpb25Db2RlXSA9IGJ1dHRvbkluZm9ybWF0aW9uLnNwbGl0KFwiLVwiKTtcbiAgaWYgKCFidXR0b25JbmRleCB8fCAhYnV0dG9uQWN0aW9uQ29kZSkge1xuICAgIHJldHVybiB2b2lkIDA7XG4gIH1cbiAgY29uc3QgaW5kZXggPSBwYXJzZUludChidXR0b25JbmRleCwgMTApO1xuICBjb25zdCBhY3Rpb24gPSBPYmplY3QuZW50cmllcyhidXR0b25BY3Rpb25Ub0NvZGUpLmZpbmQoXG4gICAgKFssIHZhbHVlXSkgPT4gdmFsdWUgPT09IGJ1dHRvbkFjdGlvbkNvZGVcbiAgKT8uWzBdO1xuICBpZiAoIWlzVmFsaWRCdXR0b25JbmRleChpbmRleCkgfHwgIWlzVmFsaWRCdXR0b25BY3Rpb24oYWN0aW9uKSkge1xuICAgIHJldHVybiB2b2lkIDA7XG4gIH1cbiAgcmV0dXJuIHtcbiAgICBhY3Rpb24sXG4gICAgaW5kZXhcbiAgfTtcbn1cbmZ1bmN0aW9uIGlzRnJhbWVSZWRpcmVjdCh2YWx1ZSkge1xuICByZXR1cm4gdmFsdWUgIT09IG51bGwgJiYgdHlwZW9mIHZhbHVlID09PSBcIm9iamVjdFwiICYmIFwia2luZFwiIGluIHZhbHVlICYmIHZhbHVlLmtpbmQgPT09IFwicmVkaXJlY3RcIjtcbn1cbmZ1bmN0aW9uIGlzRnJhbWVEZWZpbml0aW9uKHZhbHVlKSB7XG4gIHJldHVybiB2YWx1ZSAhPT0gbnVsbCAmJiB0eXBlb2YgdmFsdWUgPT09IFwib2JqZWN0XCIgJiYgXCJpbWFnZVwiIGluIHZhbHVlO1xufVxuXG5leHBvcnQge1xuICBqb2luUGF0aHMsXG4gIHJlc29sdmVCYXNlVXJsLFxuICBnZW5lcmF0ZVRhcmdldFVSTCxcbiAgZ2VuZXJhdGVQb3N0QnV0dG9uVGFyZ2V0VVJMLFxuICBwYXJzZVNlYXJjaFBhcmFtcyxcbiAgcGFyc2VCdXR0b25JbmZvcm1hdGlvbkZyb21UYXJnZXRVUkwsXG4gIGlzRnJhbWVSZWRpcmVjdCxcbiAgaXNGcmFtZURlZmluaXRpb25cbn07XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/frames.js/dist/chunk-CAY3YIQE.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/frames.js/dist/chunk-CGGPX3ON.js":
/*!*******************************************************!*\
  !*** ./node_modules/frames.js/dist/chunk-CGGPX3ON.js ***!
  \*******************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   bytesToHexString: () => (/* binding */ bytesToHexString),\n/* harmony export */   escapeHtmlAttributeValue: () => (/* binding */ escapeHtmlAttributeValue),\n/* harmony export */   extractAddressFromJSONMessage: () => (/* binding */ extractAddressFromJSONMessage),\n/* harmony export */   getByteLength: () => (/* binding */ getByteLength),\n/* harmony export */   getEnumKeyByEnumValue: () => (/* binding */ getEnumKeyByEnumValue),\n/* harmony export */   getFrameMessageFromRequestBody: () => (/* binding */ getFrameMessageFromRequestBody),\n/* harmony export */   hexStringToUint8Array: () => (/* binding */ hexStringToUint8Array),\n/* harmony export */   isFrameButtonLink: () => (/* binding */ isFrameButtonLink),\n/* harmony export */   isFrameButtonMint: () => (/* binding */ isFrameButtonMint),\n/* harmony export */   isFrameButtonTx: () => (/* binding */ isFrameButtonTx),\n/* harmony export */   isValidVersion: () => (/* binding */ isValidVersion),\n/* harmony export */   normalizeCastId: () => (/* binding */ normalizeCastId)\n/* harmony export */ });\n/* harmony import */ var _chunk_MI43JRER_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./chunk-MI43JRER.js */ \"(rsc)/./node_modules/frames.js/dist/chunk-MI43JRER.js\");\n\n\n// src/utils.ts\nfunction isFrameButtonLink(frameButton) {\n  return frameButton.action === \"link\";\n}\nfunction isFrameButtonTx(frameButton) {\n  return frameButton.action === \"tx\";\n}\nfunction isFrameButtonMint(frameButton) {\n  return frameButton.action === \"mint\";\n}\nfunction bytesToHexString(bytes) {\n  return `0x${Buffer.from(bytes).toString(\"hex\")}`;\n}\nfunction getByteLength(str) {\n  return Buffer.from(str).byteLength;\n}\nfunction hexStringToUint8Array(hexstring) {\n  const matches = hexstring.match(/.{1,2}/g);\n  if (!matches) {\n    throw new Error(\"Invalid hex string provided\");\n  }\n  return new Uint8Array(matches.map((byte) => parseInt(byte, 16)));\n}\nfunction normalizeCastId(castId) {\n  return {\n    fid: castId.fid,\n    hash: bytesToHexString(castId.hash)\n  };\n}\nfunction getFrameMessageFromRequestBody(body) {\n  return _chunk_MI43JRER_js__WEBPACK_IMPORTED_MODULE_0__.Message.decode(Buffer.from(body.trustedData.messageBytes, \"hex\"));\n}\nfunction isValidVersion(version) {\n  if (version === \"vNext\") {\n    return true;\n  }\n  const pattern = /^\\d{4}-\\d{2}-\\d{2}$/;\n  if (!pattern.test(version)) {\n    return false;\n  }\n  return true;\n}\nfunction getEnumKeyByEnumValue(enumDefinition, enumValue) {\n  return Object.keys(enumDefinition)[Object.values(enumDefinition).indexOf(enumValue)] ?? \"\";\n}\nfunction extractAddressFromJSONMessage(message) {\n  const { data } = _chunk_MI43JRER_js__WEBPACK_IMPORTED_MODULE_0__.Message.fromJSON(message);\n  if (!data) {\n    throw new Error(\"Invalid message provided. Message data is missing\");\n  }\n  if (data.type !== 7 /* VERIFICATION_ADD_ETH_ADDRESS */) {\n    throw new Error(\n      `Invalid message provided. Expected message type to be ${7 /* VERIFICATION_ADD_ETH_ADDRESS */} but got ${getEnumKeyByEnumValue(_chunk_MI43JRER_js__WEBPACK_IMPORTED_MODULE_0__.MessageType, data.type)}.`\n    );\n  }\n  if (!data.verificationAddAddressBody) {\n    throw new Error(\n      \"Invalid message provided. Message data is missing verificationAddAddressBody\"\n    );\n  }\n  if (data.verificationAddAddressBody.protocol !== 0 /* ETHEREUM */) {\n    return null;\n  }\n  return message.data.verificationAddAddressBody.address;\n}\nfunction escapeHtmlAttributeValue(value) {\n  return value.replace(/[\"'<>]/g, (char) => {\n    switch (char) {\n      case '\"':\n        return \"&quot;\";\n      case \"'\":\n        return \"&#39;\";\n      case \"<\":\n        return \"&lt;\";\n      case \">\":\n        return \"&gt;\";\n      default:\n        return char;\n    }\n  });\n}\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvZnJhbWVzLmpzL2Rpc3QvY2h1bmstQ0dHUFgzT04uanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7OztBQUc2Qjs7QUFFN0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWMsbUNBQW1DO0FBQ2pEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQ0FBcUMsSUFBSTtBQUN6QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTLHVEQUFPO0FBQ2hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1QkFBdUIsRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFO0FBQ3JDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVUsT0FBTyxFQUFFLHVEQUFPO0FBQzFCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwrREFBK0Qsc0NBQXNDLFVBQVUsc0JBQXNCLDJEQUFXLGFBQWE7QUFDN0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQkFBc0I7QUFDdEI7QUFDQSxxQkFBcUI7QUFDckI7QUFDQSxvQkFBb0I7QUFDcEI7QUFDQSxvQkFBb0I7QUFDcEI7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIOztBQWVFIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcGxlYi1maW5kZXIvLi9ub2RlX21vZHVsZXMvZnJhbWVzLmpzL2Rpc3QvY2h1bmstQ0dHUFgzT04uanM/YjM4OSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge1xuICBNZXNzYWdlLFxuICBNZXNzYWdlVHlwZVxufSBmcm9tIFwiLi9jaHVuay1NSTQzSlJFUi5qc1wiO1xuXG4vLyBzcmMvdXRpbHMudHNcbmZ1bmN0aW9uIGlzRnJhbWVCdXR0b25MaW5rKGZyYW1lQnV0dG9uKSB7XG4gIHJldHVybiBmcmFtZUJ1dHRvbi5hY3Rpb24gPT09IFwibGlua1wiO1xufVxuZnVuY3Rpb24gaXNGcmFtZUJ1dHRvblR4KGZyYW1lQnV0dG9uKSB7XG4gIHJldHVybiBmcmFtZUJ1dHRvbi5hY3Rpb24gPT09IFwidHhcIjtcbn1cbmZ1bmN0aW9uIGlzRnJhbWVCdXR0b25NaW50KGZyYW1lQnV0dG9uKSB7XG4gIHJldHVybiBmcmFtZUJ1dHRvbi5hY3Rpb24gPT09IFwibWludFwiO1xufVxuZnVuY3Rpb24gYnl0ZXNUb0hleFN0cmluZyhieXRlcykge1xuICByZXR1cm4gYDB4JHtCdWZmZXIuZnJvbShieXRlcykudG9TdHJpbmcoXCJoZXhcIil9YDtcbn1cbmZ1bmN0aW9uIGdldEJ5dGVMZW5ndGgoc3RyKSB7XG4gIHJldHVybiBCdWZmZXIuZnJvbShzdHIpLmJ5dGVMZW5ndGg7XG59XG5mdW5jdGlvbiBoZXhTdHJpbmdUb1VpbnQ4QXJyYXkoaGV4c3RyaW5nKSB7XG4gIGNvbnN0IG1hdGNoZXMgPSBoZXhzdHJpbmcubWF0Y2goLy57MSwyfS9nKTtcbiAgaWYgKCFtYXRjaGVzKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBoZXggc3RyaW5nIHByb3ZpZGVkXCIpO1xuICB9XG4gIHJldHVybiBuZXcgVWludDhBcnJheShtYXRjaGVzLm1hcCgoYnl0ZSkgPT4gcGFyc2VJbnQoYnl0ZSwgMTYpKSk7XG59XG5mdW5jdGlvbiBub3JtYWxpemVDYXN0SWQoY2FzdElkKSB7XG4gIHJldHVybiB7XG4gICAgZmlkOiBjYXN0SWQuZmlkLFxuICAgIGhhc2g6IGJ5dGVzVG9IZXhTdHJpbmcoY2FzdElkLmhhc2gpXG4gIH07XG59XG5mdW5jdGlvbiBnZXRGcmFtZU1lc3NhZ2VGcm9tUmVxdWVzdEJvZHkoYm9keSkge1xuICByZXR1cm4gTWVzc2FnZS5kZWNvZGUoQnVmZmVyLmZyb20oYm9keS50cnVzdGVkRGF0YS5tZXNzYWdlQnl0ZXMsIFwiaGV4XCIpKTtcbn1cbmZ1bmN0aW9uIGlzVmFsaWRWZXJzaW9uKHZlcnNpb24pIHtcbiAgaWYgKHZlcnNpb24gPT09IFwidk5leHRcIikge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG4gIGNvbnN0IHBhdHRlcm4gPSAvXlxcZHs0fS1cXGR7Mn0tXFxkezJ9JC87XG4gIGlmICghcGF0dGVybi50ZXN0KHZlcnNpb24pKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIHJldHVybiB0cnVlO1xufVxuZnVuY3Rpb24gZ2V0RW51bUtleUJ5RW51bVZhbHVlKGVudW1EZWZpbml0aW9uLCBlbnVtVmFsdWUpIHtcbiAgcmV0dXJuIE9iamVjdC5rZXlzKGVudW1EZWZpbml0aW9uKVtPYmplY3QudmFsdWVzKGVudW1EZWZpbml0aW9uKS5pbmRleE9mKGVudW1WYWx1ZSldID8/IFwiXCI7XG59XG5mdW5jdGlvbiBleHRyYWN0QWRkcmVzc0Zyb21KU09OTWVzc2FnZShtZXNzYWdlKSB7XG4gIGNvbnN0IHsgZGF0YSB9ID0gTWVzc2FnZS5mcm9tSlNPTihtZXNzYWdlKTtcbiAgaWYgKCFkYXRhKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBtZXNzYWdlIHByb3ZpZGVkLiBNZXNzYWdlIGRhdGEgaXMgbWlzc2luZ1wiKTtcbiAgfVxuICBpZiAoZGF0YS50eXBlICE9PSA3IC8qIFZFUklGSUNBVElPTl9BRERfRVRIX0FERFJFU1MgKi8pIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICBgSW52YWxpZCBtZXNzYWdlIHByb3ZpZGVkLiBFeHBlY3RlZCBtZXNzYWdlIHR5cGUgdG8gYmUgJHs3IC8qIFZFUklGSUNBVElPTl9BRERfRVRIX0FERFJFU1MgKi99IGJ1dCBnb3QgJHtnZXRFbnVtS2V5QnlFbnVtVmFsdWUoTWVzc2FnZVR5cGUsIGRhdGEudHlwZSl9LmBcbiAgICApO1xuICB9XG4gIGlmICghZGF0YS52ZXJpZmljYXRpb25BZGRBZGRyZXNzQm9keSkge1xuICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgIFwiSW52YWxpZCBtZXNzYWdlIHByb3ZpZGVkLiBNZXNzYWdlIGRhdGEgaXMgbWlzc2luZyB2ZXJpZmljYXRpb25BZGRBZGRyZXNzQm9keVwiXG4gICAgKTtcbiAgfVxuICBpZiAoZGF0YS52ZXJpZmljYXRpb25BZGRBZGRyZXNzQm9keS5wcm90b2NvbCAhPT0gMCAvKiBFVEhFUkVVTSAqLykge1xuICAgIHJldHVybiBudWxsO1xuICB9XG4gIHJldHVybiBtZXNzYWdlLmRhdGEudmVyaWZpY2F0aW9uQWRkQWRkcmVzc0JvZHkuYWRkcmVzcztcbn1cbmZ1bmN0aW9uIGVzY2FwZUh0bWxBdHRyaWJ1dGVWYWx1ZSh2YWx1ZSkge1xuICByZXR1cm4gdmFsdWUucmVwbGFjZSgvW1wiJzw+XS9nLCAoY2hhcikgPT4ge1xuICAgIHN3aXRjaCAoY2hhcikge1xuICAgICAgY2FzZSAnXCInOlxuICAgICAgICByZXR1cm4gXCImcXVvdDtcIjtcbiAgICAgIGNhc2UgXCInXCI6XG4gICAgICAgIHJldHVybiBcIiYjMzk7XCI7XG4gICAgICBjYXNlIFwiPFwiOlxuICAgICAgICByZXR1cm4gXCImbHQ7XCI7XG4gICAgICBjYXNlIFwiPlwiOlxuICAgICAgICByZXR1cm4gXCImZ3Q7XCI7XG4gICAgICBkZWZhdWx0OlxuICAgICAgICByZXR1cm4gY2hhcjtcbiAgICB9XG4gIH0pO1xufVxuXG5leHBvcnQge1xuICBpc0ZyYW1lQnV0dG9uTGluayxcbiAgaXNGcmFtZUJ1dHRvblR4LFxuICBpc0ZyYW1lQnV0dG9uTWludCxcbiAgYnl0ZXNUb0hleFN0cmluZyxcbiAgZ2V0Qnl0ZUxlbmd0aCxcbiAgaGV4U3RyaW5nVG9VaW50OEFycmF5LFxuICBub3JtYWxpemVDYXN0SWQsXG4gIGdldEZyYW1lTWVzc2FnZUZyb21SZXF1ZXN0Qm9keSxcbiAgaXNWYWxpZFZlcnNpb24sXG4gIGdldEVudW1LZXlCeUVudW1WYWx1ZSxcbiAgZXh0cmFjdEFkZHJlc3NGcm9tSlNPTk1lc3NhZ2UsXG4gIGVzY2FwZUh0bWxBdHRyaWJ1dGVWYWx1ZVxufTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/frames.js/dist/chunk-CGGPX3ON.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/frames.js/dist/chunk-CPDJUXZV.js":
/*!*******************************************************!*\
  !*** ./node_modules/frames.js/dist/chunk-CPDJUXZV.js ***!
  \*******************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   formatUrl: () => (/* binding */ formatUrl)\n/* harmony export */ });\n// src/core/formatUrl.ts\nfunction stringifyUrlQueryParam(param) {\n  if (typeof param === \"string\" || typeof param === \"number\" && !isNaN(param) || typeof param === \"boolean\") {\n    return String(param);\n  }\n  return \"\";\n}\nfunction urlQueryToSearchParams(urlQuery) {\n  const result = new URLSearchParams();\n  Object.entries(urlQuery).forEach(([key, value]) => {\n    if (Array.isArray(value)) {\n      value.forEach((item) => {\n        result.append(key, stringifyUrlQueryParam(item));\n      });\n    } else {\n      result.set(key, stringifyUrlQueryParam(value));\n    }\n  });\n  return result;\n}\nvar slashedProtocols = /https?|ftp|gopher|file/;\nfunction formatUrl(urlObj) {\n  let { auth } = urlObj;\n  const { hostname } = urlObj;\n  let protocol = urlObj.protocol || \"\";\n  let pathname = urlObj.pathname || \"\";\n  let hash = urlObj.hash || \"\";\n  let query = urlObj.query || \"\";\n  let host = false;\n  auth = auth ? `${encodeURIComponent(auth).replace(/%3A/i, \":\")}@` : \"\";\n  if (urlObj.host) {\n    host = auth + urlObj.host;\n  } else if (hostname) {\n    host = auth + (hostname.includes(\":\") ? `[${hostname}]` : hostname);\n    if (urlObj.port) {\n      host += `:${urlObj.port}`;\n    }\n  }\n  if (query && typeof query === \"object\") {\n    query = String(urlQueryToSearchParams(query));\n  }\n  let search = urlObj.search || query && `?${query}` || \"\";\n  if (protocol && !protocol.endsWith(\":\"))\n    protocol += \":\";\n  if (urlObj.slashes || (!protocol || slashedProtocols.test(protocol)) && host !== false) {\n    host = `//${host || \"\"}`;\n    if (pathname && !pathname.startsWith(\"/\")) {\n      pathname = `/${pathname}`;\n    }\n  } else if (!host) {\n    host = \"\";\n  }\n  if (hash && !hash.startsWith(\"#\"))\n    hash = `#${hash}`;\n  if (search && !search.startsWith(\"?\"))\n    search = `?${search}`;\n  pathname = pathname.replace(/[?#]/g, encodeURIComponent);\n  search = search.replace(\"#\", \"%23\");\n  return `${protocol}${host}${pathname}${search}${hash}`;\n}\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvZnJhbWVzLmpzL2Rpc3QvY2h1bmstQ1BESlVYWlYuanMiLCJtYXBwaW5ncyI6Ijs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQLE1BQU07QUFDTjtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUSxPQUFPO0FBQ2YsVUFBVSxXQUFXO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQkFBbUIsOENBQThDO0FBQ2pFO0FBQ0E7QUFDQSxJQUFJO0FBQ0osZ0RBQWdELFNBQVM7QUFDekQ7QUFDQSxrQkFBa0IsWUFBWTtBQUM5QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkNBQTZDLE1BQU07QUFDbkQ7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCLFdBQVc7QUFDM0I7QUFDQSxxQkFBcUIsU0FBUztBQUM5QjtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQSxlQUFlLEtBQUs7QUFDcEI7QUFDQSxpQkFBaUIsT0FBTztBQUN4QjtBQUNBO0FBQ0EsWUFBWSxTQUFTLEVBQUUsS0FBSyxFQUFFLFNBQVMsRUFBRSxPQUFPLEVBQUUsS0FBSztBQUN2RDs7QUFJRSIsInNvdXJjZXMiOlsid2VicGFjazovL3BsZWItZmluZGVyLy4vbm9kZV9tb2R1bGVzL2ZyYW1lcy5qcy9kaXN0L2NodW5rLUNQREpVWFpWLmpzP2M0NGMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gc3JjL2NvcmUvZm9ybWF0VXJsLnRzXG5mdW5jdGlvbiBzdHJpbmdpZnlVcmxRdWVyeVBhcmFtKHBhcmFtKSB7XG4gIGlmICh0eXBlb2YgcGFyYW0gPT09IFwic3RyaW5nXCIgfHwgdHlwZW9mIHBhcmFtID09PSBcIm51bWJlclwiICYmICFpc05hTihwYXJhbSkgfHwgdHlwZW9mIHBhcmFtID09PSBcImJvb2xlYW5cIikge1xuICAgIHJldHVybiBTdHJpbmcocGFyYW0pO1xuICB9XG4gIHJldHVybiBcIlwiO1xufVxuZnVuY3Rpb24gdXJsUXVlcnlUb1NlYXJjaFBhcmFtcyh1cmxRdWVyeSkge1xuICBjb25zdCByZXN1bHQgPSBuZXcgVVJMU2VhcmNoUGFyYW1zKCk7XG4gIE9iamVjdC5lbnRyaWVzKHVybFF1ZXJ5KS5mb3JFYWNoKChba2V5LCB2YWx1ZV0pID0+IHtcbiAgICBpZiAoQXJyYXkuaXNBcnJheSh2YWx1ZSkpIHtcbiAgICAgIHZhbHVlLmZvckVhY2goKGl0ZW0pID0+IHtcbiAgICAgICAgcmVzdWx0LmFwcGVuZChrZXksIHN0cmluZ2lmeVVybFF1ZXJ5UGFyYW0oaXRlbSkpO1xuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJlc3VsdC5zZXQoa2V5LCBzdHJpbmdpZnlVcmxRdWVyeVBhcmFtKHZhbHVlKSk7XG4gICAgfVxuICB9KTtcbiAgcmV0dXJuIHJlc3VsdDtcbn1cbnZhciBzbGFzaGVkUHJvdG9jb2xzID0gL2h0dHBzP3xmdHB8Z29waGVyfGZpbGUvO1xuZnVuY3Rpb24gZm9ybWF0VXJsKHVybE9iaikge1xuICBsZXQgeyBhdXRoIH0gPSB1cmxPYmo7XG4gIGNvbnN0IHsgaG9zdG5hbWUgfSA9IHVybE9iajtcbiAgbGV0IHByb3RvY29sID0gdXJsT2JqLnByb3RvY29sIHx8IFwiXCI7XG4gIGxldCBwYXRobmFtZSA9IHVybE9iai5wYXRobmFtZSB8fCBcIlwiO1xuICBsZXQgaGFzaCA9IHVybE9iai5oYXNoIHx8IFwiXCI7XG4gIGxldCBxdWVyeSA9IHVybE9iai5xdWVyeSB8fCBcIlwiO1xuICBsZXQgaG9zdCA9IGZhbHNlO1xuICBhdXRoID0gYXV0aCA/IGAke2VuY29kZVVSSUNvbXBvbmVudChhdXRoKS5yZXBsYWNlKC8lM0EvaSwgXCI6XCIpfUBgIDogXCJcIjtcbiAgaWYgKHVybE9iai5ob3N0KSB7XG4gICAgaG9zdCA9IGF1dGggKyB1cmxPYmouaG9zdDtcbiAgfSBlbHNlIGlmIChob3N0bmFtZSkge1xuICAgIGhvc3QgPSBhdXRoICsgKGhvc3RuYW1lLmluY2x1ZGVzKFwiOlwiKSA/IGBbJHtob3N0bmFtZX1dYCA6IGhvc3RuYW1lKTtcbiAgICBpZiAodXJsT2JqLnBvcnQpIHtcbiAgICAgIGhvc3QgKz0gYDoke3VybE9iai5wb3J0fWA7XG4gICAgfVxuICB9XG4gIGlmIChxdWVyeSAmJiB0eXBlb2YgcXVlcnkgPT09IFwib2JqZWN0XCIpIHtcbiAgICBxdWVyeSA9IFN0cmluZyh1cmxRdWVyeVRvU2VhcmNoUGFyYW1zKHF1ZXJ5KSk7XG4gIH1cbiAgbGV0IHNlYXJjaCA9IHVybE9iai5zZWFyY2ggfHwgcXVlcnkgJiYgYD8ke3F1ZXJ5fWAgfHwgXCJcIjtcbiAgaWYgKHByb3RvY29sICYmICFwcm90b2NvbC5lbmRzV2l0aChcIjpcIikpXG4gICAgcHJvdG9jb2wgKz0gXCI6XCI7XG4gIGlmICh1cmxPYmouc2xhc2hlcyB8fCAoIXByb3RvY29sIHx8IHNsYXNoZWRQcm90b2NvbHMudGVzdChwcm90b2NvbCkpICYmIGhvc3QgIT09IGZhbHNlKSB7XG4gICAgaG9zdCA9IGAvLyR7aG9zdCB8fCBcIlwifWA7XG4gICAgaWYgKHBhdGhuYW1lICYmICFwYXRobmFtZS5zdGFydHNXaXRoKFwiL1wiKSkge1xuICAgICAgcGF0aG5hbWUgPSBgLyR7cGF0aG5hbWV9YDtcbiAgICB9XG4gIH0gZWxzZSBpZiAoIWhvc3QpIHtcbiAgICBob3N0ID0gXCJcIjtcbiAgfVxuICBpZiAoaGFzaCAmJiAhaGFzaC5zdGFydHNXaXRoKFwiI1wiKSlcbiAgICBoYXNoID0gYCMke2hhc2h9YDtcbiAgaWYgKHNlYXJjaCAmJiAhc2VhcmNoLnN0YXJ0c1dpdGgoXCI/XCIpKVxuICAgIHNlYXJjaCA9IGA/JHtzZWFyY2h9YDtcbiAgcGF0aG5hbWUgPSBwYXRobmFtZS5yZXBsYWNlKC9bPyNdL2csIGVuY29kZVVSSUNvbXBvbmVudCk7XG4gIHNlYXJjaCA9IHNlYXJjaC5yZXBsYWNlKFwiI1wiLCBcIiUyM1wiKTtcbiAgcmV0dXJuIGAke3Byb3RvY29sfSR7aG9zdH0ke3BhdGhuYW1lfSR7c2VhcmNofSR7aGFzaH1gO1xufVxuXG5leHBvcnQge1xuICBmb3JtYXRVcmxcbn07XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/frames.js/dist/chunk-CPDJUXZV.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/frames.js/dist/chunk-CTUE6VWY.js":
/*!*******************************************************!*\
  !*** ./node_modules/frames.js/dist/chunk-CTUE6VWY.js ***!
  \*******************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   redirect: () => (/* binding */ redirect)\n/* harmony export */ });\n// src/core/redirect.ts\nfunction redirect(location, responseInit) {\n  return {\n    kind: \"redirect\",\n    location,\n    ...responseInit\n  };\n}\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvZnJhbWVzLmpzL2Rpc3QvY2h1bmstQ1RVRTZWV1kuanMiLCJtYXBwaW5ncyI6Ijs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBSUUiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9wbGViLWZpbmRlci8uL25vZGVfbW9kdWxlcy9mcmFtZXMuanMvZGlzdC9jaHVuay1DVFVFNlZXWS5qcz84NTczIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIHNyYy9jb3JlL3JlZGlyZWN0LnRzXG5mdW5jdGlvbiByZWRpcmVjdChsb2NhdGlvbiwgcmVzcG9uc2VJbml0KSB7XG4gIHJldHVybiB7XG4gICAga2luZDogXCJyZWRpcmVjdFwiLFxuICAgIGxvY2F0aW9uLFxuICAgIC4uLnJlc3BvbnNlSW5pdFxuICB9O1xufVxuXG5leHBvcnQge1xuICByZWRpcmVjdFxufTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/frames.js/dist/chunk-CTUE6VWY.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/frames.js/dist/chunk-HCF7TXMO.js":
/*!*******************************************************!*\
  !*** ./node_modules/frames.js/dist/chunk-HCF7TXMO.js ***!
  \*******************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);


/***/ }),

/***/ "(rsc)/./node_modules/frames.js/dist/chunk-HKQGGRBN.js":
/*!*******************************************************!*\
  !*** ./node_modules/frames.js/dist/chunk-HKQGGRBN.js ***!
  \*******************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   validateFrameMessage: () => (/* binding */ validateFrameMessage)\n/* harmony export */ });\n/* harmony import */ var _chunk_T2UQQRTL_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./chunk-T2UQQRTL.js */ \"(rsc)/./node_modules/frames.js/dist/chunk-T2UQQRTL.js\");\n/* harmony import */ var _chunk_CGGPX3ON_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./chunk-CGGPX3ON.js */ \"(rsc)/./node_modules/frames.js/dist/chunk-CGGPX3ON.js\");\n/* harmony import */ var _chunk_MI43JRER_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./chunk-MI43JRER.js */ \"(rsc)/./node_modules/frames.js/dist/chunk-MI43JRER.js\");\n\n\n\n\n// src/validateFrameMessage.ts\nfunction isValidateMessageJson(value) {\n  if (typeof value !== \"object\" || !value) {\n    return false;\n  }\n  const validateMessageJson = value;\n  return typeof validateMessageJson.valid === \"boolean\" && validateMessageJson.valid && typeof validateMessageJson.message === \"object\";\n}\nasync function validateFrameMessage(body, {\n  hubHttpUrl = _chunk_T2UQQRTL_js__WEBPACK_IMPORTED_MODULE_0__.DEFAULT_HUB_API_URL,\n  hubRequestOptions = {\n    headers: {\n      api_key: _chunk_T2UQQRTL_js__WEBPACK_IMPORTED_MODULE_0__.DEFAULT_HUB_API_KEY\n    }\n  }\n} = {}) {\n  if (!body) {\n    throw new Error(\n      \"Tried to call validateFrameMessage with no frame action payload. You may be calling it incorrectly on the homeframe\"\n    );\n  }\n  const { headers, ...rest } = hubRequestOptions;\n  const validateMessageResponse = await fetch(\n    `${hubHttpUrl}/v1/validateMessage`,\n    {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/octet-stream\",\n        ...headers\n      },\n      body: (0,_chunk_CGGPX3ON_js__WEBPACK_IMPORTED_MODULE_1__.hexStringToUint8Array)(body.trustedData.messageBytes),\n      ...rest\n    }\n  );\n  const validateMessageJson = await validateMessageResponse.json();\n  if (!isValidateMessageJson(validateMessageJson)) {\n    return {\n      isValid: false,\n      message: void 0\n    };\n  }\n  if (validateMessageJson.valid) {\n    return {\n      isValid: true,\n      message: _chunk_MI43JRER_js__WEBPACK_IMPORTED_MODULE_2__.Message.fromJSON(\n        validateMessageJson.message\n      )\n    };\n  }\n  return {\n    isValid: false,\n    message: void 0\n  };\n}\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvZnJhbWVzLmpzL2Rpc3QvY2h1bmstSEtRR0dSQk4uanMiLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUc2QjtBQUdBO0FBR0E7O0FBRTdCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsbUVBQW1CO0FBQ2xDO0FBQ0E7QUFDQSxlQUFlLG1FQUFtQjtBQUNsQztBQUNBO0FBQ0EsRUFBRSxJQUFJO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVUsbUJBQW1CO0FBQzdCO0FBQ0EsT0FBTyxXQUFXO0FBQ2xCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1AsWUFBWSx5RUFBcUI7QUFDakM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLHVEQUFPO0FBQ3RCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFJRSIsInNvdXJjZXMiOlsid2VicGFjazovL3BsZWItZmluZGVyLy4vbm9kZV9tb2R1bGVzL2ZyYW1lcy5qcy9kaXN0L2NodW5rLUhLUUdHUkJOLmpzPzMxOTgiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtcbiAgREVGQVVMVF9IVUJfQVBJX0tFWSxcbiAgREVGQVVMVF9IVUJfQVBJX1VSTFxufSBmcm9tIFwiLi9jaHVuay1UMlVRUVJUTC5qc1wiO1xuaW1wb3J0IHtcbiAgaGV4U3RyaW5nVG9VaW50OEFycmF5XG59IGZyb20gXCIuL2NodW5rLUNHR1BYM09OLmpzXCI7XG5pbXBvcnQge1xuICBNZXNzYWdlXG59IGZyb20gXCIuL2NodW5rLU1JNDNKUkVSLmpzXCI7XG5cbi8vIHNyYy92YWxpZGF0ZUZyYW1lTWVzc2FnZS50c1xuZnVuY3Rpb24gaXNWYWxpZGF0ZU1lc3NhZ2VKc29uKHZhbHVlKSB7XG4gIGlmICh0eXBlb2YgdmFsdWUgIT09IFwib2JqZWN0XCIgfHwgIXZhbHVlKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIGNvbnN0IHZhbGlkYXRlTWVzc2FnZUpzb24gPSB2YWx1ZTtcbiAgcmV0dXJuIHR5cGVvZiB2YWxpZGF0ZU1lc3NhZ2VKc29uLnZhbGlkID09PSBcImJvb2xlYW5cIiAmJiB2YWxpZGF0ZU1lc3NhZ2VKc29uLnZhbGlkICYmIHR5cGVvZiB2YWxpZGF0ZU1lc3NhZ2VKc29uLm1lc3NhZ2UgPT09IFwib2JqZWN0XCI7XG59XG5hc3luYyBmdW5jdGlvbiB2YWxpZGF0ZUZyYW1lTWVzc2FnZShib2R5LCB7XG4gIGh1Ykh0dHBVcmwgPSBERUZBVUxUX0hVQl9BUElfVVJMLFxuICBodWJSZXF1ZXN0T3B0aW9ucyA9IHtcbiAgICBoZWFkZXJzOiB7XG4gICAgICBhcGlfa2V5OiBERUZBVUxUX0hVQl9BUElfS0VZXG4gICAgfVxuICB9XG59ID0ge30pIHtcbiAgaWYgKCFib2R5KSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgXCJUcmllZCB0byBjYWxsIHZhbGlkYXRlRnJhbWVNZXNzYWdlIHdpdGggbm8gZnJhbWUgYWN0aW9uIHBheWxvYWQuIFlvdSBtYXkgYmUgY2FsbGluZyBpdCBpbmNvcnJlY3RseSBvbiB0aGUgaG9tZWZyYW1lXCJcbiAgICApO1xuICB9XG4gIGNvbnN0IHsgaGVhZGVycywgLi4ucmVzdCB9ID0gaHViUmVxdWVzdE9wdGlvbnM7XG4gIGNvbnN0IHZhbGlkYXRlTWVzc2FnZVJlc3BvbnNlID0gYXdhaXQgZmV0Y2goXG4gICAgYCR7aHViSHR0cFVybH0vdjEvdmFsaWRhdGVNZXNzYWdlYCxcbiAgICB7XG4gICAgICBtZXRob2Q6IFwiUE9TVFwiLFxuICAgICAgaGVhZGVyczoge1xuICAgICAgICBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL29jdGV0LXN0cmVhbVwiLFxuICAgICAgICAuLi5oZWFkZXJzXG4gICAgICB9LFxuICAgICAgYm9keTogaGV4U3RyaW5nVG9VaW50OEFycmF5KGJvZHkudHJ1c3RlZERhdGEubWVzc2FnZUJ5dGVzKSxcbiAgICAgIC4uLnJlc3RcbiAgICB9XG4gICk7XG4gIGNvbnN0IHZhbGlkYXRlTWVzc2FnZUpzb24gPSBhd2FpdCB2YWxpZGF0ZU1lc3NhZ2VSZXNwb25zZS5qc29uKCk7XG4gIGlmICghaXNWYWxpZGF0ZU1lc3NhZ2VKc29uKHZhbGlkYXRlTWVzc2FnZUpzb24pKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGlzVmFsaWQ6IGZhbHNlLFxuICAgICAgbWVzc2FnZTogdm9pZCAwXG4gICAgfTtcbiAgfVxuICBpZiAodmFsaWRhdGVNZXNzYWdlSnNvbi52YWxpZCkge1xuICAgIHJldHVybiB7XG4gICAgICBpc1ZhbGlkOiB0cnVlLFxuICAgICAgbWVzc2FnZTogTWVzc2FnZS5mcm9tSlNPTihcbiAgICAgICAgdmFsaWRhdGVNZXNzYWdlSnNvbi5tZXNzYWdlXG4gICAgICApXG4gICAgfTtcbiAgfVxuICByZXR1cm4ge1xuICAgIGlzVmFsaWQ6IGZhbHNlLFxuICAgIG1lc3NhZ2U6IHZvaWQgMFxuICB9O1xufVxuXG5leHBvcnQge1xuICB2YWxpZGF0ZUZyYW1lTWVzc2FnZVxufTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/frames.js/dist/chunk-HKQGGRBN.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/frames.js/dist/chunk-I6EK4OTN.js":
/*!*******************************************************!*\
  !*** ./node_modules/frames.js/dist/chunk-I6EK4OTN.js ***!
  \*******************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   error: () => (/* binding */ error)\n/* harmony export */ });\n/* harmony import */ var _chunk_3G7JIAWO_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./chunk-3G7JIAWO.js */ \"(rsc)/./node_modules/frames.js/dist/chunk-3G7JIAWO.js\");\n\n\n// src/core/error.ts\nfunction error(message, status = 400) {\n  throw new _chunk_3G7JIAWO_js__WEBPACK_IMPORTED_MODULE_0__.FrameMessageError(message, status);\n}\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvZnJhbWVzLmpzL2Rpc3QvY2h1bmstSTZFSzRPVE4uanMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFFNkI7O0FBRTdCO0FBQ0E7QUFDQSxZQUFZLGlFQUFpQjtBQUM3Qjs7QUFJRSIsInNvdXJjZXMiOlsid2VicGFjazovL3BsZWItZmluZGVyLy4vbm9kZV9tb2R1bGVzL2ZyYW1lcy5qcy9kaXN0L2NodW5rLUk2RUs0T1ROLmpzP2EzMTMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtcbiAgRnJhbWVNZXNzYWdlRXJyb3Jcbn0gZnJvbSBcIi4vY2h1bmstM0c3SklBV08uanNcIjtcblxuLy8gc3JjL2NvcmUvZXJyb3IudHNcbmZ1bmN0aW9uIGVycm9yKG1lc3NhZ2UsIHN0YXR1cyA9IDQwMCkge1xuICB0aHJvdyBuZXcgRnJhbWVNZXNzYWdlRXJyb3IobWVzc2FnZSwgc3RhdHVzKTtcbn1cblxuZXhwb3J0IHtcbiAgZXJyb3Jcbn07XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/frames.js/dist/chunk-I6EK4OTN.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/frames.js/dist/chunk-IDQTRI32.js":
/*!*******************************************************!*\
  !*** ./node_modules/frames.js/dist/chunk-IDQTRI32.js ***!
  \*******************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);


/***/ }),

/***/ "(rsc)/./node_modules/frames.js/dist/chunk-IOQ2GY4V.js":
/*!*******************************************************!*\
  !*** ./node_modules/frames.js/dist/chunk-IOQ2GY4V.js ***!
  \*******************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   renderResponse: () => (/* binding */ renderResponse)\n/* harmony export */ });\n/* harmony import */ var _chunk_CAY3YIQE_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./chunk-CAY3YIQE.js */ \"(rsc)/./node_modules/frames.js/dist/chunk-CAY3YIQE.js\");\n/* harmony import */ var _chunk_U4LCIGWM_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./chunk-U4LCIGWM.js */ \"(rsc)/./node_modules/frames.js/dist/chunk-U4LCIGWM.js\");\n/* harmony import */ var _chunk_3G7JIAWO_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./chunk-3G7JIAWO.js */ \"(rsc)/./node_modules/frames.js/dist/chunk-3G7JIAWO.js\");\n/* harmony import */ var _chunk_A7DY5J6N_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./chunk-A7DY5J6N.js */ \"(rsc)/./node_modules/frames.js/dist/chunk-A7DY5J6N.js\");\n/* harmony import */ var _chunk_NPHRKC5O_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./chunk-NPHRKC5O.js */ \"(rsc)/./node_modules/frames.js/dist/chunk-NPHRKC5O.js\");\n/* harmony import */ var _vercel_og__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @vercel/og */ \"(rsc)/./node_modules/next/dist/server/og/image-response.js\");\n\n\n\n\n\n\n// src/middleware/renderResponse.ts\n\nvar InvalidButtonShapeError = class extends Error {\n};\nvar InvalidButtonCountError = class extends Error {\n};\nvar UnrecognizedButtonActionError = class extends Error {\n};\nvar ImageRenderError = class extends Error {\n};\nfunction renderResponse() {\n  return async (context, next) => {\n    const wantsJSON = context.request.headers.get(\"accept\") === _chunk_U4LCIGWM_js__WEBPACK_IMPORTED_MODULE_1__.FRAMES_META_TAGS_HEADER;\n    let result;\n    try {\n      result = await next(context);\n    } catch (e) {\n      if (e instanceof _chunk_3G7JIAWO_js__WEBPACK_IMPORTED_MODULE_2__.FrameMessageError) {\n        return Response.json(\n          {\n            message: e.message\n          },\n          {\n            status: e.status\n          }\n        );\n      }\n      console.error(e);\n      return new Response(\n        wantsJSON ? JSON.stringify({ error: \"Internal Server Error\" }) : \"Internal Server Error\",\n        {\n          status: 500,\n          headers: {\n            \"Cache-Control\": \"no-store\",\n            \"Content-Type\": wantsJSON ? \"application/json\" : \"text/plain\"\n          }\n        }\n      );\n    }\n    if (!result) {\n      return new Response(\n        wantsJSON ? JSON.stringify({ error: \"Handler did not return a response\" }) : \"Handler did not return a response\",\n        {\n          status: 500,\n          headers: {\n            \"Cache-Control\": \"no-store\",\n            \"Content-Type\": wantsJSON ? \"application/json\" : \"text/plain\"\n          }\n        }\n      );\n    }\n    if (result instanceof Response) {\n      return result;\n    }\n    if ((0,_chunk_CAY3YIQE_js__WEBPACK_IMPORTED_MODULE_0__.isFrameRedirect)(result)) {\n      return new Response(null, {\n        status: result.status ?? 302,\n        headers: {\n          ...result.headers,\n          Location: result.location.toString()\n        }\n      });\n    }\n    let state;\n    if (result.state) {\n      if (context.request.method === \"POST\") {\n        state = JSON.stringify(result.state);\n      } else {\n        console.warn(\n          \"State is not supported on initial request (the one initialized when Frames are rendered for first time, that uses GET request) and will be ignored\"\n        );\n      }\n    }\n    try {\n      const frame = {\n        version: \"vNext\",\n        state,\n        // @todo rendering image could be moved to its own middleware instead so users can use something different if they want to?\n        // but that would mean that we need to specify middleware manually in any app since importing it here in default middleware\n        // and disabling it, has no effect on final bundle size of app\n        image: typeof result.image === \"string\" ? (0,_chunk_CAY3YIQE_js__WEBPACK_IMPORTED_MODULE_0__.generateTargetURL)({\n          target: result.image,\n          baseUrl: context.baseUrl\n        }).toString() : await renderImage(result.image, result.imageOptions).catch(\n          (e) => {\n            console.error(e);\n            throw new ImageRenderError(\"Could not render image\");\n          }\n        ),\n        buttons: result.buttons?.slice().filter(\n          (v) => typeof v === \"object\" && v !== null\n        ).map((button, i) => {\n          if (!(\"type\" in button && \"props\" in button)) {\n            throw new InvalidButtonShapeError(\"Invalid button provided\");\n          }\n          if (i > 3) {\n            throw new InvalidButtonCountError(\"Up to 4 buttons are allowed\");\n          }\n          const props = button.props;\n          switch (props.action) {\n            case \"link\":\n              return {\n                action: props.action,\n                label: props.children,\n                target: (0,_chunk_CAY3YIQE_js__WEBPACK_IMPORTED_MODULE_0__.generateTargetURL)({\n                  target: props.target,\n                  baseUrl: context.baseUrl\n                }).toString()\n              };\n            case \"mint\":\n              return {\n                action: props.action,\n                label: props.children,\n                target: props.target\n              };\n            case \"tx\":\n              return {\n                action: props.action,\n                label: props.children,\n                target: (0,_chunk_CAY3YIQE_js__WEBPACK_IMPORTED_MODULE_0__.generatePostButtonTargetURL)({\n                  buttonIndex: i + 1,\n                  buttonAction: \"post\",\n                  target: props.target,\n                  baseUrl: context.baseUrl\n                }).toString(),\n                post_url: props.post_url ? (0,_chunk_CAY3YIQE_js__WEBPACK_IMPORTED_MODULE_0__.generatePostButtonTargetURL)({\n                  buttonIndex: i + 1,\n                  buttonAction: \"post\",\n                  target: props.post_url,\n                  baseUrl: context.baseUrl\n                }) : void 0\n              };\n            case \"post\":\n            case \"post_redirect\":\n              return {\n                action: props.action,\n                label: props.children,\n                target: (0,_chunk_CAY3YIQE_js__WEBPACK_IMPORTED_MODULE_0__.generatePostButtonTargetURL)({\n                  buttonIndex: i + 1,\n                  buttonAction: props.action,\n                  target: props.target,\n                  baseUrl: context.baseUrl\n                })\n              };\n            default:\n              throw new UnrecognizedButtonActionError(\n                \"Unrecognized button action\"\n              );\n          }\n        }),\n        inputText: result.textInput,\n        imageAspectRatio: result.imageOptions?.aspectRatio ?? \"1.91:1\",\n        accepts: result.accepts\n      };\n      if (wantsJSON) {\n        const flattened = (0,_chunk_NPHRKC5O_js__WEBPACK_IMPORTED_MODULE_4__.getFrameFlattened)(frame);\n        return new Response(JSON.stringify(flattened), {\n          status: result.status ?? 200,\n          statusText: result.statusText ?? \"OK\",\n          headers: {\n            ...result.headers,\n            \"content-type\": \"application/json\"\n          }\n        });\n      }\n      return new Response((0,_chunk_A7DY5J6N_js__WEBPACK_IMPORTED_MODULE_3__.getFrameHtmlHead)(frame), {\n        status: result.status ?? 200,\n        statusText: result.statusText ?? \"OK\",\n        headers: {\n          ...result.headers,\n          \"content-type\": \"text/html\"\n        }\n      });\n    } catch (e) {\n      let message = \"Internal Server Error\";\n      if (e instanceof ImageRenderError || e instanceof UnrecognizedButtonActionError || e instanceof InvalidButtonCountError || e instanceof InvalidButtonShapeError) {\n        message = e.message;\n      } else {\n        console.error(e);\n      }\n      return new Response(\n        wantsJSON ? JSON.stringify({ error: message }) : message,\n        {\n          status: 500,\n          headers: {\n            \"Cache-Control\": \"no-store\",\n            \"Content-Type\": wantsJSON ? \"application/json\" : \"text/plain\"\n          }\n        }\n      );\n    }\n  };\n}\nasync function renderImage(element, options) {\n  const response = new _vercel_og__WEBPACK_IMPORTED_MODULE_5__.ImageResponse(\n    // do not use React jsx here because it causes problem with tree shaking React\n    {\n      type: \"div\",\n      key: \"\",\n      props: {\n        style: {\n          display: \"flex\",\n          // Use flex layout\n          flexDirection: \"row\",\n          // Align items horizontally\n          alignItems: \"stretch\",\n          // Stretch items to fill the container height\n          width: \"100%\",\n          height: \"100vh\",\n          // Full viewport height\n          backgroundColor: \"white\"\n        },\n        children: [\n          {\n            type: \"div\",\n            key: \"\",\n            props: {\n              style: {\n                display: \"flex\",\n                flexDirection: \"column\",\n                justifyContent: \"center\",\n                alignItems: \"center\",\n                lineHeight: 1.2,\n                fontSize: 36,\n                color: \"black\",\n                flex: 1,\n                overflow: \"hidden\"\n              },\n              children: element\n            }\n          }\n        ]\n      }\n    },\n    {\n      ...options?.aspectRatio === \"1:1\" ? {\n        width: 1146,\n        height: 1146\n      } : { width: 1146, height: 600 },\n      ...options\n    }\n  );\n  const buffer = await response.arrayBuffer();\n  return `data:image/png;base64,${Buffer.from(buffer).toString(\"base64\")}`;\n}\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvZnJhbWVzLmpzL2Rpc3QvY2h1bmstSU9RMkdZNFYuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7OztBQUk2QjtBQUdBO0FBR0E7QUFHQTtBQUdBOztBQUU3QjtBQUMyQztBQUMzQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdFQUFnRSx1RUFBdUI7QUFDdkY7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOLHVCQUF1QixpRUFBaUI7QUFDeEM7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUNBQXFDLGdDQUFnQztBQUNyRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUNBQXFDLDRDQUE0QztBQUNqRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRLG1FQUFlO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtEQUFrRCxxRUFBaUI7QUFDbkU7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLHFFQUFpQjtBQUN6QztBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsK0VBQTJCO0FBQ25EO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCLDJDQUEyQywrRUFBMkI7QUFDdEU7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLCtFQUEyQjtBQUNuRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBCQUEwQixxRUFBaUI7QUFDM0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQSwwQkFBMEIsb0VBQWdCO0FBQzFDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUCxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBLHFDQUFxQyxnQkFBZ0I7QUFDckQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUJBQXVCLHFEQUFhO0FBQ3BDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWU7QUFDZjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUSxJQUFJLDBCQUEwQjtBQUN0QztBQUNBO0FBQ0E7QUFDQTtBQUNBLHlCQUF5QixTQUFTLHVDQUF1QztBQUN6RTs7QUFJRSIsInNvdXJjZXMiOlsid2VicGFjazovL3BsZWItZmluZGVyLy4vbm9kZV9tb2R1bGVzL2ZyYW1lcy5qcy9kaXN0L2NodW5rLUlPUTJHWTRWLmpzPzI3MjQiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtcbiAgZ2VuZXJhdGVQb3N0QnV0dG9uVGFyZ2V0VVJMLFxuICBnZW5lcmF0ZVRhcmdldFVSTCxcbiAgaXNGcmFtZVJlZGlyZWN0XG59IGZyb20gXCIuL2NodW5rLUNBWTNZSVFFLmpzXCI7XG5pbXBvcnQge1xuICBGUkFNRVNfTUVUQV9UQUdTX0hFQURFUlxufSBmcm9tIFwiLi9jaHVuay1VNExDSUdXTS5qc1wiO1xuaW1wb3J0IHtcbiAgRnJhbWVNZXNzYWdlRXJyb3Jcbn0gZnJvbSBcIi4vY2h1bmstM0c3SklBV08uanNcIjtcbmltcG9ydCB7XG4gIGdldEZyYW1lSHRtbEhlYWRcbn0gZnJvbSBcIi4vY2h1bmstQTdEWTVKNk4uanNcIjtcbmltcG9ydCB7XG4gIGdldEZyYW1lRmxhdHRlbmVkXG59IGZyb20gXCIuL2NodW5rLU5QSFJLQzVPLmpzXCI7XG5cbi8vIHNyYy9taWRkbGV3YXJlL3JlbmRlclJlc3BvbnNlLnRzXG5pbXBvcnQgeyBJbWFnZVJlc3BvbnNlIH0gZnJvbSBcIkB2ZXJjZWwvb2dcIjtcbnZhciBJbnZhbGlkQnV0dG9uU2hhcGVFcnJvciA9IGNsYXNzIGV4dGVuZHMgRXJyb3Ige1xufTtcbnZhciBJbnZhbGlkQnV0dG9uQ291bnRFcnJvciA9IGNsYXNzIGV4dGVuZHMgRXJyb3Ige1xufTtcbnZhciBVbnJlY29nbml6ZWRCdXR0b25BY3Rpb25FcnJvciA9IGNsYXNzIGV4dGVuZHMgRXJyb3Ige1xufTtcbnZhciBJbWFnZVJlbmRlckVycm9yID0gY2xhc3MgZXh0ZW5kcyBFcnJvciB7XG59O1xuZnVuY3Rpb24gcmVuZGVyUmVzcG9uc2UoKSB7XG4gIHJldHVybiBhc3luYyAoY29udGV4dCwgbmV4dCkgPT4ge1xuICAgIGNvbnN0IHdhbnRzSlNPTiA9IGNvbnRleHQucmVxdWVzdC5oZWFkZXJzLmdldChcImFjY2VwdFwiKSA9PT0gRlJBTUVTX01FVEFfVEFHU19IRUFERVI7XG4gICAgbGV0IHJlc3VsdDtcbiAgICB0cnkge1xuICAgICAgcmVzdWx0ID0gYXdhaXQgbmV4dChjb250ZXh0KTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICBpZiAoZSBpbnN0YW5jZW9mIEZyYW1lTWVzc2FnZUVycm9yKSB7XG4gICAgICAgIHJldHVybiBSZXNwb25zZS5qc29uKFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIG1lc3NhZ2U6IGUubWVzc2FnZVxuICAgICAgICAgIH0sXG4gICAgICAgICAge1xuICAgICAgICAgICAgc3RhdHVzOiBlLnN0YXR1c1xuICAgICAgICAgIH1cbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICAgIGNvbnNvbGUuZXJyb3IoZSk7XG4gICAgICByZXR1cm4gbmV3IFJlc3BvbnNlKFxuICAgICAgICB3YW50c0pTT04gPyBKU09OLnN0cmluZ2lmeSh7IGVycm9yOiBcIkludGVybmFsIFNlcnZlciBFcnJvclwiIH0pIDogXCJJbnRlcm5hbCBTZXJ2ZXIgRXJyb3JcIixcbiAgICAgICAge1xuICAgICAgICAgIHN0YXR1czogNTAwLFxuICAgICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAgIFwiQ2FjaGUtQ29udHJvbFwiOiBcIm5vLXN0b3JlXCIsXG4gICAgICAgICAgICBcIkNvbnRlbnQtVHlwZVwiOiB3YW50c0pTT04gPyBcImFwcGxpY2F0aW9uL2pzb25cIiA6IFwidGV4dC9wbGFpblwiXG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICApO1xuICAgIH1cbiAgICBpZiAoIXJlc3VsdCkge1xuICAgICAgcmV0dXJuIG5ldyBSZXNwb25zZShcbiAgICAgICAgd2FudHNKU09OID8gSlNPTi5zdHJpbmdpZnkoeyBlcnJvcjogXCJIYW5kbGVyIGRpZCBub3QgcmV0dXJuIGEgcmVzcG9uc2VcIiB9KSA6IFwiSGFuZGxlciBkaWQgbm90IHJldHVybiBhIHJlc3BvbnNlXCIsXG4gICAgICAgIHtcbiAgICAgICAgICBzdGF0dXM6IDUwMCxcbiAgICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgICBcIkNhY2hlLUNvbnRyb2xcIjogXCJuby1zdG9yZVwiLFxuICAgICAgICAgICAgXCJDb250ZW50LVR5cGVcIjogd2FudHNKU09OID8gXCJhcHBsaWNhdGlvbi9qc29uXCIgOiBcInRleHQvcGxhaW5cIlxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgKTtcbiAgICB9XG4gICAgaWYgKHJlc3VsdCBpbnN0YW5jZW9mIFJlc3BvbnNlKSB7XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbiAgICBpZiAoaXNGcmFtZVJlZGlyZWN0KHJlc3VsdCkpIHtcbiAgICAgIHJldHVybiBuZXcgUmVzcG9uc2UobnVsbCwge1xuICAgICAgICBzdGF0dXM6IHJlc3VsdC5zdGF0dXMgPz8gMzAyLFxuICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgLi4ucmVzdWx0LmhlYWRlcnMsXG4gICAgICAgICAgTG9jYXRpb246IHJlc3VsdC5sb2NhdGlvbi50b1N0cmluZygpXG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgICBsZXQgc3RhdGU7XG4gICAgaWYgKHJlc3VsdC5zdGF0ZSkge1xuICAgICAgaWYgKGNvbnRleHQucmVxdWVzdC5tZXRob2QgPT09IFwiUE9TVFwiKSB7XG4gICAgICAgIHN0YXRlID0gSlNPTi5zdHJpbmdpZnkocmVzdWx0LnN0YXRlKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnNvbGUud2FybihcbiAgICAgICAgICBcIlN0YXRlIGlzIG5vdCBzdXBwb3J0ZWQgb24gaW5pdGlhbCByZXF1ZXN0ICh0aGUgb25lIGluaXRpYWxpemVkIHdoZW4gRnJhbWVzIGFyZSByZW5kZXJlZCBmb3IgZmlyc3QgdGltZSwgdGhhdCB1c2VzIEdFVCByZXF1ZXN0KSBhbmQgd2lsbCBiZSBpZ25vcmVkXCJcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IGZyYW1lID0ge1xuICAgICAgICB2ZXJzaW9uOiBcInZOZXh0XCIsXG4gICAgICAgIHN0YXRlLFxuICAgICAgICAvLyBAdG9kbyByZW5kZXJpbmcgaW1hZ2UgY291bGQgYmUgbW92ZWQgdG8gaXRzIG93biBtaWRkbGV3YXJlIGluc3RlYWQgc28gdXNlcnMgY2FuIHVzZSBzb21ldGhpbmcgZGlmZmVyZW50IGlmIHRoZXkgd2FudCB0bz9cbiAgICAgICAgLy8gYnV0IHRoYXQgd291bGQgbWVhbiB0aGF0IHdlIG5lZWQgdG8gc3BlY2lmeSBtaWRkbGV3YXJlIG1hbnVhbGx5IGluIGFueSBhcHAgc2luY2UgaW1wb3J0aW5nIGl0IGhlcmUgaW4gZGVmYXVsdCBtaWRkbGV3YXJlXG4gICAgICAgIC8vIGFuZCBkaXNhYmxpbmcgaXQsIGhhcyBubyBlZmZlY3Qgb24gZmluYWwgYnVuZGxlIHNpemUgb2YgYXBwXG4gICAgICAgIGltYWdlOiB0eXBlb2YgcmVzdWx0LmltYWdlID09PSBcInN0cmluZ1wiID8gZ2VuZXJhdGVUYXJnZXRVUkwoe1xuICAgICAgICAgIHRhcmdldDogcmVzdWx0LmltYWdlLFxuICAgICAgICAgIGJhc2VVcmw6IGNvbnRleHQuYmFzZVVybFxuICAgICAgICB9KS50b1N0cmluZygpIDogYXdhaXQgcmVuZGVySW1hZ2UocmVzdWx0LmltYWdlLCByZXN1bHQuaW1hZ2VPcHRpb25zKS5jYXRjaChcbiAgICAgICAgICAoZSkgPT4ge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcihlKTtcbiAgICAgICAgICAgIHRocm93IG5ldyBJbWFnZVJlbmRlckVycm9yKFwiQ291bGQgbm90IHJlbmRlciBpbWFnZVwiKTtcbiAgICAgICAgICB9XG4gICAgICAgICksXG4gICAgICAgIGJ1dHRvbnM6IHJlc3VsdC5idXR0b25zPy5zbGljZSgpLmZpbHRlcihcbiAgICAgICAgICAodikgPT4gdHlwZW9mIHYgPT09IFwib2JqZWN0XCIgJiYgdiAhPT0gbnVsbFxuICAgICAgICApLm1hcCgoYnV0dG9uLCBpKSA9PiB7XG4gICAgICAgICAgaWYgKCEoXCJ0eXBlXCIgaW4gYnV0dG9uICYmIFwicHJvcHNcIiBpbiBidXR0b24pKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgSW52YWxpZEJ1dHRvblNoYXBlRXJyb3IoXCJJbnZhbGlkIGJ1dHRvbiBwcm92aWRlZFwiKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKGkgPiAzKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgSW52YWxpZEJ1dHRvbkNvdW50RXJyb3IoXCJVcCB0byA0IGJ1dHRvbnMgYXJlIGFsbG93ZWRcIik7XG4gICAgICAgICAgfVxuICAgICAgICAgIGNvbnN0IHByb3BzID0gYnV0dG9uLnByb3BzO1xuICAgICAgICAgIHN3aXRjaCAocHJvcHMuYWN0aW9uKSB7XG4gICAgICAgICAgICBjYXNlIFwibGlua1wiOlxuICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIGFjdGlvbjogcHJvcHMuYWN0aW9uLFxuICAgICAgICAgICAgICAgIGxhYmVsOiBwcm9wcy5jaGlsZHJlbixcbiAgICAgICAgICAgICAgICB0YXJnZXQ6IGdlbmVyYXRlVGFyZ2V0VVJMKHtcbiAgICAgICAgICAgICAgICAgIHRhcmdldDogcHJvcHMudGFyZ2V0LFxuICAgICAgICAgICAgICAgICAgYmFzZVVybDogY29udGV4dC5iYXNlVXJsXG4gICAgICAgICAgICAgICAgfSkudG9TdHJpbmcoKVxuICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgY2FzZSBcIm1pbnRcIjpcbiAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBhY3Rpb246IHByb3BzLmFjdGlvbixcbiAgICAgICAgICAgICAgICBsYWJlbDogcHJvcHMuY2hpbGRyZW4sXG4gICAgICAgICAgICAgICAgdGFyZ2V0OiBwcm9wcy50YXJnZXRcbiAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNhc2UgXCJ0eFwiOlxuICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIGFjdGlvbjogcHJvcHMuYWN0aW9uLFxuICAgICAgICAgICAgICAgIGxhYmVsOiBwcm9wcy5jaGlsZHJlbixcbiAgICAgICAgICAgICAgICB0YXJnZXQ6IGdlbmVyYXRlUG9zdEJ1dHRvblRhcmdldFVSTCh7XG4gICAgICAgICAgICAgICAgICBidXR0b25JbmRleDogaSArIDEsXG4gICAgICAgICAgICAgICAgICBidXR0b25BY3Rpb246IFwicG9zdFwiLFxuICAgICAgICAgICAgICAgICAgdGFyZ2V0OiBwcm9wcy50YXJnZXQsXG4gICAgICAgICAgICAgICAgICBiYXNlVXJsOiBjb250ZXh0LmJhc2VVcmxcbiAgICAgICAgICAgICAgICB9KS50b1N0cmluZygpLFxuICAgICAgICAgICAgICAgIHBvc3RfdXJsOiBwcm9wcy5wb3N0X3VybCA/IGdlbmVyYXRlUG9zdEJ1dHRvblRhcmdldFVSTCh7XG4gICAgICAgICAgICAgICAgICBidXR0b25JbmRleDogaSArIDEsXG4gICAgICAgICAgICAgICAgICBidXR0b25BY3Rpb246IFwicG9zdFwiLFxuICAgICAgICAgICAgICAgICAgdGFyZ2V0OiBwcm9wcy5wb3N0X3VybCxcbiAgICAgICAgICAgICAgICAgIGJhc2VVcmw6IGNvbnRleHQuYmFzZVVybFxuICAgICAgICAgICAgICAgIH0pIDogdm9pZCAwXG4gICAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjYXNlIFwicG9zdFwiOlxuICAgICAgICAgICAgY2FzZSBcInBvc3RfcmVkaXJlY3RcIjpcbiAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBhY3Rpb246IHByb3BzLmFjdGlvbixcbiAgICAgICAgICAgICAgICBsYWJlbDogcHJvcHMuY2hpbGRyZW4sXG4gICAgICAgICAgICAgICAgdGFyZ2V0OiBnZW5lcmF0ZVBvc3RCdXR0b25UYXJnZXRVUkwoe1xuICAgICAgICAgICAgICAgICAgYnV0dG9uSW5kZXg6IGkgKyAxLFxuICAgICAgICAgICAgICAgICAgYnV0dG9uQWN0aW9uOiBwcm9wcy5hY3Rpb24sXG4gICAgICAgICAgICAgICAgICB0YXJnZXQ6IHByb3BzLnRhcmdldCxcbiAgICAgICAgICAgICAgICAgIGJhc2VVcmw6IGNvbnRleHQuYmFzZVVybFxuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgIH07XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICB0aHJvdyBuZXcgVW5yZWNvZ25pemVkQnV0dG9uQWN0aW9uRXJyb3IoXG4gICAgICAgICAgICAgICAgXCJVbnJlY29nbml6ZWQgYnV0dG9uIGFjdGlvblwiXG4gICAgICAgICAgICAgICk7XG4gICAgICAgICAgfVxuICAgICAgICB9KSxcbiAgICAgICAgaW5wdXRUZXh0OiByZXN1bHQudGV4dElucHV0LFxuICAgICAgICBpbWFnZUFzcGVjdFJhdGlvOiByZXN1bHQuaW1hZ2VPcHRpb25zPy5hc3BlY3RSYXRpbyA/PyBcIjEuOTE6MVwiLFxuICAgICAgICBhY2NlcHRzOiByZXN1bHQuYWNjZXB0c1xuICAgICAgfTtcbiAgICAgIGlmICh3YW50c0pTT04pIHtcbiAgICAgICAgY29uc3QgZmxhdHRlbmVkID0gZ2V0RnJhbWVGbGF0dGVuZWQoZnJhbWUpO1xuICAgICAgICByZXR1cm4gbmV3IFJlc3BvbnNlKEpTT04uc3RyaW5naWZ5KGZsYXR0ZW5lZCksIHtcbiAgICAgICAgICBzdGF0dXM6IHJlc3VsdC5zdGF0dXMgPz8gMjAwLFxuICAgICAgICAgIHN0YXR1c1RleHQ6IHJlc3VsdC5zdGF0dXNUZXh0ID8/IFwiT0tcIixcbiAgICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgICAuLi5yZXN1bHQuaGVhZGVycyxcbiAgICAgICAgICAgIFwiY29udGVudC10eXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiXG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBuZXcgUmVzcG9uc2UoZ2V0RnJhbWVIdG1sSGVhZChmcmFtZSksIHtcbiAgICAgICAgc3RhdHVzOiByZXN1bHQuc3RhdHVzID8/IDIwMCxcbiAgICAgICAgc3RhdHVzVGV4dDogcmVzdWx0LnN0YXR1c1RleHQgPz8gXCJPS1wiLFxuICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgLi4ucmVzdWx0LmhlYWRlcnMsXG4gICAgICAgICAgXCJjb250ZW50LXR5cGVcIjogXCJ0ZXh0L2h0bWxcIlxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICBsZXQgbWVzc2FnZSA9IFwiSW50ZXJuYWwgU2VydmVyIEVycm9yXCI7XG4gICAgICBpZiAoZSBpbnN0YW5jZW9mIEltYWdlUmVuZGVyRXJyb3IgfHwgZSBpbnN0YW5jZW9mIFVucmVjb2duaXplZEJ1dHRvbkFjdGlvbkVycm9yIHx8IGUgaW5zdGFuY2VvZiBJbnZhbGlkQnV0dG9uQ291bnRFcnJvciB8fCBlIGluc3RhbmNlb2YgSW52YWxpZEJ1dHRvblNoYXBlRXJyb3IpIHtcbiAgICAgICAgbWVzc2FnZSA9IGUubWVzc2FnZTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoZSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gbmV3IFJlc3BvbnNlKFxuICAgICAgICB3YW50c0pTT04gPyBKU09OLnN0cmluZ2lmeSh7IGVycm9yOiBtZXNzYWdlIH0pIDogbWVzc2FnZSxcbiAgICAgICAge1xuICAgICAgICAgIHN0YXR1czogNTAwLFxuICAgICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAgIFwiQ2FjaGUtQ29udHJvbFwiOiBcIm5vLXN0b3JlXCIsXG4gICAgICAgICAgICBcIkNvbnRlbnQtVHlwZVwiOiB3YW50c0pTT04gPyBcImFwcGxpY2F0aW9uL2pzb25cIiA6IFwidGV4dC9wbGFpblwiXG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICApO1xuICAgIH1cbiAgfTtcbn1cbmFzeW5jIGZ1bmN0aW9uIHJlbmRlckltYWdlKGVsZW1lbnQsIG9wdGlvbnMpIHtcbiAgY29uc3QgcmVzcG9uc2UgPSBuZXcgSW1hZ2VSZXNwb25zZShcbiAgICAvLyBkbyBub3QgdXNlIFJlYWN0IGpzeCBoZXJlIGJlY2F1c2UgaXQgY2F1c2VzIHByb2JsZW0gd2l0aCB0cmVlIHNoYWtpbmcgUmVhY3RcbiAgICB7XG4gICAgICB0eXBlOiBcImRpdlwiLFxuICAgICAga2V5OiBcIlwiLFxuICAgICAgcHJvcHM6IHtcbiAgICAgICAgc3R5bGU6IHtcbiAgICAgICAgICBkaXNwbGF5OiBcImZsZXhcIixcbiAgICAgICAgICAvLyBVc2UgZmxleCBsYXlvdXRcbiAgICAgICAgICBmbGV4RGlyZWN0aW9uOiBcInJvd1wiLFxuICAgICAgICAgIC8vIEFsaWduIGl0ZW1zIGhvcml6b250YWxseVxuICAgICAgICAgIGFsaWduSXRlbXM6IFwic3RyZXRjaFwiLFxuICAgICAgICAgIC8vIFN0cmV0Y2ggaXRlbXMgdG8gZmlsbCB0aGUgY29udGFpbmVyIGhlaWdodFxuICAgICAgICAgIHdpZHRoOiBcIjEwMCVcIixcbiAgICAgICAgICBoZWlnaHQ6IFwiMTAwdmhcIixcbiAgICAgICAgICAvLyBGdWxsIHZpZXdwb3J0IGhlaWdodFxuICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogXCJ3aGl0ZVwiXG4gICAgICAgIH0sXG4gICAgICAgIGNoaWxkcmVuOiBbXG4gICAgICAgICAge1xuICAgICAgICAgICAgdHlwZTogXCJkaXZcIixcbiAgICAgICAgICAgIGtleTogXCJcIixcbiAgICAgICAgICAgIHByb3BzOiB7XG4gICAgICAgICAgICAgIHN0eWxlOiB7XG4gICAgICAgICAgICAgICAgZGlzcGxheTogXCJmbGV4XCIsXG4gICAgICAgICAgICAgICAgZmxleERpcmVjdGlvbjogXCJjb2x1bW5cIixcbiAgICAgICAgICAgICAgICBqdXN0aWZ5Q29udGVudDogXCJjZW50ZXJcIixcbiAgICAgICAgICAgICAgICBhbGlnbkl0ZW1zOiBcImNlbnRlclwiLFxuICAgICAgICAgICAgICAgIGxpbmVIZWlnaHQ6IDEuMixcbiAgICAgICAgICAgICAgICBmb250U2l6ZTogMzYsXG4gICAgICAgICAgICAgICAgY29sb3I6IFwiYmxhY2tcIixcbiAgICAgICAgICAgICAgICBmbGV4OiAxLFxuICAgICAgICAgICAgICAgIG92ZXJmbG93OiBcImhpZGRlblwiXG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgIGNoaWxkcmVuOiBlbGVtZW50XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICBdXG4gICAgICB9XG4gICAgfSxcbiAgICB7XG4gICAgICAuLi5vcHRpb25zPy5hc3BlY3RSYXRpbyA9PT0gXCIxOjFcIiA/IHtcbiAgICAgICAgd2lkdGg6IDExNDYsXG4gICAgICAgIGhlaWdodDogMTE0NlxuICAgICAgfSA6IHsgd2lkdGg6IDExNDYsIGhlaWdodDogNjAwIH0sXG4gICAgICAuLi5vcHRpb25zXG4gICAgfVxuICApO1xuICBjb25zdCBidWZmZXIgPSBhd2FpdCByZXNwb25zZS5hcnJheUJ1ZmZlcigpO1xuICByZXR1cm4gYGRhdGE6aW1hZ2UvcG5nO2Jhc2U2NCwke0J1ZmZlci5mcm9tKGJ1ZmZlcikudG9TdHJpbmcoXCJiYXNlNjRcIil9YDtcbn1cblxuZXhwb3J0IHtcbiAgcmVuZGVyUmVzcG9uc2Vcbn07XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/frames.js/dist/chunk-IOQ2GY4V.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/frames.js/dist/chunk-JCSPSRFC.js":
/*!*******************************************************!*\
  !*** ./node_modules/frames.js/dist/chunk-JCSPSRFC.js ***!
  \*******************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   fetchMetadata: () => (/* binding */ fetchMetadata)\n/* harmony export */ });\n/* harmony import */ var _chunk_U4LCIGWM_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./chunk-U4LCIGWM.js */ \"(rsc)/./node_modules/frames.js/dist/chunk-U4LCIGWM.js\");\n\n\n// src/next/fetchMetadata.ts\nasync function fetchMetadata(url) {\n  try {\n    const response = await fetch(url, {\n      method: \"GET\",\n      headers: {\n        // we use Accept header to get the response in JSON format, this is automatically supported by frames.js renderResponse middleware\n        Accept: _chunk_U4LCIGWM_js__WEBPACK_IMPORTED_MODULE_0__.FRAMES_META_TAGS_HEADER\n      },\n      cache: \"no-cache\"\n    });\n    if (response.ok) {\n      const flattenedFrame = await response.json();\n      return flattenedFrame;\n    } else if (response.status) {\n      console.warn(\n        `Failed to fetch frame metadata from ${url.toString()}. Status code: ${response.status}`\n      );\n    }\n  } catch (error) {\n    console.warn(\n      `Failed to fetch frame metadata from ${url.toString()}.`,\n      error\n    );\n  }\n  return {};\n}\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvZnJhbWVzLmpzL2Rpc3QvY2h1bmstSkNTUFNSRkMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFFNkI7O0FBRTdCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCLHVFQUF1QjtBQUN2QyxPQUFPO0FBQ1A7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0EsK0NBQStDLGVBQWUsaUJBQWlCLGdCQUFnQjtBQUMvRjtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0EsNkNBQTZDLGVBQWU7QUFDNUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFJRSIsInNvdXJjZXMiOlsid2VicGFjazovL3BsZWItZmluZGVyLy4vbm9kZV9tb2R1bGVzL2ZyYW1lcy5qcy9kaXN0L2NodW5rLUpDU1BTUkZDLmpzPzkwYjciXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtcbiAgRlJBTUVTX01FVEFfVEFHU19IRUFERVJcbn0gZnJvbSBcIi4vY2h1bmstVTRMQ0lHV00uanNcIjtcblxuLy8gc3JjL25leHQvZmV0Y2hNZXRhZGF0YS50c1xuYXN5bmMgZnVuY3Rpb24gZmV0Y2hNZXRhZGF0YSh1cmwpIHtcbiAgdHJ5IHtcbiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKHVybCwge1xuICAgICAgbWV0aG9kOiBcIkdFVFwiLFxuICAgICAgaGVhZGVyczoge1xuICAgICAgICAvLyB3ZSB1c2UgQWNjZXB0IGhlYWRlciB0byBnZXQgdGhlIHJlc3BvbnNlIGluIEpTT04gZm9ybWF0LCB0aGlzIGlzIGF1dG9tYXRpY2FsbHkgc3VwcG9ydGVkIGJ5IGZyYW1lcy5qcyByZW5kZXJSZXNwb25zZSBtaWRkbGV3YXJlXG4gICAgICAgIEFjY2VwdDogRlJBTUVTX01FVEFfVEFHU19IRUFERVJcbiAgICAgIH0sXG4gICAgICBjYWNoZTogXCJuby1jYWNoZVwiXG4gICAgfSk7XG4gICAgaWYgKHJlc3BvbnNlLm9rKSB7XG4gICAgICBjb25zdCBmbGF0dGVuZWRGcmFtZSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcbiAgICAgIHJldHVybiBmbGF0dGVuZWRGcmFtZTtcbiAgICB9IGVsc2UgaWYgKHJlc3BvbnNlLnN0YXR1cykge1xuICAgICAgY29uc29sZS53YXJuKFxuICAgICAgICBgRmFpbGVkIHRvIGZldGNoIGZyYW1lIG1ldGFkYXRhIGZyb20gJHt1cmwudG9TdHJpbmcoKX0uIFN0YXR1cyBjb2RlOiAke3Jlc3BvbnNlLnN0YXR1c31gXG4gICAgICApO1xuICAgIH1cbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLndhcm4oXG4gICAgICBgRmFpbGVkIHRvIGZldGNoIGZyYW1lIG1ldGFkYXRhIGZyb20gJHt1cmwudG9TdHJpbmcoKX0uYCxcbiAgICAgIGVycm9yXG4gICAgKTtcbiAgfVxuICByZXR1cm4ge307XG59XG5cbmV4cG9ydCB7XG4gIGZldGNoTWV0YWRhdGFcbn07XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/frames.js/dist/chunk-JCSPSRFC.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/frames.js/dist/chunk-JGTH2ANC.js":
/*!*******************************************************!*\
  !*** ./node_modules/frames.js/dist/chunk-JGTH2ANC.js ***!
  \*******************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   UserNameProof: () => (/* binding */ UserNameProof),\n/* harmony export */   UserNameType: () => (/* binding */ UserNameType),\n/* harmony export */   long_default: () => (/* binding */ long_default),\n/* harmony export */   userNameTypeFromJSON: () => (/* binding */ userNameTypeFromJSON),\n/* harmony export */   userNameTypeToJSON: () => (/* binding */ userNameTypeToJSON)\n/* harmony export */ });\n/* harmony import */ var protobufjs_minimal_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! protobufjs/minimal.js */ \"(rsc)/./node_modules/protobufjs/minimal.js\");\n// ../../node_modules/long/index.js\nvar wasm = null;\ntry {\n  wasm = new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([\n    0,\n    97,\n    115,\n    109,\n    1,\n    0,\n    0,\n    0,\n    1,\n    13,\n    2,\n    96,\n    0,\n    1,\n    127,\n    96,\n    4,\n    127,\n    127,\n    127,\n    127,\n    1,\n    127,\n    3,\n    7,\n    6,\n    0,\n    1,\n    1,\n    1,\n    1,\n    1,\n    6,\n    6,\n    1,\n    127,\n    1,\n    65,\n    0,\n    11,\n    7,\n    50,\n    6,\n    3,\n    109,\n    117,\n    108,\n    0,\n    1,\n    5,\n    100,\n    105,\n    118,\n    95,\n    115,\n    0,\n    2,\n    5,\n    100,\n    105,\n    118,\n    95,\n    117,\n    0,\n    3,\n    5,\n    114,\n    101,\n    109,\n    95,\n    115,\n    0,\n    4,\n    5,\n    114,\n    101,\n    109,\n    95,\n    117,\n    0,\n    5,\n    8,\n    103,\n    101,\n    116,\n    95,\n    104,\n    105,\n    103,\n    104,\n    0,\n    0,\n    10,\n    191,\n    1,\n    6,\n    4,\n    0,\n    35,\n    0,\n    11,\n    36,\n    1,\n    1,\n    126,\n    32,\n    0,\n    173,\n    32,\n    1,\n    173,\n    66,\n    32,\n    134,\n    132,\n    32,\n    2,\n    173,\n    32,\n    3,\n    173,\n    66,\n    32,\n    134,\n    132,\n    126,\n    34,\n    4,\n    66,\n    32,\n    135,\n    167,\n    36,\n    0,\n    32,\n    4,\n    167,\n    11,\n    36,\n    1,\n    1,\n    126,\n    32,\n    0,\n    173,\n    32,\n    1,\n    173,\n    66,\n    32,\n    134,\n    132,\n    32,\n    2,\n    173,\n    32,\n    3,\n    173,\n    66,\n    32,\n    134,\n    132,\n    127,\n    34,\n    4,\n    66,\n    32,\n    135,\n    167,\n    36,\n    0,\n    32,\n    4,\n    167,\n    11,\n    36,\n    1,\n    1,\n    126,\n    32,\n    0,\n    173,\n    32,\n    1,\n    173,\n    66,\n    32,\n    134,\n    132,\n    32,\n    2,\n    173,\n    32,\n    3,\n    173,\n    66,\n    32,\n    134,\n    132,\n    128,\n    34,\n    4,\n    66,\n    32,\n    135,\n    167,\n    36,\n    0,\n    32,\n    4,\n    167,\n    11,\n    36,\n    1,\n    1,\n    126,\n    32,\n    0,\n    173,\n    32,\n    1,\n    173,\n    66,\n    32,\n    134,\n    132,\n    32,\n    2,\n    173,\n    32,\n    3,\n    173,\n    66,\n    32,\n    134,\n    132,\n    129,\n    34,\n    4,\n    66,\n    32,\n    135,\n    167,\n    36,\n    0,\n    32,\n    4,\n    167,\n    11,\n    36,\n    1,\n    1,\n    126,\n    32,\n    0,\n    173,\n    32,\n    1,\n    173,\n    66,\n    32,\n    134,\n    132,\n    32,\n    2,\n    173,\n    32,\n    3,\n    173,\n    66,\n    32,\n    134,\n    132,\n    130,\n    34,\n    4,\n    66,\n    32,\n    135,\n    167,\n    36,\n    0,\n    32,\n    4,\n    167,\n    11\n  ])), {}).exports;\n} catch (e) {\n}\nfunction Long(low, high, unsigned) {\n  this.low = low | 0;\n  this.high = high | 0;\n  this.unsigned = !!unsigned;\n}\nLong.prototype.__isLong__;\nObject.defineProperty(Long.prototype, \"__isLong__\", { value: true });\nfunction isLong(obj) {\n  return (obj && obj[\"__isLong__\"]) === true;\n}\nfunction ctz32(value) {\n  var c = Math.clz32(value & -value);\n  return value ? 31 - c : c;\n}\nLong.isLong = isLong;\nvar INT_CACHE = {};\nvar UINT_CACHE = {};\nfunction fromInt(value, unsigned) {\n  var obj, cachedObj, cache;\n  if (unsigned) {\n    value >>>= 0;\n    if (cache = 0 <= value && value < 256) {\n      cachedObj = UINT_CACHE[value];\n      if (cachedObj)\n        return cachedObj;\n    }\n    obj = fromBits(value, 0, true);\n    if (cache)\n      UINT_CACHE[value] = obj;\n    return obj;\n  } else {\n    value |= 0;\n    if (cache = -128 <= value && value < 128) {\n      cachedObj = INT_CACHE[value];\n      if (cachedObj)\n        return cachedObj;\n    }\n    obj = fromBits(value, value < 0 ? -1 : 0, false);\n    if (cache)\n      INT_CACHE[value] = obj;\n    return obj;\n  }\n}\nLong.fromInt = fromInt;\nfunction fromNumber(value, unsigned) {\n  if (isNaN(value))\n    return unsigned ? UZERO : ZERO;\n  if (unsigned) {\n    if (value < 0)\n      return UZERO;\n    if (value >= TWO_PWR_64_DBL)\n      return MAX_UNSIGNED_VALUE;\n  } else {\n    if (value <= -TWO_PWR_63_DBL)\n      return MIN_VALUE;\n    if (value + 1 >= TWO_PWR_63_DBL)\n      return MAX_VALUE;\n  }\n  if (value < 0)\n    return fromNumber(-value, unsigned).neg();\n  return fromBits(value % TWO_PWR_32_DBL | 0, value / TWO_PWR_32_DBL | 0, unsigned);\n}\nLong.fromNumber = fromNumber;\nfunction fromBits(lowBits, highBits, unsigned) {\n  return new Long(lowBits, highBits, unsigned);\n}\nLong.fromBits = fromBits;\nvar pow_dbl = Math.pow;\nfunction fromString(str, unsigned, radix) {\n  if (str.length === 0)\n    throw Error(\"empty string\");\n  if (typeof unsigned === \"number\") {\n    radix = unsigned;\n    unsigned = false;\n  } else {\n    unsigned = !!unsigned;\n  }\n  if (str === \"NaN\" || str === \"Infinity\" || str === \"+Infinity\" || str === \"-Infinity\")\n    return unsigned ? UZERO : ZERO;\n  radix = radix || 10;\n  if (radix < 2 || 36 < radix)\n    throw RangeError(\"radix\");\n  var p;\n  if ((p = str.indexOf(\"-\")) > 0)\n    throw Error(\"interior hyphen\");\n  else if (p === 0) {\n    return fromString(str.substring(1), unsigned, radix).neg();\n  }\n  var radixToPower = fromNumber(pow_dbl(radix, 8));\n  var result = ZERO;\n  for (var i = 0; i < str.length; i += 8) {\n    var size = Math.min(8, str.length - i), value = parseInt(str.substring(i, i + size), radix);\n    if (size < 8) {\n      var power = fromNumber(pow_dbl(radix, size));\n      result = result.mul(power).add(fromNumber(value));\n    } else {\n      result = result.mul(radixToPower);\n      result = result.add(fromNumber(value));\n    }\n  }\n  result.unsigned = unsigned;\n  return result;\n}\nLong.fromString = fromString;\nfunction fromValue(val, unsigned) {\n  if (typeof val === \"number\")\n    return fromNumber(val, unsigned);\n  if (typeof val === \"string\")\n    return fromString(val, unsigned);\n  return fromBits(val.low, val.high, typeof unsigned === \"boolean\" ? unsigned : val.unsigned);\n}\nLong.fromValue = fromValue;\nvar TWO_PWR_16_DBL = 1 << 16;\nvar TWO_PWR_24_DBL = 1 << 24;\nvar TWO_PWR_32_DBL = TWO_PWR_16_DBL * TWO_PWR_16_DBL;\nvar TWO_PWR_64_DBL = TWO_PWR_32_DBL * TWO_PWR_32_DBL;\nvar TWO_PWR_63_DBL = TWO_PWR_64_DBL / 2;\nvar TWO_PWR_24 = fromInt(TWO_PWR_24_DBL);\nvar ZERO = fromInt(0);\nLong.ZERO = ZERO;\nvar UZERO = fromInt(0, true);\nLong.UZERO = UZERO;\nvar ONE = fromInt(1);\nLong.ONE = ONE;\nvar UONE = fromInt(1, true);\nLong.UONE = UONE;\nvar NEG_ONE = fromInt(-1);\nLong.NEG_ONE = NEG_ONE;\nvar MAX_VALUE = fromBits(4294967295 | 0, 2147483647 | 0, false);\nLong.MAX_VALUE = MAX_VALUE;\nvar MAX_UNSIGNED_VALUE = fromBits(4294967295 | 0, 4294967295 | 0, true);\nLong.MAX_UNSIGNED_VALUE = MAX_UNSIGNED_VALUE;\nvar MIN_VALUE = fromBits(0, 2147483648 | 0, false);\nLong.MIN_VALUE = MIN_VALUE;\nvar LongPrototype = Long.prototype;\nLongPrototype.toInt = function toInt() {\n  return this.unsigned ? this.low >>> 0 : this.low;\n};\nLongPrototype.toNumber = function toNumber() {\n  if (this.unsigned)\n    return (this.high >>> 0) * TWO_PWR_32_DBL + (this.low >>> 0);\n  return this.high * TWO_PWR_32_DBL + (this.low >>> 0);\n};\nLongPrototype.toString = function toString(radix) {\n  radix = radix || 10;\n  if (radix < 2 || 36 < radix)\n    throw RangeError(\"radix\");\n  if (this.isZero())\n    return \"0\";\n  if (this.isNegative()) {\n    if (this.eq(MIN_VALUE)) {\n      var radixLong = fromNumber(radix), div = this.div(radixLong), rem1 = div.mul(radixLong).sub(this);\n      return div.toString(radix) + rem1.toInt().toString(radix);\n    } else\n      return \"-\" + this.neg().toString(radix);\n  }\n  var radixToPower = fromNumber(pow_dbl(radix, 6), this.unsigned), rem = this;\n  var result = \"\";\n  while (true) {\n    var remDiv = rem.div(radixToPower), intval = rem.sub(remDiv.mul(radixToPower)).toInt() >>> 0, digits = intval.toString(radix);\n    rem = remDiv;\n    if (rem.isZero())\n      return digits + result;\n    else {\n      while (digits.length < 6)\n        digits = \"0\" + digits;\n      result = \"\" + digits + result;\n    }\n  }\n};\nLongPrototype.getHighBits = function getHighBits() {\n  return this.high;\n};\nLongPrototype.getHighBitsUnsigned = function getHighBitsUnsigned() {\n  return this.high >>> 0;\n};\nLongPrototype.getLowBits = function getLowBits() {\n  return this.low;\n};\nLongPrototype.getLowBitsUnsigned = function getLowBitsUnsigned() {\n  return this.low >>> 0;\n};\nLongPrototype.getNumBitsAbs = function getNumBitsAbs() {\n  if (this.isNegative())\n    return this.eq(MIN_VALUE) ? 64 : this.neg().getNumBitsAbs();\n  var val = this.high != 0 ? this.high : this.low;\n  for (var bit = 31; bit > 0; bit--)\n    if ((val & 1 << bit) != 0)\n      break;\n  return this.high != 0 ? bit + 33 : bit + 1;\n};\nLongPrototype.isZero = function isZero() {\n  return this.high === 0 && this.low === 0;\n};\nLongPrototype.eqz = LongPrototype.isZero;\nLongPrototype.isNegative = function isNegative() {\n  return !this.unsigned && this.high < 0;\n};\nLongPrototype.isPositive = function isPositive() {\n  return this.unsigned || this.high >= 0;\n};\nLongPrototype.isOdd = function isOdd() {\n  return (this.low & 1) === 1;\n};\nLongPrototype.isEven = function isEven() {\n  return (this.low & 1) === 0;\n};\nLongPrototype.equals = function equals(other) {\n  if (!isLong(other))\n    other = fromValue(other);\n  if (this.unsigned !== other.unsigned && this.high >>> 31 === 1 && other.high >>> 31 === 1)\n    return false;\n  return this.high === other.high && this.low === other.low;\n};\nLongPrototype.eq = LongPrototype.equals;\nLongPrototype.notEquals = function notEquals(other) {\n  return !this.eq(\n    /* validates */\n    other\n  );\n};\nLongPrototype.neq = LongPrototype.notEquals;\nLongPrototype.ne = LongPrototype.notEquals;\nLongPrototype.lessThan = function lessThan(other) {\n  return this.comp(\n    /* validates */\n    other\n  ) < 0;\n};\nLongPrototype.lt = LongPrototype.lessThan;\nLongPrototype.lessThanOrEqual = function lessThanOrEqual(other) {\n  return this.comp(\n    /* validates */\n    other\n  ) <= 0;\n};\nLongPrototype.lte = LongPrototype.lessThanOrEqual;\nLongPrototype.le = LongPrototype.lessThanOrEqual;\nLongPrototype.greaterThan = function greaterThan(other) {\n  return this.comp(\n    /* validates */\n    other\n  ) > 0;\n};\nLongPrototype.gt = LongPrototype.greaterThan;\nLongPrototype.greaterThanOrEqual = function greaterThanOrEqual(other) {\n  return this.comp(\n    /* validates */\n    other\n  ) >= 0;\n};\nLongPrototype.gte = LongPrototype.greaterThanOrEqual;\nLongPrototype.ge = LongPrototype.greaterThanOrEqual;\nLongPrototype.compare = function compare(other) {\n  if (!isLong(other))\n    other = fromValue(other);\n  if (this.eq(other))\n    return 0;\n  var thisNeg = this.isNegative(), otherNeg = other.isNegative();\n  if (thisNeg && !otherNeg)\n    return -1;\n  if (!thisNeg && otherNeg)\n    return 1;\n  if (!this.unsigned)\n    return this.sub(other).isNegative() ? -1 : 1;\n  return other.high >>> 0 > this.high >>> 0 || other.high === this.high && other.low >>> 0 > this.low >>> 0 ? -1 : 1;\n};\nLongPrototype.comp = LongPrototype.compare;\nLongPrototype.negate = function negate() {\n  if (!this.unsigned && this.eq(MIN_VALUE))\n    return MIN_VALUE;\n  return this.not().add(ONE);\n};\nLongPrototype.neg = LongPrototype.negate;\nLongPrototype.add = function add(addend) {\n  if (!isLong(addend))\n    addend = fromValue(addend);\n  var a48 = this.high >>> 16;\n  var a32 = this.high & 65535;\n  var a16 = this.low >>> 16;\n  var a00 = this.low & 65535;\n  var b48 = addend.high >>> 16;\n  var b32 = addend.high & 65535;\n  var b16 = addend.low >>> 16;\n  var b00 = addend.low & 65535;\n  var c48 = 0, c32 = 0, c16 = 0, c00 = 0;\n  c00 += a00 + b00;\n  c16 += c00 >>> 16;\n  c00 &= 65535;\n  c16 += a16 + b16;\n  c32 += c16 >>> 16;\n  c16 &= 65535;\n  c32 += a32 + b32;\n  c48 += c32 >>> 16;\n  c32 &= 65535;\n  c48 += a48 + b48;\n  c48 &= 65535;\n  return fromBits(c16 << 16 | c00, c48 << 16 | c32, this.unsigned);\n};\nLongPrototype.subtract = function subtract(subtrahend) {\n  if (!isLong(subtrahend))\n    subtrahend = fromValue(subtrahend);\n  return this.add(subtrahend.neg());\n};\nLongPrototype.sub = LongPrototype.subtract;\nLongPrototype.multiply = function multiply(multiplier) {\n  if (this.isZero())\n    return this;\n  if (!isLong(multiplier))\n    multiplier = fromValue(multiplier);\n  if (wasm) {\n    var low = wasm[\"mul\"](\n      this.low,\n      this.high,\n      multiplier.low,\n      multiplier.high\n    );\n    return fromBits(low, wasm[\"get_high\"](), this.unsigned);\n  }\n  if (multiplier.isZero())\n    return this.unsigned ? UZERO : ZERO;\n  if (this.eq(MIN_VALUE))\n    return multiplier.isOdd() ? MIN_VALUE : ZERO;\n  if (multiplier.eq(MIN_VALUE))\n    return this.isOdd() ? MIN_VALUE : ZERO;\n  if (this.isNegative()) {\n    if (multiplier.isNegative())\n      return this.neg().mul(multiplier.neg());\n    else\n      return this.neg().mul(multiplier).neg();\n  } else if (multiplier.isNegative())\n    return this.mul(multiplier.neg()).neg();\n  if (this.lt(TWO_PWR_24) && multiplier.lt(TWO_PWR_24))\n    return fromNumber(this.toNumber() * multiplier.toNumber(), this.unsigned);\n  var a48 = this.high >>> 16;\n  var a32 = this.high & 65535;\n  var a16 = this.low >>> 16;\n  var a00 = this.low & 65535;\n  var b48 = multiplier.high >>> 16;\n  var b32 = multiplier.high & 65535;\n  var b16 = multiplier.low >>> 16;\n  var b00 = multiplier.low & 65535;\n  var c48 = 0, c32 = 0, c16 = 0, c00 = 0;\n  c00 += a00 * b00;\n  c16 += c00 >>> 16;\n  c00 &= 65535;\n  c16 += a16 * b00;\n  c32 += c16 >>> 16;\n  c16 &= 65535;\n  c16 += a00 * b16;\n  c32 += c16 >>> 16;\n  c16 &= 65535;\n  c32 += a32 * b00;\n  c48 += c32 >>> 16;\n  c32 &= 65535;\n  c32 += a16 * b16;\n  c48 += c32 >>> 16;\n  c32 &= 65535;\n  c32 += a00 * b32;\n  c48 += c32 >>> 16;\n  c32 &= 65535;\n  c48 += a48 * b00 + a32 * b16 + a16 * b32 + a00 * b48;\n  c48 &= 65535;\n  return fromBits(c16 << 16 | c00, c48 << 16 | c32, this.unsigned);\n};\nLongPrototype.mul = LongPrototype.multiply;\nLongPrototype.divide = function divide(divisor) {\n  if (!isLong(divisor))\n    divisor = fromValue(divisor);\n  if (divisor.isZero())\n    throw Error(\"division by zero\");\n  if (wasm) {\n    if (!this.unsigned && this.high === -2147483648 && divisor.low === -1 && divisor.high === -1) {\n      return this;\n    }\n    var low = (this.unsigned ? wasm[\"div_u\"] : wasm[\"div_s\"])(\n      this.low,\n      this.high,\n      divisor.low,\n      divisor.high\n    );\n    return fromBits(low, wasm[\"get_high\"](), this.unsigned);\n  }\n  if (this.isZero())\n    return this.unsigned ? UZERO : ZERO;\n  var approx, rem, res;\n  if (!this.unsigned) {\n    if (this.eq(MIN_VALUE)) {\n      if (divisor.eq(ONE) || divisor.eq(NEG_ONE))\n        return MIN_VALUE;\n      else if (divisor.eq(MIN_VALUE))\n        return ONE;\n      else {\n        var halfThis = this.shr(1);\n        approx = halfThis.div(divisor).shl(1);\n        if (approx.eq(ZERO)) {\n          return divisor.isNegative() ? ONE : NEG_ONE;\n        } else {\n          rem = this.sub(divisor.mul(approx));\n          res = approx.add(rem.div(divisor));\n          return res;\n        }\n      }\n    } else if (divisor.eq(MIN_VALUE))\n      return this.unsigned ? UZERO : ZERO;\n    if (this.isNegative()) {\n      if (divisor.isNegative())\n        return this.neg().div(divisor.neg());\n      return this.neg().div(divisor).neg();\n    } else if (divisor.isNegative())\n      return this.div(divisor.neg()).neg();\n    res = ZERO;\n  } else {\n    if (!divisor.unsigned)\n      divisor = divisor.toUnsigned();\n    if (divisor.gt(this))\n      return UZERO;\n    if (divisor.gt(this.shru(1)))\n      return UONE;\n    res = UZERO;\n  }\n  rem = this;\n  while (rem.gte(divisor)) {\n    approx = Math.max(1, Math.floor(rem.toNumber() / divisor.toNumber()));\n    var log2 = Math.ceil(Math.log(approx) / Math.LN2), delta = log2 <= 48 ? 1 : pow_dbl(2, log2 - 48), approxRes = fromNumber(approx), approxRem = approxRes.mul(divisor);\n    while (approxRem.isNegative() || approxRem.gt(rem)) {\n      approx -= delta;\n      approxRes = fromNumber(approx, this.unsigned);\n      approxRem = approxRes.mul(divisor);\n    }\n    if (approxRes.isZero())\n      approxRes = ONE;\n    res = res.add(approxRes);\n    rem = rem.sub(approxRem);\n  }\n  return res;\n};\nLongPrototype.div = LongPrototype.divide;\nLongPrototype.modulo = function modulo(divisor) {\n  if (!isLong(divisor))\n    divisor = fromValue(divisor);\n  if (wasm) {\n    var low = (this.unsigned ? wasm[\"rem_u\"] : wasm[\"rem_s\"])(\n      this.low,\n      this.high,\n      divisor.low,\n      divisor.high\n    );\n    return fromBits(low, wasm[\"get_high\"](), this.unsigned);\n  }\n  return this.sub(this.div(divisor).mul(divisor));\n};\nLongPrototype.mod = LongPrototype.modulo;\nLongPrototype.rem = LongPrototype.modulo;\nLongPrototype.not = function not() {\n  return fromBits(~this.low, ~this.high, this.unsigned);\n};\nLongPrototype.countLeadingZeros = function countLeadingZeros() {\n  return this.high ? Math.clz32(this.high) : Math.clz32(this.low) + 32;\n};\nLongPrototype.clz = LongPrototype.countLeadingZeros;\nLongPrototype.countTrailingZeros = function countTrailingZeros() {\n  return this.low ? ctz32(this.low) : ctz32(this.high) + 32;\n};\nLongPrototype.ctz = LongPrototype.countTrailingZeros;\nLongPrototype.and = function and(other) {\n  if (!isLong(other))\n    other = fromValue(other);\n  return fromBits(this.low & other.low, this.high & other.high, this.unsigned);\n};\nLongPrototype.or = function or(other) {\n  if (!isLong(other))\n    other = fromValue(other);\n  return fromBits(this.low | other.low, this.high | other.high, this.unsigned);\n};\nLongPrototype.xor = function xor(other) {\n  if (!isLong(other))\n    other = fromValue(other);\n  return fromBits(this.low ^ other.low, this.high ^ other.high, this.unsigned);\n};\nLongPrototype.shiftLeft = function shiftLeft(numBits) {\n  if (isLong(numBits))\n    numBits = numBits.toInt();\n  if ((numBits &= 63) === 0)\n    return this;\n  else if (numBits < 32)\n    return fromBits(this.low << numBits, this.high << numBits | this.low >>> 32 - numBits, this.unsigned);\n  else\n    return fromBits(0, this.low << numBits - 32, this.unsigned);\n};\nLongPrototype.shl = LongPrototype.shiftLeft;\nLongPrototype.shiftRight = function shiftRight(numBits) {\n  if (isLong(numBits))\n    numBits = numBits.toInt();\n  if ((numBits &= 63) === 0)\n    return this;\n  else if (numBits < 32)\n    return fromBits(this.low >>> numBits | this.high << 32 - numBits, this.high >> numBits, this.unsigned);\n  else\n    return fromBits(this.high >> numBits - 32, this.high >= 0 ? 0 : -1, this.unsigned);\n};\nLongPrototype.shr = LongPrototype.shiftRight;\nLongPrototype.shiftRightUnsigned = function shiftRightUnsigned(numBits) {\n  if (isLong(numBits))\n    numBits = numBits.toInt();\n  if ((numBits &= 63) === 0)\n    return this;\n  if (numBits < 32)\n    return fromBits(this.low >>> numBits | this.high << 32 - numBits, this.high >>> numBits, this.unsigned);\n  if (numBits === 32)\n    return fromBits(this.high, 0, this.unsigned);\n  return fromBits(this.high >>> numBits - 32, 0, this.unsigned);\n};\nLongPrototype.shru = LongPrototype.shiftRightUnsigned;\nLongPrototype.shr_u = LongPrototype.shiftRightUnsigned;\nLongPrototype.rotateLeft = function rotateLeft(numBits) {\n  var b;\n  if (isLong(numBits))\n    numBits = numBits.toInt();\n  if ((numBits &= 63) === 0)\n    return this;\n  if (numBits === 32)\n    return fromBits(this.high, this.low, this.unsigned);\n  if (numBits < 32) {\n    b = 32 - numBits;\n    return fromBits(this.low << numBits | this.high >>> b, this.high << numBits | this.low >>> b, this.unsigned);\n  }\n  numBits -= 32;\n  b = 32 - numBits;\n  return fromBits(this.high << numBits | this.low >>> b, this.low << numBits | this.high >>> b, this.unsigned);\n};\nLongPrototype.rotl = LongPrototype.rotateLeft;\nLongPrototype.rotateRight = function rotateRight(numBits) {\n  var b;\n  if (isLong(numBits))\n    numBits = numBits.toInt();\n  if ((numBits &= 63) === 0)\n    return this;\n  if (numBits === 32)\n    return fromBits(this.high, this.low, this.unsigned);\n  if (numBits < 32) {\n    b = 32 - numBits;\n    return fromBits(this.high << b | this.low >>> numBits, this.low << b | this.high >>> numBits, this.unsigned);\n  }\n  numBits -= 32;\n  b = 32 - numBits;\n  return fromBits(this.low << b | this.high >>> numBits, this.high << b | this.low >>> numBits, this.unsigned);\n};\nLongPrototype.rotr = LongPrototype.rotateRight;\nLongPrototype.toSigned = function toSigned() {\n  if (!this.unsigned)\n    return this;\n  return fromBits(this.low, this.high, false);\n};\nLongPrototype.toUnsigned = function toUnsigned() {\n  if (this.unsigned)\n    return this;\n  return fromBits(this.low, this.high, true);\n};\nLongPrototype.toBytes = function toBytes(le) {\n  return le ? this.toBytesLE() : this.toBytesBE();\n};\nLongPrototype.toBytesLE = function toBytesLE() {\n  var hi = this.high, lo = this.low;\n  return [\n    lo & 255,\n    lo >>> 8 & 255,\n    lo >>> 16 & 255,\n    lo >>> 24,\n    hi & 255,\n    hi >>> 8 & 255,\n    hi >>> 16 & 255,\n    hi >>> 24\n  ];\n};\nLongPrototype.toBytesBE = function toBytesBE() {\n  var hi = this.high, lo = this.low;\n  return [\n    hi >>> 24,\n    hi >>> 16 & 255,\n    hi >>> 8 & 255,\n    hi & 255,\n    lo >>> 24,\n    lo >>> 16 & 255,\n    lo >>> 8 & 255,\n    lo & 255\n  ];\n};\nLong.fromBytes = function fromBytes(bytes, unsigned, le) {\n  return le ? Long.fromBytesLE(bytes, unsigned) : Long.fromBytesBE(bytes, unsigned);\n};\nLong.fromBytesLE = function fromBytesLE(bytes, unsigned) {\n  return new Long(\n    bytes[0] | bytes[1] << 8 | bytes[2] << 16 | bytes[3] << 24,\n    bytes[4] | bytes[5] << 8 | bytes[6] << 16 | bytes[7] << 24,\n    unsigned\n  );\n};\nLong.fromBytesBE = function fromBytesBE(bytes, unsigned) {\n  return new Long(\n    bytes[4] << 24 | bytes[5] << 16 | bytes[6] << 8 | bytes[7],\n    bytes[0] << 24 | bytes[1] << 16 | bytes[2] << 8 | bytes[3],\n    unsigned\n  );\n};\nvar long_default = Long;\n\n// src/farcaster/generated/username_proof.ts\n\nvar UserNameType = /* @__PURE__ */ ((UserNameType2) => {\n  UserNameType2[UserNameType2[\"USERNAME_TYPE_NONE\"] = 0] = \"USERNAME_TYPE_NONE\";\n  UserNameType2[UserNameType2[\"USERNAME_TYPE_FNAME\"] = 1] = \"USERNAME_TYPE_FNAME\";\n  UserNameType2[UserNameType2[\"USERNAME_TYPE_ENS_L1\"] = 2] = \"USERNAME_TYPE_ENS_L1\";\n  return UserNameType2;\n})(UserNameType || {});\nfunction userNameTypeFromJSON(object) {\n  switch (object) {\n    case 0:\n    case \"USERNAME_TYPE_NONE\":\n      return 0 /* USERNAME_TYPE_NONE */;\n    case 1:\n    case \"USERNAME_TYPE_FNAME\":\n      return 1 /* USERNAME_TYPE_FNAME */;\n    case 2:\n    case \"USERNAME_TYPE_ENS_L1\":\n      return 2 /* USERNAME_TYPE_ENS_L1 */;\n    default:\n      throw new tsProtoGlobalThis.Error(\n        \"Unrecognized enum value \" + object + \" for enum UserNameType\"\n      );\n  }\n}\nfunction userNameTypeToJSON(object) {\n  switch (object) {\n    case 0 /* USERNAME_TYPE_NONE */:\n      return \"USERNAME_TYPE_NONE\";\n    case 1 /* USERNAME_TYPE_FNAME */:\n      return \"USERNAME_TYPE_FNAME\";\n    case 2 /* USERNAME_TYPE_ENS_L1 */:\n      return \"USERNAME_TYPE_ENS_L1\";\n    default:\n      throw new tsProtoGlobalThis.Error(\n        \"Unrecognized enum value \" + object + \" for enum UserNameType\"\n      );\n  }\n}\nfunction createBaseUserNameProof() {\n  return {\n    timestamp: 0,\n    name: new Uint8Array(),\n    owner: new Uint8Array(),\n    signature: new Uint8Array(),\n    fid: 0,\n    type: 0\n  };\n}\nvar UserNameProof = {\n  encode(message, writer = protobufjs_minimal_js__WEBPACK_IMPORTED_MODULE_0__.Writer.create()) {\n    if (message.timestamp !== 0) {\n      writer.uint32(8).uint64(message.timestamp);\n    }\n    if (message.name.length !== 0) {\n      writer.uint32(18).bytes(message.name);\n    }\n    if (message.owner.length !== 0) {\n      writer.uint32(26).bytes(message.owner);\n    }\n    if (message.signature.length !== 0) {\n      writer.uint32(34).bytes(message.signature);\n    }\n    if (message.fid !== 0) {\n      writer.uint32(40).uint64(message.fid);\n    }\n    if (message.type !== 0) {\n      writer.uint32(48).int32(message.type);\n    }\n    return writer;\n  },\n  decode(input, length) {\n    const reader = input instanceof protobufjs_minimal_js__WEBPACK_IMPORTED_MODULE_0__.Reader ? input : protobufjs_minimal_js__WEBPACK_IMPORTED_MODULE_0__.Reader.create(input);\n    let end = length === void 0 ? reader.len : reader.pos + length;\n    const message = createBaseUserNameProof();\n    while (reader.pos < end) {\n      const tag = reader.uint32();\n      switch (tag >>> 3) {\n        case 1:\n          if (tag != 8) {\n            break;\n          }\n          message.timestamp = longToNumber(reader.uint64());\n          continue;\n        case 2:\n          if (tag != 18) {\n            break;\n          }\n          message.name = reader.bytes();\n          continue;\n        case 3:\n          if (tag != 26) {\n            break;\n          }\n          message.owner = reader.bytes();\n          continue;\n        case 4:\n          if (tag != 34) {\n            break;\n          }\n          message.signature = reader.bytes();\n          continue;\n        case 5:\n          if (tag != 40) {\n            break;\n          }\n          message.fid = longToNumber(reader.uint64());\n          continue;\n        case 6:\n          if (tag != 48) {\n            break;\n          }\n          message.type = reader.int32();\n          continue;\n      }\n      if ((tag & 7) == 4 || tag == 0) {\n        break;\n      }\n      reader.skipType(tag & 7);\n    }\n    return message;\n  },\n  fromJSON(object) {\n    return {\n      timestamp: isSet(object.timestamp) ? Number(object.timestamp) : 0,\n      name: isSet(object.name) ? bytesFromBase64(object.name) : new Uint8Array(),\n      owner: isSet(object.owner) ? bytesFromBase64(object.owner) : new Uint8Array(),\n      signature: isSet(object.signature) ? bytesFromBase64(object.signature) : new Uint8Array(),\n      fid: isSet(object.fid) ? Number(object.fid) : 0,\n      type: isSet(object.type) ? userNameTypeFromJSON(object.type) : 0\n    };\n  },\n  toJSON(message) {\n    const obj = {};\n    message.timestamp !== void 0 && (obj.timestamp = Math.round(message.timestamp));\n    message.name !== void 0 && (obj.name = base64FromBytes(\n      message.name !== void 0 ? message.name : new Uint8Array()\n    ));\n    message.owner !== void 0 && (obj.owner = base64FromBytes(\n      message.owner !== void 0 ? message.owner : new Uint8Array()\n    ));\n    message.signature !== void 0 && (obj.signature = base64FromBytes(\n      message.signature !== void 0 ? message.signature : new Uint8Array()\n    ));\n    message.fid !== void 0 && (obj.fid = Math.round(message.fid));\n    message.type !== void 0 && (obj.type = userNameTypeToJSON(message.type));\n    return obj;\n  },\n  create(base) {\n    return UserNameProof.fromPartial(base ?? {});\n  },\n  fromPartial(object) {\n    const message = createBaseUserNameProof();\n    message.timestamp = object.timestamp ?? 0;\n    message.name = object.name ?? new Uint8Array();\n    message.owner = object.owner ?? new Uint8Array();\n    message.signature = object.signature ?? new Uint8Array();\n    message.fid = object.fid ?? 0;\n    message.type = object.type ?? 0;\n    return message;\n  }\n};\nvar tsProtoGlobalThis = (() => {\n  if (typeof globalThis !== \"undefined\") {\n    return globalThis;\n  }\n  if (typeof self !== \"undefined\") {\n    return self;\n  }\n  if (typeof window !== \"undefined\") {\n    return window;\n  }\n  if (typeof global !== \"undefined\") {\n    return global;\n  }\n  throw \"Unable to locate global object\";\n})();\nfunction bytesFromBase64(b64) {\n  if (tsProtoGlobalThis.Buffer) {\n    return Uint8Array.from(tsProtoGlobalThis.Buffer.from(b64, \"base64\"));\n  } else {\n    const bin = tsProtoGlobalThis.atob(b64);\n    const arr = new Uint8Array(bin.length);\n    for (let i = 0; i < bin.length; ++i) {\n      arr[i] = bin.charCodeAt(i);\n    }\n    return arr;\n  }\n}\nfunction base64FromBytes(arr) {\n  if (tsProtoGlobalThis.Buffer) {\n    return tsProtoGlobalThis.Buffer.from(arr).toString(\"base64\");\n  } else {\n    const bin = [];\n    arr.forEach((byte) => {\n      bin.push(String.fromCharCode(byte));\n    });\n    return tsProtoGlobalThis.btoa(bin.join(\"\"));\n  }\n}\nfunction longToNumber(long) {\n  if (long.gt(Number.MAX_SAFE_INTEGER)) {\n    throw new tsProtoGlobalThis.Error(\n      \"Value is larger than Number.MAX_SAFE_INTEGER\"\n    );\n  }\n  return long.toNumber();\n}\nif (protobufjs_minimal_js__WEBPACK_IMPORTED_MODULE_0__.util.Long !== long_default) {\n  protobufjs_minimal_js__WEBPACK_IMPORTED_MODULE_0__.util.Long = long_default;\n  protobufjs_minimal_js__WEBPACK_IMPORTED_MODULE_0__.configure();\n}\nfunction isSet(value) {\n  return value !== null && value !== void 0;\n}\n\n\n/*! Bundled license information:\n\nlong/index.js:\n  (**\n   * @license\n   * Copyright 2009 The Closure Library Authors\n   * Copyright 2020 Daniel Wirtz / The long.js Authors.\n   *\n   * Licensed under the Apache License, Version 2.0 (the \"License\");\n   * you may not use this file except in compliance with the License.\n   * You may obtain a copy of the License at\n   *\n   *     http://www.apache.org/licenses/LICENSE-2.0\n   *\n   * Unless required by applicable law or agreed to in writing, software\n   * distributed under the License is distributed on an \"AS IS\" BASIS,\n   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n   * See the License for the specific language governing permissions and\n   * limitations under the License.\n   *\n   * SPDX-License-Identifier: Apache-2.0\n   *)\n*/\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvZnJhbWVzLmpzL2Rpc3QvY2h1bmstSkdUSDJBTkMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVCxFQUFFO0FBQ0Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzREFBc0QsYUFBYTtBQUNuRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCLGdCQUFnQjtBQUNsQztBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQixTQUFTO0FBQzlCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ3dDO0FBQ3hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDLG9CQUFvQjtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyQkFBMkIseURBQVU7QUFDckM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQSxvQ0FBb0MseURBQVUsV0FBVyx5REFBVTtBQUNuRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBLCtDQUErQztBQUMvQyxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQSxvQkFBb0IsZ0JBQWdCO0FBQ3BDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJLHVEQUFRO0FBQ1osRUFBRSx1REFBUTtBQUNWLEVBQUUsNERBQWE7QUFDZjtBQUNBO0FBQ0E7QUFDQTs7QUFRRTtBQUNGOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL3BsZWItZmluZGVyLy4vbm9kZV9tb2R1bGVzL2ZyYW1lcy5qcy9kaXN0L2NodW5rLUpHVEgyQU5DLmpzP2M3NjEiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gLi4vLi4vbm9kZV9tb2R1bGVzL2xvbmcvaW5kZXguanNcbnZhciB3YXNtID0gbnVsbDtcbnRyeSB7XG4gIHdhc20gPSBuZXcgV2ViQXNzZW1ibHkuSW5zdGFuY2UobmV3IFdlYkFzc2VtYmx5Lk1vZHVsZShuZXcgVWludDhBcnJheShbXG4gICAgMCxcbiAgICA5NyxcbiAgICAxMTUsXG4gICAgMTA5LFxuICAgIDEsXG4gICAgMCxcbiAgICAwLFxuICAgIDAsXG4gICAgMSxcbiAgICAxMyxcbiAgICAyLFxuICAgIDk2LFxuICAgIDAsXG4gICAgMSxcbiAgICAxMjcsXG4gICAgOTYsXG4gICAgNCxcbiAgICAxMjcsXG4gICAgMTI3LFxuICAgIDEyNyxcbiAgICAxMjcsXG4gICAgMSxcbiAgICAxMjcsXG4gICAgMyxcbiAgICA3LFxuICAgIDYsXG4gICAgMCxcbiAgICAxLFxuICAgIDEsXG4gICAgMSxcbiAgICAxLFxuICAgIDEsXG4gICAgNixcbiAgICA2LFxuICAgIDEsXG4gICAgMTI3LFxuICAgIDEsXG4gICAgNjUsXG4gICAgMCxcbiAgICAxMSxcbiAgICA3LFxuICAgIDUwLFxuICAgIDYsXG4gICAgMyxcbiAgICAxMDksXG4gICAgMTE3LFxuICAgIDEwOCxcbiAgICAwLFxuICAgIDEsXG4gICAgNSxcbiAgICAxMDAsXG4gICAgMTA1LFxuICAgIDExOCxcbiAgICA5NSxcbiAgICAxMTUsXG4gICAgMCxcbiAgICAyLFxuICAgIDUsXG4gICAgMTAwLFxuICAgIDEwNSxcbiAgICAxMTgsXG4gICAgOTUsXG4gICAgMTE3LFxuICAgIDAsXG4gICAgMyxcbiAgICA1LFxuICAgIDExNCxcbiAgICAxMDEsXG4gICAgMTA5LFxuICAgIDk1LFxuICAgIDExNSxcbiAgICAwLFxuICAgIDQsXG4gICAgNSxcbiAgICAxMTQsXG4gICAgMTAxLFxuICAgIDEwOSxcbiAgICA5NSxcbiAgICAxMTcsXG4gICAgMCxcbiAgICA1LFxuICAgIDgsXG4gICAgMTAzLFxuICAgIDEwMSxcbiAgICAxMTYsXG4gICAgOTUsXG4gICAgMTA0LFxuICAgIDEwNSxcbiAgICAxMDMsXG4gICAgMTA0LFxuICAgIDAsXG4gICAgMCxcbiAgICAxMCxcbiAgICAxOTEsXG4gICAgMSxcbiAgICA2LFxuICAgIDQsXG4gICAgMCxcbiAgICAzNSxcbiAgICAwLFxuICAgIDExLFxuICAgIDM2LFxuICAgIDEsXG4gICAgMSxcbiAgICAxMjYsXG4gICAgMzIsXG4gICAgMCxcbiAgICAxNzMsXG4gICAgMzIsXG4gICAgMSxcbiAgICAxNzMsXG4gICAgNjYsXG4gICAgMzIsXG4gICAgMTM0LFxuICAgIDEzMixcbiAgICAzMixcbiAgICAyLFxuICAgIDE3MyxcbiAgICAzMixcbiAgICAzLFxuICAgIDE3MyxcbiAgICA2NixcbiAgICAzMixcbiAgICAxMzQsXG4gICAgMTMyLFxuICAgIDEyNixcbiAgICAzNCxcbiAgICA0LFxuICAgIDY2LFxuICAgIDMyLFxuICAgIDEzNSxcbiAgICAxNjcsXG4gICAgMzYsXG4gICAgMCxcbiAgICAzMixcbiAgICA0LFxuICAgIDE2NyxcbiAgICAxMSxcbiAgICAzNixcbiAgICAxLFxuICAgIDEsXG4gICAgMTI2LFxuICAgIDMyLFxuICAgIDAsXG4gICAgMTczLFxuICAgIDMyLFxuICAgIDEsXG4gICAgMTczLFxuICAgIDY2LFxuICAgIDMyLFxuICAgIDEzNCxcbiAgICAxMzIsXG4gICAgMzIsXG4gICAgMixcbiAgICAxNzMsXG4gICAgMzIsXG4gICAgMyxcbiAgICAxNzMsXG4gICAgNjYsXG4gICAgMzIsXG4gICAgMTM0LFxuICAgIDEzMixcbiAgICAxMjcsXG4gICAgMzQsXG4gICAgNCxcbiAgICA2NixcbiAgICAzMixcbiAgICAxMzUsXG4gICAgMTY3LFxuICAgIDM2LFxuICAgIDAsXG4gICAgMzIsXG4gICAgNCxcbiAgICAxNjcsXG4gICAgMTEsXG4gICAgMzYsXG4gICAgMSxcbiAgICAxLFxuICAgIDEyNixcbiAgICAzMixcbiAgICAwLFxuICAgIDE3MyxcbiAgICAzMixcbiAgICAxLFxuICAgIDE3MyxcbiAgICA2NixcbiAgICAzMixcbiAgICAxMzQsXG4gICAgMTMyLFxuICAgIDMyLFxuICAgIDIsXG4gICAgMTczLFxuICAgIDMyLFxuICAgIDMsXG4gICAgMTczLFxuICAgIDY2LFxuICAgIDMyLFxuICAgIDEzNCxcbiAgICAxMzIsXG4gICAgMTI4LFxuICAgIDM0LFxuICAgIDQsXG4gICAgNjYsXG4gICAgMzIsXG4gICAgMTM1LFxuICAgIDE2NyxcbiAgICAzNixcbiAgICAwLFxuICAgIDMyLFxuICAgIDQsXG4gICAgMTY3LFxuICAgIDExLFxuICAgIDM2LFxuICAgIDEsXG4gICAgMSxcbiAgICAxMjYsXG4gICAgMzIsXG4gICAgMCxcbiAgICAxNzMsXG4gICAgMzIsXG4gICAgMSxcbiAgICAxNzMsXG4gICAgNjYsXG4gICAgMzIsXG4gICAgMTM0LFxuICAgIDEzMixcbiAgICAzMixcbiAgICAyLFxuICAgIDE3MyxcbiAgICAzMixcbiAgICAzLFxuICAgIDE3MyxcbiAgICA2NixcbiAgICAzMixcbiAgICAxMzQsXG4gICAgMTMyLFxuICAgIDEyOSxcbiAgICAzNCxcbiAgICA0LFxuICAgIDY2LFxuICAgIDMyLFxuICAgIDEzNSxcbiAgICAxNjcsXG4gICAgMzYsXG4gICAgMCxcbiAgICAzMixcbiAgICA0LFxuICAgIDE2NyxcbiAgICAxMSxcbiAgICAzNixcbiAgICAxLFxuICAgIDEsXG4gICAgMTI2LFxuICAgIDMyLFxuICAgIDAsXG4gICAgMTczLFxuICAgIDMyLFxuICAgIDEsXG4gICAgMTczLFxuICAgIDY2LFxuICAgIDMyLFxuICAgIDEzNCxcbiAgICAxMzIsXG4gICAgMzIsXG4gICAgMixcbiAgICAxNzMsXG4gICAgMzIsXG4gICAgMyxcbiAgICAxNzMsXG4gICAgNjYsXG4gICAgMzIsXG4gICAgMTM0LFxuICAgIDEzMixcbiAgICAxMzAsXG4gICAgMzQsXG4gICAgNCxcbiAgICA2NixcbiAgICAzMixcbiAgICAxMzUsXG4gICAgMTY3LFxuICAgIDM2LFxuICAgIDAsXG4gICAgMzIsXG4gICAgNCxcbiAgICAxNjcsXG4gICAgMTFcbiAgXSkpLCB7fSkuZXhwb3J0cztcbn0gY2F0Y2ggKGUpIHtcbn1cbmZ1bmN0aW9uIExvbmcobG93LCBoaWdoLCB1bnNpZ25lZCkge1xuICB0aGlzLmxvdyA9IGxvdyB8IDA7XG4gIHRoaXMuaGlnaCA9IGhpZ2ggfCAwO1xuICB0aGlzLnVuc2lnbmVkID0gISF1bnNpZ25lZDtcbn1cbkxvbmcucHJvdG90eXBlLl9faXNMb25nX187XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoTG9uZy5wcm90b3R5cGUsIFwiX19pc0xvbmdfX1wiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZnVuY3Rpb24gaXNMb25nKG9iaikge1xuICByZXR1cm4gKG9iaiAmJiBvYmpbXCJfX2lzTG9uZ19fXCJdKSA9PT0gdHJ1ZTtcbn1cbmZ1bmN0aW9uIGN0ejMyKHZhbHVlKSB7XG4gIHZhciBjID0gTWF0aC5jbHozMih2YWx1ZSAmIC12YWx1ZSk7XG4gIHJldHVybiB2YWx1ZSA/IDMxIC0gYyA6IGM7XG59XG5Mb25nLmlzTG9uZyA9IGlzTG9uZztcbnZhciBJTlRfQ0FDSEUgPSB7fTtcbnZhciBVSU5UX0NBQ0hFID0ge307XG5mdW5jdGlvbiBmcm9tSW50KHZhbHVlLCB1bnNpZ25lZCkge1xuICB2YXIgb2JqLCBjYWNoZWRPYmosIGNhY2hlO1xuICBpZiAodW5zaWduZWQpIHtcbiAgICB2YWx1ZSA+Pj49IDA7XG4gICAgaWYgKGNhY2hlID0gMCA8PSB2YWx1ZSAmJiB2YWx1ZSA8IDI1Nikge1xuICAgICAgY2FjaGVkT2JqID0gVUlOVF9DQUNIRVt2YWx1ZV07XG4gICAgICBpZiAoY2FjaGVkT2JqKVxuICAgICAgICByZXR1cm4gY2FjaGVkT2JqO1xuICAgIH1cbiAgICBvYmogPSBmcm9tQml0cyh2YWx1ZSwgMCwgdHJ1ZSk7XG4gICAgaWYgKGNhY2hlKVxuICAgICAgVUlOVF9DQUNIRVt2YWx1ZV0gPSBvYmo7XG4gICAgcmV0dXJuIG9iajtcbiAgfSBlbHNlIHtcbiAgICB2YWx1ZSB8PSAwO1xuICAgIGlmIChjYWNoZSA9IC0xMjggPD0gdmFsdWUgJiYgdmFsdWUgPCAxMjgpIHtcbiAgICAgIGNhY2hlZE9iaiA9IElOVF9DQUNIRVt2YWx1ZV07XG4gICAgICBpZiAoY2FjaGVkT2JqKVxuICAgICAgICByZXR1cm4gY2FjaGVkT2JqO1xuICAgIH1cbiAgICBvYmogPSBmcm9tQml0cyh2YWx1ZSwgdmFsdWUgPCAwID8gLTEgOiAwLCBmYWxzZSk7XG4gICAgaWYgKGNhY2hlKVxuICAgICAgSU5UX0NBQ0hFW3ZhbHVlXSA9IG9iajtcbiAgICByZXR1cm4gb2JqO1xuICB9XG59XG5Mb25nLmZyb21JbnQgPSBmcm9tSW50O1xuZnVuY3Rpb24gZnJvbU51bWJlcih2YWx1ZSwgdW5zaWduZWQpIHtcbiAgaWYgKGlzTmFOKHZhbHVlKSlcbiAgICByZXR1cm4gdW5zaWduZWQgPyBVWkVSTyA6IFpFUk87XG4gIGlmICh1bnNpZ25lZCkge1xuICAgIGlmICh2YWx1ZSA8IDApXG4gICAgICByZXR1cm4gVVpFUk87XG4gICAgaWYgKHZhbHVlID49IFRXT19QV1JfNjRfREJMKVxuICAgICAgcmV0dXJuIE1BWF9VTlNJR05FRF9WQUxVRTtcbiAgfSBlbHNlIHtcbiAgICBpZiAodmFsdWUgPD0gLVRXT19QV1JfNjNfREJMKVxuICAgICAgcmV0dXJuIE1JTl9WQUxVRTtcbiAgICBpZiAodmFsdWUgKyAxID49IFRXT19QV1JfNjNfREJMKVxuICAgICAgcmV0dXJuIE1BWF9WQUxVRTtcbiAgfVxuICBpZiAodmFsdWUgPCAwKVxuICAgIHJldHVybiBmcm9tTnVtYmVyKC12YWx1ZSwgdW5zaWduZWQpLm5lZygpO1xuICByZXR1cm4gZnJvbUJpdHModmFsdWUgJSBUV09fUFdSXzMyX0RCTCB8IDAsIHZhbHVlIC8gVFdPX1BXUl8zMl9EQkwgfCAwLCB1bnNpZ25lZCk7XG59XG5Mb25nLmZyb21OdW1iZXIgPSBmcm9tTnVtYmVyO1xuZnVuY3Rpb24gZnJvbUJpdHMobG93Qml0cywgaGlnaEJpdHMsIHVuc2lnbmVkKSB7XG4gIHJldHVybiBuZXcgTG9uZyhsb3dCaXRzLCBoaWdoQml0cywgdW5zaWduZWQpO1xufVxuTG9uZy5mcm9tQml0cyA9IGZyb21CaXRzO1xudmFyIHBvd19kYmwgPSBNYXRoLnBvdztcbmZ1bmN0aW9uIGZyb21TdHJpbmcoc3RyLCB1bnNpZ25lZCwgcmFkaXgpIHtcbiAgaWYgKHN0ci5sZW5ndGggPT09IDApXG4gICAgdGhyb3cgRXJyb3IoXCJlbXB0eSBzdHJpbmdcIik7XG4gIGlmICh0eXBlb2YgdW5zaWduZWQgPT09IFwibnVtYmVyXCIpIHtcbiAgICByYWRpeCA9IHVuc2lnbmVkO1xuICAgIHVuc2lnbmVkID0gZmFsc2U7XG4gIH0gZWxzZSB7XG4gICAgdW5zaWduZWQgPSAhIXVuc2lnbmVkO1xuICB9XG4gIGlmIChzdHIgPT09IFwiTmFOXCIgfHwgc3RyID09PSBcIkluZmluaXR5XCIgfHwgc3RyID09PSBcIitJbmZpbml0eVwiIHx8IHN0ciA9PT0gXCItSW5maW5pdHlcIilcbiAgICByZXR1cm4gdW5zaWduZWQgPyBVWkVSTyA6IFpFUk87XG4gIHJhZGl4ID0gcmFkaXggfHwgMTA7XG4gIGlmIChyYWRpeCA8IDIgfHwgMzYgPCByYWRpeClcbiAgICB0aHJvdyBSYW5nZUVycm9yKFwicmFkaXhcIik7XG4gIHZhciBwO1xuICBpZiAoKHAgPSBzdHIuaW5kZXhPZihcIi1cIikpID4gMClcbiAgICB0aHJvdyBFcnJvcihcImludGVyaW9yIGh5cGhlblwiKTtcbiAgZWxzZSBpZiAocCA9PT0gMCkge1xuICAgIHJldHVybiBmcm9tU3RyaW5nKHN0ci5zdWJzdHJpbmcoMSksIHVuc2lnbmVkLCByYWRpeCkubmVnKCk7XG4gIH1cbiAgdmFyIHJhZGl4VG9Qb3dlciA9IGZyb21OdW1iZXIocG93X2RibChyYWRpeCwgOCkpO1xuICB2YXIgcmVzdWx0ID0gWkVSTztcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBzdHIubGVuZ3RoOyBpICs9IDgpIHtcbiAgICB2YXIgc2l6ZSA9IE1hdGgubWluKDgsIHN0ci5sZW5ndGggLSBpKSwgdmFsdWUgPSBwYXJzZUludChzdHIuc3Vic3RyaW5nKGksIGkgKyBzaXplKSwgcmFkaXgpO1xuICAgIGlmIChzaXplIDwgOCkge1xuICAgICAgdmFyIHBvd2VyID0gZnJvbU51bWJlcihwb3dfZGJsKHJhZGl4LCBzaXplKSk7XG4gICAgICByZXN1bHQgPSByZXN1bHQubXVsKHBvd2VyKS5hZGQoZnJvbU51bWJlcih2YWx1ZSkpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXN1bHQgPSByZXN1bHQubXVsKHJhZGl4VG9Qb3dlcik7XG4gICAgICByZXN1bHQgPSByZXN1bHQuYWRkKGZyb21OdW1iZXIodmFsdWUpKTtcbiAgICB9XG4gIH1cbiAgcmVzdWx0LnVuc2lnbmVkID0gdW5zaWduZWQ7XG4gIHJldHVybiByZXN1bHQ7XG59XG5Mb25nLmZyb21TdHJpbmcgPSBmcm9tU3RyaW5nO1xuZnVuY3Rpb24gZnJvbVZhbHVlKHZhbCwgdW5zaWduZWQpIHtcbiAgaWYgKHR5cGVvZiB2YWwgPT09IFwibnVtYmVyXCIpXG4gICAgcmV0dXJuIGZyb21OdW1iZXIodmFsLCB1bnNpZ25lZCk7XG4gIGlmICh0eXBlb2YgdmFsID09PSBcInN0cmluZ1wiKVxuICAgIHJldHVybiBmcm9tU3RyaW5nKHZhbCwgdW5zaWduZWQpO1xuICByZXR1cm4gZnJvbUJpdHModmFsLmxvdywgdmFsLmhpZ2gsIHR5cGVvZiB1bnNpZ25lZCA9PT0gXCJib29sZWFuXCIgPyB1bnNpZ25lZCA6IHZhbC51bnNpZ25lZCk7XG59XG5Mb25nLmZyb21WYWx1ZSA9IGZyb21WYWx1ZTtcbnZhciBUV09fUFdSXzE2X0RCTCA9IDEgPDwgMTY7XG52YXIgVFdPX1BXUl8yNF9EQkwgPSAxIDw8IDI0O1xudmFyIFRXT19QV1JfMzJfREJMID0gVFdPX1BXUl8xNl9EQkwgKiBUV09fUFdSXzE2X0RCTDtcbnZhciBUV09fUFdSXzY0X0RCTCA9IFRXT19QV1JfMzJfREJMICogVFdPX1BXUl8zMl9EQkw7XG52YXIgVFdPX1BXUl82M19EQkwgPSBUV09fUFdSXzY0X0RCTCAvIDI7XG52YXIgVFdPX1BXUl8yNCA9IGZyb21JbnQoVFdPX1BXUl8yNF9EQkwpO1xudmFyIFpFUk8gPSBmcm9tSW50KDApO1xuTG9uZy5aRVJPID0gWkVSTztcbnZhciBVWkVSTyA9IGZyb21JbnQoMCwgdHJ1ZSk7XG5Mb25nLlVaRVJPID0gVVpFUk87XG52YXIgT05FID0gZnJvbUludCgxKTtcbkxvbmcuT05FID0gT05FO1xudmFyIFVPTkUgPSBmcm9tSW50KDEsIHRydWUpO1xuTG9uZy5VT05FID0gVU9ORTtcbnZhciBORUdfT05FID0gZnJvbUludCgtMSk7XG5Mb25nLk5FR19PTkUgPSBORUdfT05FO1xudmFyIE1BWF9WQUxVRSA9IGZyb21CaXRzKDQyOTQ5NjcyOTUgfCAwLCAyMTQ3NDgzNjQ3IHwgMCwgZmFsc2UpO1xuTG9uZy5NQVhfVkFMVUUgPSBNQVhfVkFMVUU7XG52YXIgTUFYX1VOU0lHTkVEX1ZBTFVFID0gZnJvbUJpdHMoNDI5NDk2NzI5NSB8IDAsIDQyOTQ5NjcyOTUgfCAwLCB0cnVlKTtcbkxvbmcuTUFYX1VOU0lHTkVEX1ZBTFVFID0gTUFYX1VOU0lHTkVEX1ZBTFVFO1xudmFyIE1JTl9WQUxVRSA9IGZyb21CaXRzKDAsIDIxNDc0ODM2NDggfCAwLCBmYWxzZSk7XG5Mb25nLk1JTl9WQUxVRSA9IE1JTl9WQUxVRTtcbnZhciBMb25nUHJvdG90eXBlID0gTG9uZy5wcm90b3R5cGU7XG5Mb25nUHJvdG90eXBlLnRvSW50ID0gZnVuY3Rpb24gdG9JbnQoKSB7XG4gIHJldHVybiB0aGlzLnVuc2lnbmVkID8gdGhpcy5sb3cgPj4+IDAgOiB0aGlzLmxvdztcbn07XG5Mb25nUHJvdG90eXBlLnRvTnVtYmVyID0gZnVuY3Rpb24gdG9OdW1iZXIoKSB7XG4gIGlmICh0aGlzLnVuc2lnbmVkKVxuICAgIHJldHVybiAodGhpcy5oaWdoID4+PiAwKSAqIFRXT19QV1JfMzJfREJMICsgKHRoaXMubG93ID4+PiAwKTtcbiAgcmV0dXJuIHRoaXMuaGlnaCAqIFRXT19QV1JfMzJfREJMICsgKHRoaXMubG93ID4+PiAwKTtcbn07XG5Mb25nUHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24gdG9TdHJpbmcocmFkaXgpIHtcbiAgcmFkaXggPSByYWRpeCB8fCAxMDtcbiAgaWYgKHJhZGl4IDwgMiB8fCAzNiA8IHJhZGl4KVxuICAgIHRocm93IFJhbmdlRXJyb3IoXCJyYWRpeFwiKTtcbiAgaWYgKHRoaXMuaXNaZXJvKCkpXG4gICAgcmV0dXJuIFwiMFwiO1xuICBpZiAodGhpcy5pc05lZ2F0aXZlKCkpIHtcbiAgICBpZiAodGhpcy5lcShNSU5fVkFMVUUpKSB7XG4gICAgICB2YXIgcmFkaXhMb25nID0gZnJvbU51bWJlcihyYWRpeCksIGRpdiA9IHRoaXMuZGl2KHJhZGl4TG9uZyksIHJlbTEgPSBkaXYubXVsKHJhZGl4TG9uZykuc3ViKHRoaXMpO1xuICAgICAgcmV0dXJuIGRpdi50b1N0cmluZyhyYWRpeCkgKyByZW0xLnRvSW50KCkudG9TdHJpbmcocmFkaXgpO1xuICAgIH0gZWxzZVxuICAgICAgcmV0dXJuIFwiLVwiICsgdGhpcy5uZWcoKS50b1N0cmluZyhyYWRpeCk7XG4gIH1cbiAgdmFyIHJhZGl4VG9Qb3dlciA9IGZyb21OdW1iZXIocG93X2RibChyYWRpeCwgNiksIHRoaXMudW5zaWduZWQpLCByZW0gPSB0aGlzO1xuICB2YXIgcmVzdWx0ID0gXCJcIjtcbiAgd2hpbGUgKHRydWUpIHtcbiAgICB2YXIgcmVtRGl2ID0gcmVtLmRpdihyYWRpeFRvUG93ZXIpLCBpbnR2YWwgPSByZW0uc3ViKHJlbURpdi5tdWwocmFkaXhUb1Bvd2VyKSkudG9JbnQoKSA+Pj4gMCwgZGlnaXRzID0gaW50dmFsLnRvU3RyaW5nKHJhZGl4KTtcbiAgICByZW0gPSByZW1EaXY7XG4gICAgaWYgKHJlbS5pc1plcm8oKSlcbiAgICAgIHJldHVybiBkaWdpdHMgKyByZXN1bHQ7XG4gICAgZWxzZSB7XG4gICAgICB3aGlsZSAoZGlnaXRzLmxlbmd0aCA8IDYpXG4gICAgICAgIGRpZ2l0cyA9IFwiMFwiICsgZGlnaXRzO1xuICAgICAgcmVzdWx0ID0gXCJcIiArIGRpZ2l0cyArIHJlc3VsdDtcbiAgICB9XG4gIH1cbn07XG5Mb25nUHJvdG90eXBlLmdldEhpZ2hCaXRzID0gZnVuY3Rpb24gZ2V0SGlnaEJpdHMoKSB7XG4gIHJldHVybiB0aGlzLmhpZ2g7XG59O1xuTG9uZ1Byb3RvdHlwZS5nZXRIaWdoQml0c1Vuc2lnbmVkID0gZnVuY3Rpb24gZ2V0SGlnaEJpdHNVbnNpZ25lZCgpIHtcbiAgcmV0dXJuIHRoaXMuaGlnaCA+Pj4gMDtcbn07XG5Mb25nUHJvdG90eXBlLmdldExvd0JpdHMgPSBmdW5jdGlvbiBnZXRMb3dCaXRzKCkge1xuICByZXR1cm4gdGhpcy5sb3c7XG59O1xuTG9uZ1Byb3RvdHlwZS5nZXRMb3dCaXRzVW5zaWduZWQgPSBmdW5jdGlvbiBnZXRMb3dCaXRzVW5zaWduZWQoKSB7XG4gIHJldHVybiB0aGlzLmxvdyA+Pj4gMDtcbn07XG5Mb25nUHJvdG90eXBlLmdldE51bUJpdHNBYnMgPSBmdW5jdGlvbiBnZXROdW1CaXRzQWJzKCkge1xuICBpZiAodGhpcy5pc05lZ2F0aXZlKCkpXG4gICAgcmV0dXJuIHRoaXMuZXEoTUlOX1ZBTFVFKSA/IDY0IDogdGhpcy5uZWcoKS5nZXROdW1CaXRzQWJzKCk7XG4gIHZhciB2YWwgPSB0aGlzLmhpZ2ggIT0gMCA/IHRoaXMuaGlnaCA6IHRoaXMubG93O1xuICBmb3IgKHZhciBiaXQgPSAzMTsgYml0ID4gMDsgYml0LS0pXG4gICAgaWYgKCh2YWwgJiAxIDw8IGJpdCkgIT0gMClcbiAgICAgIGJyZWFrO1xuICByZXR1cm4gdGhpcy5oaWdoICE9IDAgPyBiaXQgKyAzMyA6IGJpdCArIDE7XG59O1xuTG9uZ1Byb3RvdHlwZS5pc1plcm8gPSBmdW5jdGlvbiBpc1plcm8oKSB7XG4gIHJldHVybiB0aGlzLmhpZ2ggPT09IDAgJiYgdGhpcy5sb3cgPT09IDA7XG59O1xuTG9uZ1Byb3RvdHlwZS5lcXogPSBMb25nUHJvdG90eXBlLmlzWmVybztcbkxvbmdQcm90b3R5cGUuaXNOZWdhdGl2ZSA9IGZ1bmN0aW9uIGlzTmVnYXRpdmUoKSB7XG4gIHJldHVybiAhdGhpcy51bnNpZ25lZCAmJiB0aGlzLmhpZ2ggPCAwO1xufTtcbkxvbmdQcm90b3R5cGUuaXNQb3NpdGl2ZSA9IGZ1bmN0aW9uIGlzUG9zaXRpdmUoKSB7XG4gIHJldHVybiB0aGlzLnVuc2lnbmVkIHx8IHRoaXMuaGlnaCA+PSAwO1xufTtcbkxvbmdQcm90b3R5cGUuaXNPZGQgPSBmdW5jdGlvbiBpc09kZCgpIHtcbiAgcmV0dXJuICh0aGlzLmxvdyAmIDEpID09PSAxO1xufTtcbkxvbmdQcm90b3R5cGUuaXNFdmVuID0gZnVuY3Rpb24gaXNFdmVuKCkge1xuICByZXR1cm4gKHRoaXMubG93ICYgMSkgPT09IDA7XG59O1xuTG9uZ1Byb3RvdHlwZS5lcXVhbHMgPSBmdW5jdGlvbiBlcXVhbHMob3RoZXIpIHtcbiAgaWYgKCFpc0xvbmcob3RoZXIpKVxuICAgIG90aGVyID0gZnJvbVZhbHVlKG90aGVyKTtcbiAgaWYgKHRoaXMudW5zaWduZWQgIT09IG90aGVyLnVuc2lnbmVkICYmIHRoaXMuaGlnaCA+Pj4gMzEgPT09IDEgJiYgb3RoZXIuaGlnaCA+Pj4gMzEgPT09IDEpXG4gICAgcmV0dXJuIGZhbHNlO1xuICByZXR1cm4gdGhpcy5oaWdoID09PSBvdGhlci5oaWdoICYmIHRoaXMubG93ID09PSBvdGhlci5sb3c7XG59O1xuTG9uZ1Byb3RvdHlwZS5lcSA9IExvbmdQcm90b3R5cGUuZXF1YWxzO1xuTG9uZ1Byb3RvdHlwZS5ub3RFcXVhbHMgPSBmdW5jdGlvbiBub3RFcXVhbHMob3RoZXIpIHtcbiAgcmV0dXJuICF0aGlzLmVxKFxuICAgIC8qIHZhbGlkYXRlcyAqL1xuICAgIG90aGVyXG4gICk7XG59O1xuTG9uZ1Byb3RvdHlwZS5uZXEgPSBMb25nUHJvdG90eXBlLm5vdEVxdWFscztcbkxvbmdQcm90b3R5cGUubmUgPSBMb25nUHJvdG90eXBlLm5vdEVxdWFscztcbkxvbmdQcm90b3R5cGUubGVzc1RoYW4gPSBmdW5jdGlvbiBsZXNzVGhhbihvdGhlcikge1xuICByZXR1cm4gdGhpcy5jb21wKFxuICAgIC8qIHZhbGlkYXRlcyAqL1xuICAgIG90aGVyXG4gICkgPCAwO1xufTtcbkxvbmdQcm90b3R5cGUubHQgPSBMb25nUHJvdG90eXBlLmxlc3NUaGFuO1xuTG9uZ1Byb3RvdHlwZS5sZXNzVGhhbk9yRXF1YWwgPSBmdW5jdGlvbiBsZXNzVGhhbk9yRXF1YWwob3RoZXIpIHtcbiAgcmV0dXJuIHRoaXMuY29tcChcbiAgICAvKiB2YWxpZGF0ZXMgKi9cbiAgICBvdGhlclxuICApIDw9IDA7XG59O1xuTG9uZ1Byb3RvdHlwZS5sdGUgPSBMb25nUHJvdG90eXBlLmxlc3NUaGFuT3JFcXVhbDtcbkxvbmdQcm90b3R5cGUubGUgPSBMb25nUHJvdG90eXBlLmxlc3NUaGFuT3JFcXVhbDtcbkxvbmdQcm90b3R5cGUuZ3JlYXRlclRoYW4gPSBmdW5jdGlvbiBncmVhdGVyVGhhbihvdGhlcikge1xuICByZXR1cm4gdGhpcy5jb21wKFxuICAgIC8qIHZhbGlkYXRlcyAqL1xuICAgIG90aGVyXG4gICkgPiAwO1xufTtcbkxvbmdQcm90b3R5cGUuZ3QgPSBMb25nUHJvdG90eXBlLmdyZWF0ZXJUaGFuO1xuTG9uZ1Byb3RvdHlwZS5ncmVhdGVyVGhhbk9yRXF1YWwgPSBmdW5jdGlvbiBncmVhdGVyVGhhbk9yRXF1YWwob3RoZXIpIHtcbiAgcmV0dXJuIHRoaXMuY29tcChcbiAgICAvKiB2YWxpZGF0ZXMgKi9cbiAgICBvdGhlclxuICApID49IDA7XG59O1xuTG9uZ1Byb3RvdHlwZS5ndGUgPSBMb25nUHJvdG90eXBlLmdyZWF0ZXJUaGFuT3JFcXVhbDtcbkxvbmdQcm90b3R5cGUuZ2UgPSBMb25nUHJvdG90eXBlLmdyZWF0ZXJUaGFuT3JFcXVhbDtcbkxvbmdQcm90b3R5cGUuY29tcGFyZSA9IGZ1bmN0aW9uIGNvbXBhcmUob3RoZXIpIHtcbiAgaWYgKCFpc0xvbmcob3RoZXIpKVxuICAgIG90aGVyID0gZnJvbVZhbHVlKG90aGVyKTtcbiAgaWYgKHRoaXMuZXEob3RoZXIpKVxuICAgIHJldHVybiAwO1xuICB2YXIgdGhpc05lZyA9IHRoaXMuaXNOZWdhdGl2ZSgpLCBvdGhlck5lZyA9IG90aGVyLmlzTmVnYXRpdmUoKTtcbiAgaWYgKHRoaXNOZWcgJiYgIW90aGVyTmVnKVxuICAgIHJldHVybiAtMTtcbiAgaWYgKCF0aGlzTmVnICYmIG90aGVyTmVnKVxuICAgIHJldHVybiAxO1xuICBpZiAoIXRoaXMudW5zaWduZWQpXG4gICAgcmV0dXJuIHRoaXMuc3ViKG90aGVyKS5pc05lZ2F0aXZlKCkgPyAtMSA6IDE7XG4gIHJldHVybiBvdGhlci5oaWdoID4+PiAwID4gdGhpcy5oaWdoID4+PiAwIHx8IG90aGVyLmhpZ2ggPT09IHRoaXMuaGlnaCAmJiBvdGhlci5sb3cgPj4+IDAgPiB0aGlzLmxvdyA+Pj4gMCA/IC0xIDogMTtcbn07XG5Mb25nUHJvdG90eXBlLmNvbXAgPSBMb25nUHJvdG90eXBlLmNvbXBhcmU7XG5Mb25nUHJvdG90eXBlLm5lZ2F0ZSA9IGZ1bmN0aW9uIG5lZ2F0ZSgpIHtcbiAgaWYgKCF0aGlzLnVuc2lnbmVkICYmIHRoaXMuZXEoTUlOX1ZBTFVFKSlcbiAgICByZXR1cm4gTUlOX1ZBTFVFO1xuICByZXR1cm4gdGhpcy5ub3QoKS5hZGQoT05FKTtcbn07XG5Mb25nUHJvdG90eXBlLm5lZyA9IExvbmdQcm90b3R5cGUubmVnYXRlO1xuTG9uZ1Byb3RvdHlwZS5hZGQgPSBmdW5jdGlvbiBhZGQoYWRkZW5kKSB7XG4gIGlmICghaXNMb25nKGFkZGVuZCkpXG4gICAgYWRkZW5kID0gZnJvbVZhbHVlKGFkZGVuZCk7XG4gIHZhciBhNDggPSB0aGlzLmhpZ2ggPj4+IDE2O1xuICB2YXIgYTMyID0gdGhpcy5oaWdoICYgNjU1MzU7XG4gIHZhciBhMTYgPSB0aGlzLmxvdyA+Pj4gMTY7XG4gIHZhciBhMDAgPSB0aGlzLmxvdyAmIDY1NTM1O1xuICB2YXIgYjQ4ID0gYWRkZW5kLmhpZ2ggPj4+IDE2O1xuICB2YXIgYjMyID0gYWRkZW5kLmhpZ2ggJiA2NTUzNTtcbiAgdmFyIGIxNiA9IGFkZGVuZC5sb3cgPj4+IDE2O1xuICB2YXIgYjAwID0gYWRkZW5kLmxvdyAmIDY1NTM1O1xuICB2YXIgYzQ4ID0gMCwgYzMyID0gMCwgYzE2ID0gMCwgYzAwID0gMDtcbiAgYzAwICs9IGEwMCArIGIwMDtcbiAgYzE2ICs9IGMwMCA+Pj4gMTY7XG4gIGMwMCAmPSA2NTUzNTtcbiAgYzE2ICs9IGExNiArIGIxNjtcbiAgYzMyICs9IGMxNiA+Pj4gMTY7XG4gIGMxNiAmPSA2NTUzNTtcbiAgYzMyICs9IGEzMiArIGIzMjtcbiAgYzQ4ICs9IGMzMiA+Pj4gMTY7XG4gIGMzMiAmPSA2NTUzNTtcbiAgYzQ4ICs9IGE0OCArIGI0ODtcbiAgYzQ4ICY9IDY1NTM1O1xuICByZXR1cm4gZnJvbUJpdHMoYzE2IDw8IDE2IHwgYzAwLCBjNDggPDwgMTYgfCBjMzIsIHRoaXMudW5zaWduZWQpO1xufTtcbkxvbmdQcm90b3R5cGUuc3VidHJhY3QgPSBmdW5jdGlvbiBzdWJ0cmFjdChzdWJ0cmFoZW5kKSB7XG4gIGlmICghaXNMb25nKHN1YnRyYWhlbmQpKVxuICAgIHN1YnRyYWhlbmQgPSBmcm9tVmFsdWUoc3VidHJhaGVuZCk7XG4gIHJldHVybiB0aGlzLmFkZChzdWJ0cmFoZW5kLm5lZygpKTtcbn07XG5Mb25nUHJvdG90eXBlLnN1YiA9IExvbmdQcm90b3R5cGUuc3VidHJhY3Q7XG5Mb25nUHJvdG90eXBlLm11bHRpcGx5ID0gZnVuY3Rpb24gbXVsdGlwbHkobXVsdGlwbGllcikge1xuICBpZiAodGhpcy5pc1plcm8oKSlcbiAgICByZXR1cm4gdGhpcztcbiAgaWYgKCFpc0xvbmcobXVsdGlwbGllcikpXG4gICAgbXVsdGlwbGllciA9IGZyb21WYWx1ZShtdWx0aXBsaWVyKTtcbiAgaWYgKHdhc20pIHtcbiAgICB2YXIgbG93ID0gd2FzbVtcIm11bFwiXShcbiAgICAgIHRoaXMubG93LFxuICAgICAgdGhpcy5oaWdoLFxuICAgICAgbXVsdGlwbGllci5sb3csXG4gICAgICBtdWx0aXBsaWVyLmhpZ2hcbiAgICApO1xuICAgIHJldHVybiBmcm9tQml0cyhsb3csIHdhc21bXCJnZXRfaGlnaFwiXSgpLCB0aGlzLnVuc2lnbmVkKTtcbiAgfVxuICBpZiAobXVsdGlwbGllci5pc1plcm8oKSlcbiAgICByZXR1cm4gdGhpcy51bnNpZ25lZCA/IFVaRVJPIDogWkVSTztcbiAgaWYgKHRoaXMuZXEoTUlOX1ZBTFVFKSlcbiAgICByZXR1cm4gbXVsdGlwbGllci5pc09kZCgpID8gTUlOX1ZBTFVFIDogWkVSTztcbiAgaWYgKG11bHRpcGxpZXIuZXEoTUlOX1ZBTFVFKSlcbiAgICByZXR1cm4gdGhpcy5pc09kZCgpID8gTUlOX1ZBTFVFIDogWkVSTztcbiAgaWYgKHRoaXMuaXNOZWdhdGl2ZSgpKSB7XG4gICAgaWYgKG11bHRpcGxpZXIuaXNOZWdhdGl2ZSgpKVxuICAgICAgcmV0dXJuIHRoaXMubmVnKCkubXVsKG11bHRpcGxpZXIubmVnKCkpO1xuICAgIGVsc2VcbiAgICAgIHJldHVybiB0aGlzLm5lZygpLm11bChtdWx0aXBsaWVyKS5uZWcoKTtcbiAgfSBlbHNlIGlmIChtdWx0aXBsaWVyLmlzTmVnYXRpdmUoKSlcbiAgICByZXR1cm4gdGhpcy5tdWwobXVsdGlwbGllci5uZWcoKSkubmVnKCk7XG4gIGlmICh0aGlzLmx0KFRXT19QV1JfMjQpICYmIG11bHRpcGxpZXIubHQoVFdPX1BXUl8yNCkpXG4gICAgcmV0dXJuIGZyb21OdW1iZXIodGhpcy50b051bWJlcigpICogbXVsdGlwbGllci50b051bWJlcigpLCB0aGlzLnVuc2lnbmVkKTtcbiAgdmFyIGE0OCA9IHRoaXMuaGlnaCA+Pj4gMTY7XG4gIHZhciBhMzIgPSB0aGlzLmhpZ2ggJiA2NTUzNTtcbiAgdmFyIGExNiA9IHRoaXMubG93ID4+PiAxNjtcbiAgdmFyIGEwMCA9IHRoaXMubG93ICYgNjU1MzU7XG4gIHZhciBiNDggPSBtdWx0aXBsaWVyLmhpZ2ggPj4+IDE2O1xuICB2YXIgYjMyID0gbXVsdGlwbGllci5oaWdoICYgNjU1MzU7XG4gIHZhciBiMTYgPSBtdWx0aXBsaWVyLmxvdyA+Pj4gMTY7XG4gIHZhciBiMDAgPSBtdWx0aXBsaWVyLmxvdyAmIDY1NTM1O1xuICB2YXIgYzQ4ID0gMCwgYzMyID0gMCwgYzE2ID0gMCwgYzAwID0gMDtcbiAgYzAwICs9IGEwMCAqIGIwMDtcbiAgYzE2ICs9IGMwMCA+Pj4gMTY7XG4gIGMwMCAmPSA2NTUzNTtcbiAgYzE2ICs9IGExNiAqIGIwMDtcbiAgYzMyICs9IGMxNiA+Pj4gMTY7XG4gIGMxNiAmPSA2NTUzNTtcbiAgYzE2ICs9IGEwMCAqIGIxNjtcbiAgYzMyICs9IGMxNiA+Pj4gMTY7XG4gIGMxNiAmPSA2NTUzNTtcbiAgYzMyICs9IGEzMiAqIGIwMDtcbiAgYzQ4ICs9IGMzMiA+Pj4gMTY7XG4gIGMzMiAmPSA2NTUzNTtcbiAgYzMyICs9IGExNiAqIGIxNjtcbiAgYzQ4ICs9IGMzMiA+Pj4gMTY7XG4gIGMzMiAmPSA2NTUzNTtcbiAgYzMyICs9IGEwMCAqIGIzMjtcbiAgYzQ4ICs9IGMzMiA+Pj4gMTY7XG4gIGMzMiAmPSA2NTUzNTtcbiAgYzQ4ICs9IGE0OCAqIGIwMCArIGEzMiAqIGIxNiArIGExNiAqIGIzMiArIGEwMCAqIGI0ODtcbiAgYzQ4ICY9IDY1NTM1O1xuICByZXR1cm4gZnJvbUJpdHMoYzE2IDw8IDE2IHwgYzAwLCBjNDggPDwgMTYgfCBjMzIsIHRoaXMudW5zaWduZWQpO1xufTtcbkxvbmdQcm90b3R5cGUubXVsID0gTG9uZ1Byb3RvdHlwZS5tdWx0aXBseTtcbkxvbmdQcm90b3R5cGUuZGl2aWRlID0gZnVuY3Rpb24gZGl2aWRlKGRpdmlzb3IpIHtcbiAgaWYgKCFpc0xvbmcoZGl2aXNvcikpXG4gICAgZGl2aXNvciA9IGZyb21WYWx1ZShkaXZpc29yKTtcbiAgaWYgKGRpdmlzb3IuaXNaZXJvKCkpXG4gICAgdGhyb3cgRXJyb3IoXCJkaXZpc2lvbiBieSB6ZXJvXCIpO1xuICBpZiAod2FzbSkge1xuICAgIGlmICghdGhpcy51bnNpZ25lZCAmJiB0aGlzLmhpZ2ggPT09IC0yMTQ3NDgzNjQ4ICYmIGRpdmlzb3IubG93ID09PSAtMSAmJiBkaXZpc29yLmhpZ2ggPT09IC0xKSB7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgdmFyIGxvdyA9ICh0aGlzLnVuc2lnbmVkID8gd2FzbVtcImRpdl91XCJdIDogd2FzbVtcImRpdl9zXCJdKShcbiAgICAgIHRoaXMubG93LFxuICAgICAgdGhpcy5oaWdoLFxuICAgICAgZGl2aXNvci5sb3csXG4gICAgICBkaXZpc29yLmhpZ2hcbiAgICApO1xuICAgIHJldHVybiBmcm9tQml0cyhsb3csIHdhc21bXCJnZXRfaGlnaFwiXSgpLCB0aGlzLnVuc2lnbmVkKTtcbiAgfVxuICBpZiAodGhpcy5pc1plcm8oKSlcbiAgICByZXR1cm4gdGhpcy51bnNpZ25lZCA/IFVaRVJPIDogWkVSTztcbiAgdmFyIGFwcHJveCwgcmVtLCByZXM7XG4gIGlmICghdGhpcy51bnNpZ25lZCkge1xuICAgIGlmICh0aGlzLmVxKE1JTl9WQUxVRSkpIHtcbiAgICAgIGlmIChkaXZpc29yLmVxKE9ORSkgfHwgZGl2aXNvci5lcShORUdfT05FKSlcbiAgICAgICAgcmV0dXJuIE1JTl9WQUxVRTtcbiAgICAgIGVsc2UgaWYgKGRpdmlzb3IuZXEoTUlOX1ZBTFVFKSlcbiAgICAgICAgcmV0dXJuIE9ORTtcbiAgICAgIGVsc2Uge1xuICAgICAgICB2YXIgaGFsZlRoaXMgPSB0aGlzLnNocigxKTtcbiAgICAgICAgYXBwcm94ID0gaGFsZlRoaXMuZGl2KGRpdmlzb3IpLnNobCgxKTtcbiAgICAgICAgaWYgKGFwcHJveC5lcShaRVJPKSkge1xuICAgICAgICAgIHJldHVybiBkaXZpc29yLmlzTmVnYXRpdmUoKSA/IE9ORSA6IE5FR19PTkU7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmVtID0gdGhpcy5zdWIoZGl2aXNvci5tdWwoYXBwcm94KSk7XG4gICAgICAgICAgcmVzID0gYXBwcm94LmFkZChyZW0uZGl2KGRpdmlzb3IpKTtcbiAgICAgICAgICByZXR1cm4gcmVzO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChkaXZpc29yLmVxKE1JTl9WQUxVRSkpXG4gICAgICByZXR1cm4gdGhpcy51bnNpZ25lZCA/IFVaRVJPIDogWkVSTztcbiAgICBpZiAodGhpcy5pc05lZ2F0aXZlKCkpIHtcbiAgICAgIGlmIChkaXZpc29yLmlzTmVnYXRpdmUoKSlcbiAgICAgICAgcmV0dXJuIHRoaXMubmVnKCkuZGl2KGRpdmlzb3IubmVnKCkpO1xuICAgICAgcmV0dXJuIHRoaXMubmVnKCkuZGl2KGRpdmlzb3IpLm5lZygpO1xuICAgIH0gZWxzZSBpZiAoZGl2aXNvci5pc05lZ2F0aXZlKCkpXG4gICAgICByZXR1cm4gdGhpcy5kaXYoZGl2aXNvci5uZWcoKSkubmVnKCk7XG4gICAgcmVzID0gWkVSTztcbiAgfSBlbHNlIHtcbiAgICBpZiAoIWRpdmlzb3IudW5zaWduZWQpXG4gICAgICBkaXZpc29yID0gZGl2aXNvci50b1Vuc2lnbmVkKCk7XG4gICAgaWYgKGRpdmlzb3IuZ3QodGhpcykpXG4gICAgICByZXR1cm4gVVpFUk87XG4gICAgaWYgKGRpdmlzb3IuZ3QodGhpcy5zaHJ1KDEpKSlcbiAgICAgIHJldHVybiBVT05FO1xuICAgIHJlcyA9IFVaRVJPO1xuICB9XG4gIHJlbSA9IHRoaXM7XG4gIHdoaWxlIChyZW0uZ3RlKGRpdmlzb3IpKSB7XG4gICAgYXBwcm94ID0gTWF0aC5tYXgoMSwgTWF0aC5mbG9vcihyZW0udG9OdW1iZXIoKSAvIGRpdmlzb3IudG9OdW1iZXIoKSkpO1xuICAgIHZhciBsb2cyID0gTWF0aC5jZWlsKE1hdGgubG9nKGFwcHJveCkgLyBNYXRoLkxOMiksIGRlbHRhID0gbG9nMiA8PSA0OCA/IDEgOiBwb3dfZGJsKDIsIGxvZzIgLSA0OCksIGFwcHJveFJlcyA9IGZyb21OdW1iZXIoYXBwcm94KSwgYXBwcm94UmVtID0gYXBwcm94UmVzLm11bChkaXZpc29yKTtcbiAgICB3aGlsZSAoYXBwcm94UmVtLmlzTmVnYXRpdmUoKSB8fCBhcHByb3hSZW0uZ3QocmVtKSkge1xuICAgICAgYXBwcm94IC09IGRlbHRhO1xuICAgICAgYXBwcm94UmVzID0gZnJvbU51bWJlcihhcHByb3gsIHRoaXMudW5zaWduZWQpO1xuICAgICAgYXBwcm94UmVtID0gYXBwcm94UmVzLm11bChkaXZpc29yKTtcbiAgICB9XG4gICAgaWYgKGFwcHJveFJlcy5pc1plcm8oKSlcbiAgICAgIGFwcHJveFJlcyA9IE9ORTtcbiAgICByZXMgPSByZXMuYWRkKGFwcHJveFJlcyk7XG4gICAgcmVtID0gcmVtLnN1YihhcHByb3hSZW0pO1xuICB9XG4gIHJldHVybiByZXM7XG59O1xuTG9uZ1Byb3RvdHlwZS5kaXYgPSBMb25nUHJvdG90eXBlLmRpdmlkZTtcbkxvbmdQcm90b3R5cGUubW9kdWxvID0gZnVuY3Rpb24gbW9kdWxvKGRpdmlzb3IpIHtcbiAgaWYgKCFpc0xvbmcoZGl2aXNvcikpXG4gICAgZGl2aXNvciA9IGZyb21WYWx1ZShkaXZpc29yKTtcbiAgaWYgKHdhc20pIHtcbiAgICB2YXIgbG93ID0gKHRoaXMudW5zaWduZWQgPyB3YXNtW1wicmVtX3VcIl0gOiB3YXNtW1wicmVtX3NcIl0pKFxuICAgICAgdGhpcy5sb3csXG4gICAgICB0aGlzLmhpZ2gsXG4gICAgICBkaXZpc29yLmxvdyxcbiAgICAgIGRpdmlzb3IuaGlnaFxuICAgICk7XG4gICAgcmV0dXJuIGZyb21CaXRzKGxvdywgd2FzbVtcImdldF9oaWdoXCJdKCksIHRoaXMudW5zaWduZWQpO1xuICB9XG4gIHJldHVybiB0aGlzLnN1Yih0aGlzLmRpdihkaXZpc29yKS5tdWwoZGl2aXNvcikpO1xufTtcbkxvbmdQcm90b3R5cGUubW9kID0gTG9uZ1Byb3RvdHlwZS5tb2R1bG87XG5Mb25nUHJvdG90eXBlLnJlbSA9IExvbmdQcm90b3R5cGUubW9kdWxvO1xuTG9uZ1Byb3RvdHlwZS5ub3QgPSBmdW5jdGlvbiBub3QoKSB7XG4gIHJldHVybiBmcm9tQml0cyh+dGhpcy5sb3csIH50aGlzLmhpZ2gsIHRoaXMudW5zaWduZWQpO1xufTtcbkxvbmdQcm90b3R5cGUuY291bnRMZWFkaW5nWmVyb3MgPSBmdW5jdGlvbiBjb3VudExlYWRpbmdaZXJvcygpIHtcbiAgcmV0dXJuIHRoaXMuaGlnaCA/IE1hdGguY2x6MzIodGhpcy5oaWdoKSA6IE1hdGguY2x6MzIodGhpcy5sb3cpICsgMzI7XG59O1xuTG9uZ1Byb3RvdHlwZS5jbHogPSBMb25nUHJvdG90eXBlLmNvdW50TGVhZGluZ1plcm9zO1xuTG9uZ1Byb3RvdHlwZS5jb3VudFRyYWlsaW5nWmVyb3MgPSBmdW5jdGlvbiBjb3VudFRyYWlsaW5nWmVyb3MoKSB7XG4gIHJldHVybiB0aGlzLmxvdyA/IGN0ejMyKHRoaXMubG93KSA6IGN0ejMyKHRoaXMuaGlnaCkgKyAzMjtcbn07XG5Mb25nUHJvdG90eXBlLmN0eiA9IExvbmdQcm90b3R5cGUuY291bnRUcmFpbGluZ1plcm9zO1xuTG9uZ1Byb3RvdHlwZS5hbmQgPSBmdW5jdGlvbiBhbmQob3RoZXIpIHtcbiAgaWYgKCFpc0xvbmcob3RoZXIpKVxuICAgIG90aGVyID0gZnJvbVZhbHVlKG90aGVyKTtcbiAgcmV0dXJuIGZyb21CaXRzKHRoaXMubG93ICYgb3RoZXIubG93LCB0aGlzLmhpZ2ggJiBvdGhlci5oaWdoLCB0aGlzLnVuc2lnbmVkKTtcbn07XG5Mb25nUHJvdG90eXBlLm9yID0gZnVuY3Rpb24gb3Iob3RoZXIpIHtcbiAgaWYgKCFpc0xvbmcob3RoZXIpKVxuICAgIG90aGVyID0gZnJvbVZhbHVlKG90aGVyKTtcbiAgcmV0dXJuIGZyb21CaXRzKHRoaXMubG93IHwgb3RoZXIubG93LCB0aGlzLmhpZ2ggfCBvdGhlci5oaWdoLCB0aGlzLnVuc2lnbmVkKTtcbn07XG5Mb25nUHJvdG90eXBlLnhvciA9IGZ1bmN0aW9uIHhvcihvdGhlcikge1xuICBpZiAoIWlzTG9uZyhvdGhlcikpXG4gICAgb3RoZXIgPSBmcm9tVmFsdWUob3RoZXIpO1xuICByZXR1cm4gZnJvbUJpdHModGhpcy5sb3cgXiBvdGhlci5sb3csIHRoaXMuaGlnaCBeIG90aGVyLmhpZ2gsIHRoaXMudW5zaWduZWQpO1xufTtcbkxvbmdQcm90b3R5cGUuc2hpZnRMZWZ0ID0gZnVuY3Rpb24gc2hpZnRMZWZ0KG51bUJpdHMpIHtcbiAgaWYgKGlzTG9uZyhudW1CaXRzKSlcbiAgICBudW1CaXRzID0gbnVtQml0cy50b0ludCgpO1xuICBpZiAoKG51bUJpdHMgJj0gNjMpID09PSAwKVxuICAgIHJldHVybiB0aGlzO1xuICBlbHNlIGlmIChudW1CaXRzIDwgMzIpXG4gICAgcmV0dXJuIGZyb21CaXRzKHRoaXMubG93IDw8IG51bUJpdHMsIHRoaXMuaGlnaCA8PCBudW1CaXRzIHwgdGhpcy5sb3cgPj4+IDMyIC0gbnVtQml0cywgdGhpcy51bnNpZ25lZCk7XG4gIGVsc2VcbiAgICByZXR1cm4gZnJvbUJpdHMoMCwgdGhpcy5sb3cgPDwgbnVtQml0cyAtIDMyLCB0aGlzLnVuc2lnbmVkKTtcbn07XG5Mb25nUHJvdG90eXBlLnNobCA9IExvbmdQcm90b3R5cGUuc2hpZnRMZWZ0O1xuTG9uZ1Byb3RvdHlwZS5zaGlmdFJpZ2h0ID0gZnVuY3Rpb24gc2hpZnRSaWdodChudW1CaXRzKSB7XG4gIGlmIChpc0xvbmcobnVtQml0cykpXG4gICAgbnVtQml0cyA9IG51bUJpdHMudG9JbnQoKTtcbiAgaWYgKChudW1CaXRzICY9IDYzKSA9PT0gMClcbiAgICByZXR1cm4gdGhpcztcbiAgZWxzZSBpZiAobnVtQml0cyA8IDMyKVxuICAgIHJldHVybiBmcm9tQml0cyh0aGlzLmxvdyA+Pj4gbnVtQml0cyB8IHRoaXMuaGlnaCA8PCAzMiAtIG51bUJpdHMsIHRoaXMuaGlnaCA+PiBudW1CaXRzLCB0aGlzLnVuc2lnbmVkKTtcbiAgZWxzZVxuICAgIHJldHVybiBmcm9tQml0cyh0aGlzLmhpZ2ggPj4gbnVtQml0cyAtIDMyLCB0aGlzLmhpZ2ggPj0gMCA/IDAgOiAtMSwgdGhpcy51bnNpZ25lZCk7XG59O1xuTG9uZ1Byb3RvdHlwZS5zaHIgPSBMb25nUHJvdG90eXBlLnNoaWZ0UmlnaHQ7XG5Mb25nUHJvdG90eXBlLnNoaWZ0UmlnaHRVbnNpZ25lZCA9IGZ1bmN0aW9uIHNoaWZ0UmlnaHRVbnNpZ25lZChudW1CaXRzKSB7XG4gIGlmIChpc0xvbmcobnVtQml0cykpXG4gICAgbnVtQml0cyA9IG51bUJpdHMudG9JbnQoKTtcbiAgaWYgKChudW1CaXRzICY9IDYzKSA9PT0gMClcbiAgICByZXR1cm4gdGhpcztcbiAgaWYgKG51bUJpdHMgPCAzMilcbiAgICByZXR1cm4gZnJvbUJpdHModGhpcy5sb3cgPj4+IG51bUJpdHMgfCB0aGlzLmhpZ2ggPDwgMzIgLSBudW1CaXRzLCB0aGlzLmhpZ2ggPj4+IG51bUJpdHMsIHRoaXMudW5zaWduZWQpO1xuICBpZiAobnVtQml0cyA9PT0gMzIpXG4gICAgcmV0dXJuIGZyb21CaXRzKHRoaXMuaGlnaCwgMCwgdGhpcy51bnNpZ25lZCk7XG4gIHJldHVybiBmcm9tQml0cyh0aGlzLmhpZ2ggPj4+IG51bUJpdHMgLSAzMiwgMCwgdGhpcy51bnNpZ25lZCk7XG59O1xuTG9uZ1Byb3RvdHlwZS5zaHJ1ID0gTG9uZ1Byb3RvdHlwZS5zaGlmdFJpZ2h0VW5zaWduZWQ7XG5Mb25nUHJvdG90eXBlLnNocl91ID0gTG9uZ1Byb3RvdHlwZS5zaGlmdFJpZ2h0VW5zaWduZWQ7XG5Mb25nUHJvdG90eXBlLnJvdGF0ZUxlZnQgPSBmdW5jdGlvbiByb3RhdGVMZWZ0KG51bUJpdHMpIHtcbiAgdmFyIGI7XG4gIGlmIChpc0xvbmcobnVtQml0cykpXG4gICAgbnVtQml0cyA9IG51bUJpdHMudG9JbnQoKTtcbiAgaWYgKChudW1CaXRzICY9IDYzKSA9PT0gMClcbiAgICByZXR1cm4gdGhpcztcbiAgaWYgKG51bUJpdHMgPT09IDMyKVxuICAgIHJldHVybiBmcm9tQml0cyh0aGlzLmhpZ2gsIHRoaXMubG93LCB0aGlzLnVuc2lnbmVkKTtcbiAgaWYgKG51bUJpdHMgPCAzMikge1xuICAgIGIgPSAzMiAtIG51bUJpdHM7XG4gICAgcmV0dXJuIGZyb21CaXRzKHRoaXMubG93IDw8IG51bUJpdHMgfCB0aGlzLmhpZ2ggPj4+IGIsIHRoaXMuaGlnaCA8PCBudW1CaXRzIHwgdGhpcy5sb3cgPj4+IGIsIHRoaXMudW5zaWduZWQpO1xuICB9XG4gIG51bUJpdHMgLT0gMzI7XG4gIGIgPSAzMiAtIG51bUJpdHM7XG4gIHJldHVybiBmcm9tQml0cyh0aGlzLmhpZ2ggPDwgbnVtQml0cyB8IHRoaXMubG93ID4+PiBiLCB0aGlzLmxvdyA8PCBudW1CaXRzIHwgdGhpcy5oaWdoID4+PiBiLCB0aGlzLnVuc2lnbmVkKTtcbn07XG5Mb25nUHJvdG90eXBlLnJvdGwgPSBMb25nUHJvdG90eXBlLnJvdGF0ZUxlZnQ7XG5Mb25nUHJvdG90eXBlLnJvdGF0ZVJpZ2h0ID0gZnVuY3Rpb24gcm90YXRlUmlnaHQobnVtQml0cykge1xuICB2YXIgYjtcbiAgaWYgKGlzTG9uZyhudW1CaXRzKSlcbiAgICBudW1CaXRzID0gbnVtQml0cy50b0ludCgpO1xuICBpZiAoKG51bUJpdHMgJj0gNjMpID09PSAwKVxuICAgIHJldHVybiB0aGlzO1xuICBpZiAobnVtQml0cyA9PT0gMzIpXG4gICAgcmV0dXJuIGZyb21CaXRzKHRoaXMuaGlnaCwgdGhpcy5sb3csIHRoaXMudW5zaWduZWQpO1xuICBpZiAobnVtQml0cyA8IDMyKSB7XG4gICAgYiA9IDMyIC0gbnVtQml0cztcbiAgICByZXR1cm4gZnJvbUJpdHModGhpcy5oaWdoIDw8IGIgfCB0aGlzLmxvdyA+Pj4gbnVtQml0cywgdGhpcy5sb3cgPDwgYiB8IHRoaXMuaGlnaCA+Pj4gbnVtQml0cywgdGhpcy51bnNpZ25lZCk7XG4gIH1cbiAgbnVtQml0cyAtPSAzMjtcbiAgYiA9IDMyIC0gbnVtQml0cztcbiAgcmV0dXJuIGZyb21CaXRzKHRoaXMubG93IDw8IGIgfCB0aGlzLmhpZ2ggPj4+IG51bUJpdHMsIHRoaXMuaGlnaCA8PCBiIHwgdGhpcy5sb3cgPj4+IG51bUJpdHMsIHRoaXMudW5zaWduZWQpO1xufTtcbkxvbmdQcm90b3R5cGUucm90ciA9IExvbmdQcm90b3R5cGUucm90YXRlUmlnaHQ7XG5Mb25nUHJvdG90eXBlLnRvU2lnbmVkID0gZnVuY3Rpb24gdG9TaWduZWQoKSB7XG4gIGlmICghdGhpcy51bnNpZ25lZClcbiAgICByZXR1cm4gdGhpcztcbiAgcmV0dXJuIGZyb21CaXRzKHRoaXMubG93LCB0aGlzLmhpZ2gsIGZhbHNlKTtcbn07XG5Mb25nUHJvdG90eXBlLnRvVW5zaWduZWQgPSBmdW5jdGlvbiB0b1Vuc2lnbmVkKCkge1xuICBpZiAodGhpcy51bnNpZ25lZClcbiAgICByZXR1cm4gdGhpcztcbiAgcmV0dXJuIGZyb21CaXRzKHRoaXMubG93LCB0aGlzLmhpZ2gsIHRydWUpO1xufTtcbkxvbmdQcm90b3R5cGUudG9CeXRlcyA9IGZ1bmN0aW9uIHRvQnl0ZXMobGUpIHtcbiAgcmV0dXJuIGxlID8gdGhpcy50b0J5dGVzTEUoKSA6IHRoaXMudG9CeXRlc0JFKCk7XG59O1xuTG9uZ1Byb3RvdHlwZS50b0J5dGVzTEUgPSBmdW5jdGlvbiB0b0J5dGVzTEUoKSB7XG4gIHZhciBoaSA9IHRoaXMuaGlnaCwgbG8gPSB0aGlzLmxvdztcbiAgcmV0dXJuIFtcbiAgICBsbyAmIDI1NSxcbiAgICBsbyA+Pj4gOCAmIDI1NSxcbiAgICBsbyA+Pj4gMTYgJiAyNTUsXG4gICAgbG8gPj4+IDI0LFxuICAgIGhpICYgMjU1LFxuICAgIGhpID4+PiA4ICYgMjU1LFxuICAgIGhpID4+PiAxNiAmIDI1NSxcbiAgICBoaSA+Pj4gMjRcbiAgXTtcbn07XG5Mb25nUHJvdG90eXBlLnRvQnl0ZXNCRSA9IGZ1bmN0aW9uIHRvQnl0ZXNCRSgpIHtcbiAgdmFyIGhpID0gdGhpcy5oaWdoLCBsbyA9IHRoaXMubG93O1xuICByZXR1cm4gW1xuICAgIGhpID4+PiAyNCxcbiAgICBoaSA+Pj4gMTYgJiAyNTUsXG4gICAgaGkgPj4+IDggJiAyNTUsXG4gICAgaGkgJiAyNTUsXG4gICAgbG8gPj4+IDI0LFxuICAgIGxvID4+PiAxNiAmIDI1NSxcbiAgICBsbyA+Pj4gOCAmIDI1NSxcbiAgICBsbyAmIDI1NVxuICBdO1xufTtcbkxvbmcuZnJvbUJ5dGVzID0gZnVuY3Rpb24gZnJvbUJ5dGVzKGJ5dGVzLCB1bnNpZ25lZCwgbGUpIHtcbiAgcmV0dXJuIGxlID8gTG9uZy5mcm9tQnl0ZXNMRShieXRlcywgdW5zaWduZWQpIDogTG9uZy5mcm9tQnl0ZXNCRShieXRlcywgdW5zaWduZWQpO1xufTtcbkxvbmcuZnJvbUJ5dGVzTEUgPSBmdW5jdGlvbiBmcm9tQnl0ZXNMRShieXRlcywgdW5zaWduZWQpIHtcbiAgcmV0dXJuIG5ldyBMb25nKFxuICAgIGJ5dGVzWzBdIHwgYnl0ZXNbMV0gPDwgOCB8IGJ5dGVzWzJdIDw8IDE2IHwgYnl0ZXNbM10gPDwgMjQsXG4gICAgYnl0ZXNbNF0gfCBieXRlc1s1XSA8PCA4IHwgYnl0ZXNbNl0gPDwgMTYgfCBieXRlc1s3XSA8PCAyNCxcbiAgICB1bnNpZ25lZFxuICApO1xufTtcbkxvbmcuZnJvbUJ5dGVzQkUgPSBmdW5jdGlvbiBmcm9tQnl0ZXNCRShieXRlcywgdW5zaWduZWQpIHtcbiAgcmV0dXJuIG5ldyBMb25nKFxuICAgIGJ5dGVzWzRdIDw8IDI0IHwgYnl0ZXNbNV0gPDwgMTYgfCBieXRlc1s2XSA8PCA4IHwgYnl0ZXNbN10sXG4gICAgYnl0ZXNbMF0gPDwgMjQgfCBieXRlc1sxXSA8PCAxNiB8IGJ5dGVzWzJdIDw8IDggfCBieXRlc1szXSxcbiAgICB1bnNpZ25lZFxuICApO1xufTtcbnZhciBsb25nX2RlZmF1bHQgPSBMb25nO1xuXG4vLyBzcmMvZmFyY2FzdGVyL2dlbmVyYXRlZC91c2VybmFtZV9wcm9vZi50c1xuaW1wb3J0IF9tMCBmcm9tIFwicHJvdG9idWZqcy9taW5pbWFsLmpzXCI7XG52YXIgVXNlck5hbWVUeXBlID0gLyogQF9fUFVSRV9fICovICgoVXNlck5hbWVUeXBlMikgPT4ge1xuICBVc2VyTmFtZVR5cGUyW1VzZXJOYW1lVHlwZTJbXCJVU0VSTkFNRV9UWVBFX05PTkVcIl0gPSAwXSA9IFwiVVNFUk5BTUVfVFlQRV9OT05FXCI7XG4gIFVzZXJOYW1lVHlwZTJbVXNlck5hbWVUeXBlMltcIlVTRVJOQU1FX1RZUEVfRk5BTUVcIl0gPSAxXSA9IFwiVVNFUk5BTUVfVFlQRV9GTkFNRVwiO1xuICBVc2VyTmFtZVR5cGUyW1VzZXJOYW1lVHlwZTJbXCJVU0VSTkFNRV9UWVBFX0VOU19MMVwiXSA9IDJdID0gXCJVU0VSTkFNRV9UWVBFX0VOU19MMVwiO1xuICByZXR1cm4gVXNlck5hbWVUeXBlMjtcbn0pKFVzZXJOYW1lVHlwZSB8fCB7fSk7XG5mdW5jdGlvbiB1c2VyTmFtZVR5cGVGcm9tSlNPTihvYmplY3QpIHtcbiAgc3dpdGNoIChvYmplY3QpIHtcbiAgICBjYXNlIDA6XG4gICAgY2FzZSBcIlVTRVJOQU1FX1RZUEVfTk9ORVwiOlxuICAgICAgcmV0dXJuIDAgLyogVVNFUk5BTUVfVFlQRV9OT05FICovO1xuICAgIGNhc2UgMTpcbiAgICBjYXNlIFwiVVNFUk5BTUVfVFlQRV9GTkFNRVwiOlxuICAgICAgcmV0dXJuIDEgLyogVVNFUk5BTUVfVFlQRV9GTkFNRSAqLztcbiAgICBjYXNlIDI6XG4gICAgY2FzZSBcIlVTRVJOQU1FX1RZUEVfRU5TX0wxXCI6XG4gICAgICByZXR1cm4gMiAvKiBVU0VSTkFNRV9UWVBFX0VOU19MMSAqLztcbiAgICBkZWZhdWx0OlxuICAgICAgdGhyb3cgbmV3IHRzUHJvdG9HbG9iYWxUaGlzLkVycm9yKFxuICAgICAgICBcIlVucmVjb2duaXplZCBlbnVtIHZhbHVlIFwiICsgb2JqZWN0ICsgXCIgZm9yIGVudW0gVXNlck5hbWVUeXBlXCJcbiAgICAgICk7XG4gIH1cbn1cbmZ1bmN0aW9uIHVzZXJOYW1lVHlwZVRvSlNPTihvYmplY3QpIHtcbiAgc3dpdGNoIChvYmplY3QpIHtcbiAgICBjYXNlIDAgLyogVVNFUk5BTUVfVFlQRV9OT05FICovOlxuICAgICAgcmV0dXJuIFwiVVNFUk5BTUVfVFlQRV9OT05FXCI7XG4gICAgY2FzZSAxIC8qIFVTRVJOQU1FX1RZUEVfRk5BTUUgKi86XG4gICAgICByZXR1cm4gXCJVU0VSTkFNRV9UWVBFX0ZOQU1FXCI7XG4gICAgY2FzZSAyIC8qIFVTRVJOQU1FX1RZUEVfRU5TX0wxICovOlxuICAgICAgcmV0dXJuIFwiVVNFUk5BTUVfVFlQRV9FTlNfTDFcIjtcbiAgICBkZWZhdWx0OlxuICAgICAgdGhyb3cgbmV3IHRzUHJvdG9HbG9iYWxUaGlzLkVycm9yKFxuICAgICAgICBcIlVucmVjb2duaXplZCBlbnVtIHZhbHVlIFwiICsgb2JqZWN0ICsgXCIgZm9yIGVudW0gVXNlck5hbWVUeXBlXCJcbiAgICAgICk7XG4gIH1cbn1cbmZ1bmN0aW9uIGNyZWF0ZUJhc2VVc2VyTmFtZVByb29mKCkge1xuICByZXR1cm4ge1xuICAgIHRpbWVzdGFtcDogMCxcbiAgICBuYW1lOiBuZXcgVWludDhBcnJheSgpLFxuICAgIG93bmVyOiBuZXcgVWludDhBcnJheSgpLFxuICAgIHNpZ25hdHVyZTogbmV3IFVpbnQ4QXJyYXkoKSxcbiAgICBmaWQ6IDAsXG4gICAgdHlwZTogMFxuICB9O1xufVxudmFyIFVzZXJOYW1lUHJvb2YgPSB7XG4gIGVuY29kZShtZXNzYWdlLCB3cml0ZXIgPSBfbTAuV3JpdGVyLmNyZWF0ZSgpKSB7XG4gICAgaWYgKG1lc3NhZ2UudGltZXN0YW1wICE9PSAwKSB7XG4gICAgICB3cml0ZXIudWludDMyKDgpLnVpbnQ2NChtZXNzYWdlLnRpbWVzdGFtcCk7XG4gICAgfVxuICAgIGlmIChtZXNzYWdlLm5hbWUubGVuZ3RoICE9PSAwKSB7XG4gICAgICB3cml0ZXIudWludDMyKDE4KS5ieXRlcyhtZXNzYWdlLm5hbWUpO1xuICAgIH1cbiAgICBpZiAobWVzc2FnZS5vd25lci5sZW5ndGggIT09IDApIHtcbiAgICAgIHdyaXRlci51aW50MzIoMjYpLmJ5dGVzKG1lc3NhZ2Uub3duZXIpO1xuICAgIH1cbiAgICBpZiAobWVzc2FnZS5zaWduYXR1cmUubGVuZ3RoICE9PSAwKSB7XG4gICAgICB3cml0ZXIudWludDMyKDM0KS5ieXRlcyhtZXNzYWdlLnNpZ25hdHVyZSk7XG4gICAgfVxuICAgIGlmIChtZXNzYWdlLmZpZCAhPT0gMCkge1xuICAgICAgd3JpdGVyLnVpbnQzMig0MCkudWludDY0KG1lc3NhZ2UuZmlkKTtcbiAgICB9XG4gICAgaWYgKG1lc3NhZ2UudHlwZSAhPT0gMCkge1xuICAgICAgd3JpdGVyLnVpbnQzMig0OCkuaW50MzIobWVzc2FnZS50eXBlKTtcbiAgICB9XG4gICAgcmV0dXJuIHdyaXRlcjtcbiAgfSxcbiAgZGVjb2RlKGlucHV0LCBsZW5ndGgpIHtcbiAgICBjb25zdCByZWFkZXIgPSBpbnB1dCBpbnN0YW5jZW9mIF9tMC5SZWFkZXIgPyBpbnB1dCA6IF9tMC5SZWFkZXIuY3JlYXRlKGlucHV0KTtcbiAgICBsZXQgZW5kID0gbGVuZ3RoID09PSB2b2lkIDAgPyByZWFkZXIubGVuIDogcmVhZGVyLnBvcyArIGxlbmd0aDtcbiAgICBjb25zdCBtZXNzYWdlID0gY3JlYXRlQmFzZVVzZXJOYW1lUHJvb2YoKTtcbiAgICB3aGlsZSAocmVhZGVyLnBvcyA8IGVuZCkge1xuICAgICAgY29uc3QgdGFnID0gcmVhZGVyLnVpbnQzMigpO1xuICAgICAgc3dpdGNoICh0YWcgPj4+IDMpIHtcbiAgICAgICAgY2FzZSAxOlxuICAgICAgICAgIGlmICh0YWcgIT0gOCkge1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICAgIG1lc3NhZ2UudGltZXN0YW1wID0gbG9uZ1RvTnVtYmVyKHJlYWRlci51aW50NjQoKSk7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIGNhc2UgMjpcbiAgICAgICAgICBpZiAodGFnICE9IDE4KSB7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgICAgbWVzc2FnZS5uYW1lID0gcmVhZGVyLmJ5dGVzKCk7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIGNhc2UgMzpcbiAgICAgICAgICBpZiAodGFnICE9IDI2KSB7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgICAgbWVzc2FnZS5vd25lciA9IHJlYWRlci5ieXRlcygpO1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICBjYXNlIDQ6XG4gICAgICAgICAgaWYgKHRhZyAhPSAzNCkge1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICAgIG1lc3NhZ2Uuc2lnbmF0dXJlID0gcmVhZGVyLmJ5dGVzKCk7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIGNhc2UgNTpcbiAgICAgICAgICBpZiAodGFnICE9IDQwKSB7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgICAgbWVzc2FnZS5maWQgPSBsb25nVG9OdW1iZXIocmVhZGVyLnVpbnQ2NCgpKTtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgY2FzZSA2OlxuICAgICAgICAgIGlmICh0YWcgIT0gNDgpIHtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgICBtZXNzYWdlLnR5cGUgPSByZWFkZXIuaW50MzIoKTtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cbiAgICAgIGlmICgodGFnICYgNykgPT0gNCB8fCB0YWcgPT0gMCkge1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIHJlYWRlci5za2lwVHlwZSh0YWcgJiA3KTtcbiAgICB9XG4gICAgcmV0dXJuIG1lc3NhZ2U7XG4gIH0sXG4gIGZyb21KU09OKG9iamVjdCkge1xuICAgIHJldHVybiB7XG4gICAgICB0aW1lc3RhbXA6IGlzU2V0KG9iamVjdC50aW1lc3RhbXApID8gTnVtYmVyKG9iamVjdC50aW1lc3RhbXApIDogMCxcbiAgICAgIG5hbWU6IGlzU2V0KG9iamVjdC5uYW1lKSA/IGJ5dGVzRnJvbUJhc2U2NChvYmplY3QubmFtZSkgOiBuZXcgVWludDhBcnJheSgpLFxuICAgICAgb3duZXI6IGlzU2V0KG9iamVjdC5vd25lcikgPyBieXRlc0Zyb21CYXNlNjQob2JqZWN0Lm93bmVyKSA6IG5ldyBVaW50OEFycmF5KCksXG4gICAgICBzaWduYXR1cmU6IGlzU2V0KG9iamVjdC5zaWduYXR1cmUpID8gYnl0ZXNGcm9tQmFzZTY0KG9iamVjdC5zaWduYXR1cmUpIDogbmV3IFVpbnQ4QXJyYXkoKSxcbiAgICAgIGZpZDogaXNTZXQob2JqZWN0LmZpZCkgPyBOdW1iZXIob2JqZWN0LmZpZCkgOiAwLFxuICAgICAgdHlwZTogaXNTZXQob2JqZWN0LnR5cGUpID8gdXNlck5hbWVUeXBlRnJvbUpTT04ob2JqZWN0LnR5cGUpIDogMFxuICAgIH07XG4gIH0sXG4gIHRvSlNPTihtZXNzYWdlKSB7XG4gICAgY29uc3Qgb2JqID0ge307XG4gICAgbWVzc2FnZS50aW1lc3RhbXAgIT09IHZvaWQgMCAmJiAob2JqLnRpbWVzdGFtcCA9IE1hdGgucm91bmQobWVzc2FnZS50aW1lc3RhbXApKTtcbiAgICBtZXNzYWdlLm5hbWUgIT09IHZvaWQgMCAmJiAob2JqLm5hbWUgPSBiYXNlNjRGcm9tQnl0ZXMoXG4gICAgICBtZXNzYWdlLm5hbWUgIT09IHZvaWQgMCA/IG1lc3NhZ2UubmFtZSA6IG5ldyBVaW50OEFycmF5KClcbiAgICApKTtcbiAgICBtZXNzYWdlLm93bmVyICE9PSB2b2lkIDAgJiYgKG9iai5vd25lciA9IGJhc2U2NEZyb21CeXRlcyhcbiAgICAgIG1lc3NhZ2Uub3duZXIgIT09IHZvaWQgMCA/IG1lc3NhZ2Uub3duZXIgOiBuZXcgVWludDhBcnJheSgpXG4gICAgKSk7XG4gICAgbWVzc2FnZS5zaWduYXR1cmUgIT09IHZvaWQgMCAmJiAob2JqLnNpZ25hdHVyZSA9IGJhc2U2NEZyb21CeXRlcyhcbiAgICAgIG1lc3NhZ2Uuc2lnbmF0dXJlICE9PSB2b2lkIDAgPyBtZXNzYWdlLnNpZ25hdHVyZSA6IG5ldyBVaW50OEFycmF5KClcbiAgICApKTtcbiAgICBtZXNzYWdlLmZpZCAhPT0gdm9pZCAwICYmIChvYmouZmlkID0gTWF0aC5yb3VuZChtZXNzYWdlLmZpZCkpO1xuICAgIG1lc3NhZ2UudHlwZSAhPT0gdm9pZCAwICYmIChvYmoudHlwZSA9IHVzZXJOYW1lVHlwZVRvSlNPTihtZXNzYWdlLnR5cGUpKTtcbiAgICByZXR1cm4gb2JqO1xuICB9LFxuICBjcmVhdGUoYmFzZSkge1xuICAgIHJldHVybiBVc2VyTmFtZVByb29mLmZyb21QYXJ0aWFsKGJhc2UgPz8ge30pO1xuICB9LFxuICBmcm9tUGFydGlhbChvYmplY3QpIHtcbiAgICBjb25zdCBtZXNzYWdlID0gY3JlYXRlQmFzZVVzZXJOYW1lUHJvb2YoKTtcbiAgICBtZXNzYWdlLnRpbWVzdGFtcCA9IG9iamVjdC50aW1lc3RhbXAgPz8gMDtcbiAgICBtZXNzYWdlLm5hbWUgPSBvYmplY3QubmFtZSA/PyBuZXcgVWludDhBcnJheSgpO1xuICAgIG1lc3NhZ2Uub3duZXIgPSBvYmplY3Qub3duZXIgPz8gbmV3IFVpbnQ4QXJyYXkoKTtcbiAgICBtZXNzYWdlLnNpZ25hdHVyZSA9IG9iamVjdC5zaWduYXR1cmUgPz8gbmV3IFVpbnQ4QXJyYXkoKTtcbiAgICBtZXNzYWdlLmZpZCA9IG9iamVjdC5maWQgPz8gMDtcbiAgICBtZXNzYWdlLnR5cGUgPSBvYmplY3QudHlwZSA/PyAwO1xuICAgIHJldHVybiBtZXNzYWdlO1xuICB9XG59O1xudmFyIHRzUHJvdG9HbG9iYWxUaGlzID0gKCgpID0+IHtcbiAgaWYgKHR5cGVvZiBnbG9iYWxUaGlzICE9PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgcmV0dXJuIGdsb2JhbFRoaXM7XG4gIH1cbiAgaWYgKHR5cGVvZiBzZWxmICE9PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgcmV0dXJuIHNlbGY7XG4gIH1cbiAgaWYgKHR5cGVvZiB3aW5kb3cgIT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICByZXR1cm4gd2luZG93O1xuICB9XG4gIGlmICh0eXBlb2YgZ2xvYmFsICE9PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgcmV0dXJuIGdsb2JhbDtcbiAgfVxuICB0aHJvdyBcIlVuYWJsZSB0byBsb2NhdGUgZ2xvYmFsIG9iamVjdFwiO1xufSkoKTtcbmZ1bmN0aW9uIGJ5dGVzRnJvbUJhc2U2NChiNjQpIHtcbiAgaWYgKHRzUHJvdG9HbG9iYWxUaGlzLkJ1ZmZlcikge1xuICAgIHJldHVybiBVaW50OEFycmF5LmZyb20odHNQcm90b0dsb2JhbFRoaXMuQnVmZmVyLmZyb20oYjY0LCBcImJhc2U2NFwiKSk7XG4gIH0gZWxzZSB7XG4gICAgY29uc3QgYmluID0gdHNQcm90b0dsb2JhbFRoaXMuYXRvYihiNjQpO1xuICAgIGNvbnN0IGFyciA9IG5ldyBVaW50OEFycmF5KGJpbi5sZW5ndGgpO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYmluLmxlbmd0aDsgKytpKSB7XG4gICAgICBhcnJbaV0gPSBiaW4uY2hhckNvZGVBdChpKTtcbiAgICB9XG4gICAgcmV0dXJuIGFycjtcbiAgfVxufVxuZnVuY3Rpb24gYmFzZTY0RnJvbUJ5dGVzKGFycikge1xuICBpZiAodHNQcm90b0dsb2JhbFRoaXMuQnVmZmVyKSB7XG4gICAgcmV0dXJuIHRzUHJvdG9HbG9iYWxUaGlzLkJ1ZmZlci5mcm9tKGFycikudG9TdHJpbmcoXCJiYXNlNjRcIik7XG4gIH0gZWxzZSB7XG4gICAgY29uc3QgYmluID0gW107XG4gICAgYXJyLmZvckVhY2goKGJ5dGUpID0+IHtcbiAgICAgIGJpbi5wdXNoKFN0cmluZy5mcm9tQ2hhckNvZGUoYnl0ZSkpO1xuICAgIH0pO1xuICAgIHJldHVybiB0c1Byb3RvR2xvYmFsVGhpcy5idG9hKGJpbi5qb2luKFwiXCIpKTtcbiAgfVxufVxuZnVuY3Rpb24gbG9uZ1RvTnVtYmVyKGxvbmcpIHtcbiAgaWYgKGxvbmcuZ3QoTnVtYmVyLk1BWF9TQUZFX0lOVEVHRVIpKSB7XG4gICAgdGhyb3cgbmV3IHRzUHJvdG9HbG9iYWxUaGlzLkVycm9yKFxuICAgICAgXCJWYWx1ZSBpcyBsYXJnZXIgdGhhbiBOdW1iZXIuTUFYX1NBRkVfSU5URUdFUlwiXG4gICAgKTtcbiAgfVxuICByZXR1cm4gbG9uZy50b051bWJlcigpO1xufVxuaWYgKF9tMC51dGlsLkxvbmcgIT09IGxvbmdfZGVmYXVsdCkge1xuICBfbTAudXRpbC5Mb25nID0gbG9uZ19kZWZhdWx0O1xuICBfbTAuY29uZmlndXJlKCk7XG59XG5mdW5jdGlvbiBpc1NldCh2YWx1ZSkge1xuICByZXR1cm4gdmFsdWUgIT09IG51bGwgJiYgdmFsdWUgIT09IHZvaWQgMDtcbn1cblxuZXhwb3J0IHtcbiAgbG9uZ19kZWZhdWx0LFxuICBVc2VyTmFtZVR5cGUsXG4gIHVzZXJOYW1lVHlwZUZyb21KU09OLFxuICB1c2VyTmFtZVR5cGVUb0pTT04sXG4gIFVzZXJOYW1lUHJvb2Zcbn07XG4vKiEgQnVuZGxlZCBsaWNlbnNlIGluZm9ybWF0aW9uOlxuXG5sb25nL2luZGV4LmpzOlxuICAoKipcbiAgICogQGxpY2Vuc2VcbiAgICogQ29weXJpZ2h0IDIwMDkgVGhlIENsb3N1cmUgTGlicmFyeSBBdXRob3JzXG4gICAqIENvcHlyaWdodCAyMDIwIERhbmllbCBXaXJ0eiAvIFRoZSBsb25nLmpzIEF1dGhvcnMuXG4gICAqXG4gICAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gICAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAgICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gICAqXG4gICAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAgICpcbiAgICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICAgKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gICAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICAgKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gICAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICAgKlxuICAgKiBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogQXBhY2hlLTIuMFxuICAgKilcbiovXG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/frames.js/dist/chunk-JGTH2ANC.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/frames.js/dist/chunk-KVBPJHKH.js":
/*!*******************************************************!*\
  !*** ./node_modules/frames.js/dist/chunk-KVBPJHKH.js ***!
  \*******************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   stateMiddleware: () => (/* binding */ stateMiddleware)\n/* harmony export */ });\n/* harmony import */ var _chunk_CAY3YIQE_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./chunk-CAY3YIQE.js */ \"(rsc)/./node_modules/frames.js/dist/chunk-CAY3YIQE.js\");\n\n\n// src/middleware/stateMiddleware.ts\nfunction stateMiddleware() {\n  return async (ctx, next) => {\n    if (\"message\" in ctx && typeof ctx.message === \"object\" && ctx.message && \"state\" in ctx.message) {\n      let state = ctx.initialState;\n      if (ctx.message.state) {\n        try {\n          if (typeof ctx.message.state !== \"string\") {\n            throw new Error(\"State is not a string\");\n          }\n          state = JSON.parse(ctx.message.state);\n        } catch (e) {\n          console.warn(\n            \"Failed to parse state from frame message, are you sure that the state was constructed by frames.js?\"\n          );\n          state = ctx.initialState;\n        }\n      }\n      const nextResult = await next({\n        state\n      });\n      if ((0,_chunk_CAY3YIQE_js__WEBPACK_IMPORTED_MODULE_0__.isFrameDefinition)(nextResult)) {\n        return {\n          state,\n          ...nextResult\n        };\n      }\n      return nextResult;\n    }\n    return next({\n      state: ctx.initialState\n    });\n  };\n}\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvZnJhbWVzLmpzL2Rpc3QvY2h1bmstS1ZCUEpIS0guanMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFFNkI7O0FBRTdCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUCxVQUFVLHFFQUFpQjtBQUMzQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTs7QUFJRSIsInNvdXJjZXMiOlsid2VicGFjazovL3BsZWItZmluZGVyLy4vbm9kZV9tb2R1bGVzL2ZyYW1lcy5qcy9kaXN0L2NodW5rLUtWQlBKSEtILmpzP2JmYjMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtcbiAgaXNGcmFtZURlZmluaXRpb25cbn0gZnJvbSBcIi4vY2h1bmstQ0FZM1lJUUUuanNcIjtcblxuLy8gc3JjL21pZGRsZXdhcmUvc3RhdGVNaWRkbGV3YXJlLnRzXG5mdW5jdGlvbiBzdGF0ZU1pZGRsZXdhcmUoKSB7XG4gIHJldHVybiBhc3luYyAoY3R4LCBuZXh0KSA9PiB7XG4gICAgaWYgKFwibWVzc2FnZVwiIGluIGN0eCAmJiB0eXBlb2YgY3R4Lm1lc3NhZ2UgPT09IFwib2JqZWN0XCIgJiYgY3R4Lm1lc3NhZ2UgJiYgXCJzdGF0ZVwiIGluIGN0eC5tZXNzYWdlKSB7XG4gICAgICBsZXQgc3RhdGUgPSBjdHguaW5pdGlhbFN0YXRlO1xuICAgICAgaWYgKGN0eC5tZXNzYWdlLnN0YXRlKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgaWYgKHR5cGVvZiBjdHgubWVzc2FnZS5zdGF0ZSAhPT0gXCJzdHJpbmdcIikge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiU3RhdGUgaXMgbm90IGEgc3RyaW5nXCIpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBzdGF0ZSA9IEpTT04ucGFyc2UoY3R4Lm1lc3NhZ2Uuc3RhdGUpO1xuICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgY29uc29sZS53YXJuKFxuICAgICAgICAgICAgXCJGYWlsZWQgdG8gcGFyc2Ugc3RhdGUgZnJvbSBmcmFtZSBtZXNzYWdlLCBhcmUgeW91IHN1cmUgdGhhdCB0aGUgc3RhdGUgd2FzIGNvbnN0cnVjdGVkIGJ5IGZyYW1lcy5qcz9cIlxuICAgICAgICAgICk7XG4gICAgICAgICAgc3RhdGUgPSBjdHguaW5pdGlhbFN0YXRlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBjb25zdCBuZXh0UmVzdWx0ID0gYXdhaXQgbmV4dCh7XG4gICAgICAgIHN0YXRlXG4gICAgICB9KTtcbiAgICAgIGlmIChpc0ZyYW1lRGVmaW5pdGlvbihuZXh0UmVzdWx0KSkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIHN0YXRlLFxuICAgICAgICAgIC4uLm5leHRSZXN1bHRcbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBuZXh0UmVzdWx0O1xuICAgIH1cbiAgICByZXR1cm4gbmV4dCh7XG4gICAgICBzdGF0ZTogY3R4LmluaXRpYWxTdGF0ZVxuICAgIH0pO1xuICB9O1xufVxuXG5leHBvcnQge1xuICBzdGF0ZU1pZGRsZXdhcmVcbn07XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/frames.js/dist/chunk-KVBPJHKH.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/frames.js/dist/chunk-LVMQ4PXS.js":
/*!*******************************************************!*\
  !*** ./node_modules/frames.js/dist/chunk-LVMQ4PXS.js ***!
  \*******************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   composeMiddleware: () => (/* binding */ composeMiddleware)\n/* harmony export */ });\n// src/core/composeMiddleware.ts\nfunction composeMiddleware(middleware) {\n  if (middleware.length === 0) {\n    throw new Error(\"Please provide at least one middleware function\");\n  }\n  const composedMiddleware = middleware.reduceRight(\n    (nextMiddlewareInChain, currentMiddleware) => {\n      return (ctx) => {\n        return currentMiddleware(ctx, function next(newCtx) {\n          return nextMiddlewareInChain({ ...ctx, ...newCtx }, next);\n        });\n      };\n    }\n  );\n  return (ctx) => {\n    return composedMiddleware(ctx, () => {\n      return void 0;\n    });\n  };\n}\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvZnJhbWVzLmpzL2Rpc3QvY2h1bmstTFZNUTRQWFMuanMiLCJtYXBwaW5ncyI6Ijs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlDQUF5QyxtQkFBbUI7QUFDNUQsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBOztBQUlFIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcGxlYi1maW5kZXIvLi9ub2RlX21vZHVsZXMvZnJhbWVzLmpzL2Rpc3QvY2h1bmstTFZNUTRQWFMuanM/YTI1OCJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBzcmMvY29yZS9jb21wb3NlTWlkZGxld2FyZS50c1xuZnVuY3Rpb24gY29tcG9zZU1pZGRsZXdhcmUobWlkZGxld2FyZSkge1xuICBpZiAobWlkZGxld2FyZS5sZW5ndGggPT09IDApIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJQbGVhc2UgcHJvdmlkZSBhdCBsZWFzdCBvbmUgbWlkZGxld2FyZSBmdW5jdGlvblwiKTtcbiAgfVxuICBjb25zdCBjb21wb3NlZE1pZGRsZXdhcmUgPSBtaWRkbGV3YXJlLnJlZHVjZVJpZ2h0KFxuICAgIChuZXh0TWlkZGxld2FyZUluQ2hhaW4sIGN1cnJlbnRNaWRkbGV3YXJlKSA9PiB7XG4gICAgICByZXR1cm4gKGN0eCkgPT4ge1xuICAgICAgICByZXR1cm4gY3VycmVudE1pZGRsZXdhcmUoY3R4LCBmdW5jdGlvbiBuZXh0KG5ld0N0eCkge1xuICAgICAgICAgIHJldHVybiBuZXh0TWlkZGxld2FyZUluQ2hhaW4oeyAuLi5jdHgsIC4uLm5ld0N0eCB9LCBuZXh0KTtcbiAgICAgICAgfSk7XG4gICAgICB9O1xuICAgIH1cbiAgKTtcbiAgcmV0dXJuIChjdHgpID0+IHtcbiAgICByZXR1cm4gY29tcG9zZWRNaWRkbGV3YXJlKGN0eCwgKCkgPT4ge1xuICAgICAgcmV0dXJuIHZvaWQgMDtcbiAgICB9KTtcbiAgfTtcbn1cblxuZXhwb3J0IHtcbiAgY29tcG9zZU1pZGRsZXdhcmVcbn07XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/frames.js/dist/chunk-LVMQ4PXS.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/frames.js/dist/chunk-LVR5UZAS.js":
/*!*******************************************************!*\
  !*** ./node_modules/frames.js/dist/chunk-LVR5UZAS.js ***!
  \*******************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   coreMiddleware: () => (/* binding */ coreMiddleware)\n/* harmony export */ });\n/* harmony import */ var _chunk_VJ4W2HLT_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./chunk-VJ4W2HLT.js */ \"(rsc)/./node_modules/frames.js/dist/chunk-VJ4W2HLT.js\");\n/* harmony import */ var _chunk_22POH47P_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./chunk-22POH47P.js */ \"(rsc)/./node_modules/frames.js/dist/chunk-22POH47P.js\");\n/* harmony import */ var _chunk_IOQ2GY4V_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./chunk-IOQ2GY4V.js */ \"(rsc)/./node_modules/frames.js/dist/chunk-IOQ2GY4V.js\");\n\n\n\n\n// src/middleware/default.ts\nvar coreMiddleware = [\n  (0,_chunk_IOQ2GY4V_js__WEBPACK_IMPORTED_MODULE_2__.renderResponse)(),\n  (0,_chunk_22POH47P_js__WEBPACK_IMPORTED_MODULE_1__.framesjsMiddleware)(),\n  (0,_chunk_VJ4W2HLT_js__WEBPACK_IMPORTED_MODULE_0__.farcaster)()\n];\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvZnJhbWVzLmpzL2Rpc3QvY2h1bmstTFZSNVVaQVMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUU2QjtBQUdBO0FBR0E7O0FBRTdCO0FBQ0E7QUFDQSxFQUFFLGtFQUFjO0FBQ2hCLEVBQUUsc0VBQWtCO0FBQ3BCLEVBQUUsNkRBQVM7QUFDWDs7QUFJRSIsInNvdXJjZXMiOlsid2VicGFjazovL3BsZWItZmluZGVyLy4vbm9kZV9tb2R1bGVzL2ZyYW1lcy5qcy9kaXN0L2NodW5rLUxWUjVVWkFTLmpzPzdkZTIiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtcbiAgZmFyY2FzdGVyXG59IGZyb20gXCIuL2NodW5rLVZKNFcySExULmpzXCI7XG5pbXBvcnQge1xuICBmcmFtZXNqc01pZGRsZXdhcmVcbn0gZnJvbSBcIi4vY2h1bmstMjJQT0g0N1AuanNcIjtcbmltcG9ydCB7XG4gIHJlbmRlclJlc3BvbnNlXG59IGZyb20gXCIuL2NodW5rLUlPUTJHWTRWLmpzXCI7XG5cbi8vIHNyYy9taWRkbGV3YXJlL2RlZmF1bHQudHNcbnZhciBjb3JlTWlkZGxld2FyZSA9IFtcbiAgcmVuZGVyUmVzcG9uc2UoKSxcbiAgZnJhbWVzanNNaWRkbGV3YXJlKCksXG4gIGZhcmNhc3RlcigpXG5dO1xuXG5leHBvcnQge1xuICBjb3JlTWlkZGxld2FyZVxufTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/frames.js/dist/chunk-LVR5UZAS.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/frames.js/dist/chunk-MI43JRER.js":
/*!*******************************************************!*\
  !*** ./node_modules/frames.js/dist/chunk-MI43JRER.js ***!
  \*******************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   CastAddBody: () => (/* binding */ CastAddBody),\n/* harmony export */   CastId: () => (/* binding */ CastId),\n/* harmony export */   CastRemoveBody: () => (/* binding */ CastRemoveBody),\n/* harmony export */   Embed: () => (/* binding */ Embed),\n/* harmony export */   FarcasterNetwork: () => (/* binding */ FarcasterNetwork),\n/* harmony export */   FrameActionBody: () => (/* binding */ FrameActionBody),\n/* harmony export */   HashScheme: () => (/* binding */ HashScheme),\n/* harmony export */   LinkBody: () => (/* binding */ LinkBody),\n/* harmony export */   Message: () => (/* binding */ Message),\n/* harmony export */   MessageData: () => (/* binding */ MessageData),\n/* harmony export */   MessageType: () => (/* binding */ MessageType),\n/* harmony export */   Protocol: () => (/* binding */ Protocol),\n/* harmony export */   ReactionBody: () => (/* binding */ ReactionBody),\n/* harmony export */   ReactionType: () => (/* binding */ ReactionType),\n/* harmony export */   SignatureScheme: () => (/* binding */ SignatureScheme),\n/* harmony export */   UserDataBody: () => (/* binding */ UserDataBody),\n/* harmony export */   UserDataType: () => (/* binding */ UserDataType),\n/* harmony export */   VerificationAddAddressBody: () => (/* binding */ VerificationAddAddressBody),\n/* harmony export */   VerificationRemoveBody: () => (/* binding */ VerificationRemoveBody),\n/* harmony export */   farcasterNetworkFromJSON: () => (/* binding */ farcasterNetworkFromJSON),\n/* harmony export */   farcasterNetworkToJSON: () => (/* binding */ farcasterNetworkToJSON),\n/* harmony export */   hashSchemeFromJSON: () => (/* binding */ hashSchemeFromJSON),\n/* harmony export */   hashSchemeToJSON: () => (/* binding */ hashSchemeToJSON),\n/* harmony export */   messageTypeFromJSON: () => (/* binding */ messageTypeFromJSON),\n/* harmony export */   messageTypeToJSON: () => (/* binding */ messageTypeToJSON),\n/* harmony export */   protocolFromJSON: () => (/* binding */ protocolFromJSON),\n/* harmony export */   protocolToJSON: () => (/* binding */ protocolToJSON),\n/* harmony export */   reactionTypeFromJSON: () => (/* binding */ reactionTypeFromJSON),\n/* harmony export */   reactionTypeToJSON: () => (/* binding */ reactionTypeToJSON),\n/* harmony export */   signatureSchemeFromJSON: () => (/* binding */ signatureSchemeFromJSON),\n/* harmony export */   signatureSchemeToJSON: () => (/* binding */ signatureSchemeToJSON),\n/* harmony export */   userDataTypeFromJSON: () => (/* binding */ userDataTypeFromJSON),\n/* harmony export */   userDataTypeToJSON: () => (/* binding */ userDataTypeToJSON)\n/* harmony export */ });\n/* harmony import */ var _chunk_JGTH2ANC_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./chunk-JGTH2ANC.js */ \"(rsc)/./node_modules/frames.js/dist/chunk-JGTH2ANC.js\");\n/* harmony import */ var protobufjs_minimal_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! protobufjs/minimal.js */ \"(rsc)/./node_modules/protobufjs/minimal.js\");\n\n\n// src/farcaster/generated/message.ts\n\nvar HashScheme = /* @__PURE__ */ ((HashScheme2) => {\n  HashScheme2[HashScheme2[\"NONE\"] = 0] = \"NONE\";\n  HashScheme2[HashScheme2[\"BLAKE3\"] = 1] = \"BLAKE3\";\n  return HashScheme2;\n})(HashScheme || {});\nfunction hashSchemeFromJSON(object) {\n  switch (object) {\n    case 0:\n    case \"HASH_SCHEME_NONE\":\n      return 0 /* NONE */;\n    case 1:\n    case \"HASH_SCHEME_BLAKE3\":\n      return 1 /* BLAKE3 */;\n    default:\n      throw new tsProtoGlobalThis.Error(\n        \"Unrecognized enum value \" + object + \" for enum HashScheme\"\n      );\n  }\n}\nfunction hashSchemeToJSON(object) {\n  switch (object) {\n    case 0 /* NONE */:\n      return \"HASH_SCHEME_NONE\";\n    case 1 /* BLAKE3 */:\n      return \"HASH_SCHEME_BLAKE3\";\n    default:\n      throw new tsProtoGlobalThis.Error(\n        \"Unrecognized enum value \" + object + \" for enum HashScheme\"\n      );\n  }\n}\nvar SignatureScheme = /* @__PURE__ */ ((SignatureScheme2) => {\n  SignatureScheme2[SignatureScheme2[\"NONE\"] = 0] = \"NONE\";\n  SignatureScheme2[SignatureScheme2[\"ED25519\"] = 1] = \"ED25519\";\n  SignatureScheme2[SignatureScheme2[\"EIP712\"] = 2] = \"EIP712\";\n  return SignatureScheme2;\n})(SignatureScheme || {});\nfunction signatureSchemeFromJSON(object) {\n  switch (object) {\n    case 0:\n    case \"SIGNATURE_SCHEME_NONE\":\n      return 0 /* NONE */;\n    case 1:\n    case \"SIGNATURE_SCHEME_ED25519\":\n      return 1 /* ED25519 */;\n    case 2:\n    case \"SIGNATURE_SCHEME_EIP712\":\n      return 2 /* EIP712 */;\n    default:\n      throw new tsProtoGlobalThis.Error(\n        \"Unrecognized enum value \" + object + \" for enum SignatureScheme\"\n      );\n  }\n}\nfunction signatureSchemeToJSON(object) {\n  switch (object) {\n    case 0 /* NONE */:\n      return \"SIGNATURE_SCHEME_NONE\";\n    case 1 /* ED25519 */:\n      return \"SIGNATURE_SCHEME_ED25519\";\n    case 2 /* EIP712 */:\n      return \"SIGNATURE_SCHEME_EIP712\";\n    default:\n      throw new tsProtoGlobalThis.Error(\n        \"Unrecognized enum value \" + object + \" for enum SignatureScheme\"\n      );\n  }\n}\nvar MessageType = /* @__PURE__ */ ((MessageType2) => {\n  MessageType2[MessageType2[\"NONE\"] = 0] = \"NONE\";\n  MessageType2[MessageType2[\"CAST_ADD\"] = 1] = \"CAST_ADD\";\n  MessageType2[MessageType2[\"CAST_REMOVE\"] = 2] = \"CAST_REMOVE\";\n  MessageType2[MessageType2[\"REACTION_ADD\"] = 3] = \"REACTION_ADD\";\n  MessageType2[MessageType2[\"REACTION_REMOVE\"] = 4] = \"REACTION_REMOVE\";\n  MessageType2[MessageType2[\"LINK_ADD\"] = 5] = \"LINK_ADD\";\n  MessageType2[MessageType2[\"LINK_REMOVE\"] = 6] = \"LINK_REMOVE\";\n  MessageType2[MessageType2[\"VERIFICATION_ADD_ETH_ADDRESS\"] = 7] = \"VERIFICATION_ADD_ETH_ADDRESS\";\n  MessageType2[MessageType2[\"VERIFICATION_REMOVE\"] = 8] = \"VERIFICATION_REMOVE\";\n  MessageType2[MessageType2[\"USER_DATA_ADD\"] = 11] = \"USER_DATA_ADD\";\n  MessageType2[MessageType2[\"USERNAME_PROOF\"] = 12] = \"USERNAME_PROOF\";\n  MessageType2[MessageType2[\"FRAME_ACTION\"] = 13] = \"FRAME_ACTION\";\n  return MessageType2;\n})(MessageType || {});\nfunction messageTypeFromJSON(object) {\n  switch (object) {\n    case 0:\n    case \"MESSAGE_TYPE_NONE\":\n      return 0 /* NONE */;\n    case 1:\n    case \"MESSAGE_TYPE_CAST_ADD\":\n      return 1 /* CAST_ADD */;\n    case 2:\n    case \"MESSAGE_TYPE_CAST_REMOVE\":\n      return 2 /* CAST_REMOVE */;\n    case 3:\n    case \"MESSAGE_TYPE_REACTION_ADD\":\n      return 3 /* REACTION_ADD */;\n    case 4:\n    case \"MESSAGE_TYPE_REACTION_REMOVE\":\n      return 4 /* REACTION_REMOVE */;\n    case 5:\n    case \"MESSAGE_TYPE_LINK_ADD\":\n      return 5 /* LINK_ADD */;\n    case 6:\n    case \"MESSAGE_TYPE_LINK_REMOVE\":\n      return 6 /* LINK_REMOVE */;\n    case 7:\n    case \"MESSAGE_TYPE_VERIFICATION_ADD_ETH_ADDRESS\":\n      return 7 /* VERIFICATION_ADD_ETH_ADDRESS */;\n    case 8:\n    case \"MESSAGE_TYPE_VERIFICATION_REMOVE\":\n      return 8 /* VERIFICATION_REMOVE */;\n    case 11:\n    case \"MESSAGE_TYPE_USER_DATA_ADD\":\n      return 11 /* USER_DATA_ADD */;\n    case 12:\n    case \"MESSAGE_TYPE_USERNAME_PROOF\":\n      return 12 /* USERNAME_PROOF */;\n    case 13:\n    case \"MESSAGE_TYPE_FRAME_ACTION\":\n      return 13 /* FRAME_ACTION */;\n    default:\n      throw new tsProtoGlobalThis.Error(\n        \"Unrecognized enum value \" + object + \" for enum MessageType\"\n      );\n  }\n}\nfunction messageTypeToJSON(object) {\n  switch (object) {\n    case 0 /* NONE */:\n      return \"MESSAGE_TYPE_NONE\";\n    case 1 /* CAST_ADD */:\n      return \"MESSAGE_TYPE_CAST_ADD\";\n    case 2 /* CAST_REMOVE */:\n      return \"MESSAGE_TYPE_CAST_REMOVE\";\n    case 3 /* REACTION_ADD */:\n      return \"MESSAGE_TYPE_REACTION_ADD\";\n    case 4 /* REACTION_REMOVE */:\n      return \"MESSAGE_TYPE_REACTION_REMOVE\";\n    case 5 /* LINK_ADD */:\n      return \"MESSAGE_TYPE_LINK_ADD\";\n    case 6 /* LINK_REMOVE */:\n      return \"MESSAGE_TYPE_LINK_REMOVE\";\n    case 7 /* VERIFICATION_ADD_ETH_ADDRESS */:\n      return \"MESSAGE_TYPE_VERIFICATION_ADD_ETH_ADDRESS\";\n    case 8 /* VERIFICATION_REMOVE */:\n      return \"MESSAGE_TYPE_VERIFICATION_REMOVE\";\n    case 11 /* USER_DATA_ADD */:\n      return \"MESSAGE_TYPE_USER_DATA_ADD\";\n    case 12 /* USERNAME_PROOF */:\n      return \"MESSAGE_TYPE_USERNAME_PROOF\";\n    case 13 /* FRAME_ACTION */:\n      return \"MESSAGE_TYPE_FRAME_ACTION\";\n    default:\n      throw new tsProtoGlobalThis.Error(\n        \"Unrecognized enum value \" + object + \" for enum MessageType\"\n      );\n  }\n}\nvar FarcasterNetwork = /* @__PURE__ */ ((FarcasterNetwork2) => {\n  FarcasterNetwork2[FarcasterNetwork2[\"NONE\"] = 0] = \"NONE\";\n  FarcasterNetwork2[FarcasterNetwork2[\"MAINNET\"] = 1] = \"MAINNET\";\n  FarcasterNetwork2[FarcasterNetwork2[\"TESTNET\"] = 2] = \"TESTNET\";\n  FarcasterNetwork2[FarcasterNetwork2[\"DEVNET\"] = 3] = \"DEVNET\";\n  return FarcasterNetwork2;\n})(FarcasterNetwork || {});\nfunction farcasterNetworkFromJSON(object) {\n  switch (object) {\n    case 0:\n    case \"FARCASTER_NETWORK_NONE\":\n      return 0 /* NONE */;\n    case 1:\n    case \"FARCASTER_NETWORK_MAINNET\":\n      return 1 /* MAINNET */;\n    case 2:\n    case \"FARCASTER_NETWORK_TESTNET\":\n      return 2 /* TESTNET */;\n    case 3:\n    case \"FARCASTER_NETWORK_DEVNET\":\n      return 3 /* DEVNET */;\n    default:\n      throw new tsProtoGlobalThis.Error(\n        \"Unrecognized enum value \" + object + \" for enum FarcasterNetwork\"\n      );\n  }\n}\nfunction farcasterNetworkToJSON(object) {\n  switch (object) {\n    case 0 /* NONE */:\n      return \"FARCASTER_NETWORK_NONE\";\n    case 1 /* MAINNET */:\n      return \"FARCASTER_NETWORK_MAINNET\";\n    case 2 /* TESTNET */:\n      return \"FARCASTER_NETWORK_TESTNET\";\n    case 3 /* DEVNET */:\n      return \"FARCASTER_NETWORK_DEVNET\";\n    default:\n      throw new tsProtoGlobalThis.Error(\n        \"Unrecognized enum value \" + object + \" for enum FarcasterNetwork\"\n      );\n  }\n}\nvar UserDataType = /* @__PURE__ */ ((UserDataType2) => {\n  UserDataType2[UserDataType2[\"NONE\"] = 0] = \"NONE\";\n  UserDataType2[UserDataType2[\"PFP\"] = 1] = \"PFP\";\n  UserDataType2[UserDataType2[\"DISPLAY\"] = 2] = \"DISPLAY\";\n  UserDataType2[UserDataType2[\"BIO\"] = 3] = \"BIO\";\n  UserDataType2[UserDataType2[\"URL\"] = 5] = \"URL\";\n  UserDataType2[UserDataType2[\"USERNAME\"] = 6] = \"USERNAME\";\n  return UserDataType2;\n})(UserDataType || {});\nfunction userDataTypeFromJSON(object) {\n  switch (object) {\n    case 0:\n    case \"USER_DATA_TYPE_NONE\":\n      return 0 /* NONE */;\n    case 1:\n    case \"USER_DATA_TYPE_PFP\":\n      return 1 /* PFP */;\n    case 2:\n    case \"USER_DATA_TYPE_DISPLAY\":\n      return 2 /* DISPLAY */;\n    case 3:\n    case \"USER_DATA_TYPE_BIO\":\n      return 3 /* BIO */;\n    case 5:\n    case \"USER_DATA_TYPE_URL\":\n      return 5 /* URL */;\n    case 6:\n    case \"USER_DATA_TYPE_USERNAME\":\n      return 6 /* USERNAME */;\n    default:\n      throw new tsProtoGlobalThis.Error(\n        \"Unrecognized enum value \" + object + \" for enum UserDataType\"\n      );\n  }\n}\nfunction userDataTypeToJSON(object) {\n  switch (object) {\n    case 0 /* NONE */:\n      return \"USER_DATA_TYPE_NONE\";\n    case 1 /* PFP */:\n      return \"USER_DATA_TYPE_PFP\";\n    case 2 /* DISPLAY */:\n      return \"USER_DATA_TYPE_DISPLAY\";\n    case 3 /* BIO */:\n      return \"USER_DATA_TYPE_BIO\";\n    case 5 /* URL */:\n      return \"USER_DATA_TYPE_URL\";\n    case 6 /* USERNAME */:\n      return \"USER_DATA_TYPE_USERNAME\";\n    default:\n      throw new tsProtoGlobalThis.Error(\n        \"Unrecognized enum value \" + object + \" for enum UserDataType\"\n      );\n  }\n}\nvar ReactionType = /* @__PURE__ */ ((ReactionType2) => {\n  ReactionType2[ReactionType2[\"NONE\"] = 0] = \"NONE\";\n  ReactionType2[ReactionType2[\"LIKE\"] = 1] = \"LIKE\";\n  ReactionType2[ReactionType2[\"RECAST\"] = 2] = \"RECAST\";\n  return ReactionType2;\n})(ReactionType || {});\nfunction reactionTypeFromJSON(object) {\n  switch (object) {\n    case 0:\n    case \"REACTION_TYPE_NONE\":\n      return 0 /* NONE */;\n    case 1:\n    case \"REACTION_TYPE_LIKE\":\n      return 1 /* LIKE */;\n    case 2:\n    case \"REACTION_TYPE_RECAST\":\n      return 2 /* RECAST */;\n    default:\n      throw new tsProtoGlobalThis.Error(\n        \"Unrecognized enum value \" + object + \" for enum ReactionType\"\n      );\n  }\n}\nfunction reactionTypeToJSON(object) {\n  switch (object) {\n    case 0 /* NONE */:\n      return \"REACTION_TYPE_NONE\";\n    case 1 /* LIKE */:\n      return \"REACTION_TYPE_LIKE\";\n    case 2 /* RECAST */:\n      return \"REACTION_TYPE_RECAST\";\n    default:\n      throw new tsProtoGlobalThis.Error(\n        \"Unrecognized enum value \" + object + \" for enum ReactionType\"\n      );\n  }\n}\nvar Protocol = /* @__PURE__ */ ((Protocol2) => {\n  Protocol2[Protocol2[\"ETHEREUM\"] = 0] = \"ETHEREUM\";\n  Protocol2[Protocol2[\"SOLANA\"] = 1] = \"SOLANA\";\n  return Protocol2;\n})(Protocol || {});\nfunction protocolFromJSON(object) {\n  switch (object) {\n    case 0:\n    case \"PROTOCOL_ETHEREUM\":\n      return 0 /* ETHEREUM */;\n    case 1:\n    case \"PROTOCOL_SOLANA\":\n      return 1 /* SOLANA */;\n    default:\n      throw new tsProtoGlobalThis.Error(\n        \"Unrecognized enum value \" + object + \" for enum Protocol\"\n      );\n  }\n}\nfunction protocolToJSON(object) {\n  switch (object) {\n    case 0 /* ETHEREUM */:\n      return \"PROTOCOL_ETHEREUM\";\n    case 1 /* SOLANA */:\n      return \"PROTOCOL_SOLANA\";\n    default:\n      throw new tsProtoGlobalThis.Error(\n        \"Unrecognized enum value \" + object + \" for enum Protocol\"\n      );\n  }\n}\nfunction createBaseMessage() {\n  return {\n    data: void 0,\n    hash: new Uint8Array(),\n    hashScheme: 0,\n    signature: new Uint8Array(),\n    signatureScheme: 0,\n    signer: new Uint8Array(),\n    dataBytes: void 0\n  };\n}\nvar Message = {\n  encode(message, writer = protobufjs_minimal_js__WEBPACK_IMPORTED_MODULE_1__.Writer.create()) {\n    if (message.data !== void 0) {\n      MessageData.encode(message.data, writer.uint32(10).fork()).ldelim();\n    }\n    if (message.hash.length !== 0) {\n      writer.uint32(18).bytes(message.hash);\n    }\n    if (message.hashScheme !== 0) {\n      writer.uint32(24).int32(message.hashScheme);\n    }\n    if (message.signature.length !== 0) {\n      writer.uint32(34).bytes(message.signature);\n    }\n    if (message.signatureScheme !== 0) {\n      writer.uint32(40).int32(message.signatureScheme);\n    }\n    if (message.signer.length !== 0) {\n      writer.uint32(50).bytes(message.signer);\n    }\n    if (message.dataBytes !== void 0) {\n      writer.uint32(58).bytes(message.dataBytes);\n    }\n    return writer;\n  },\n  decode(input, length) {\n    const reader = input instanceof protobufjs_minimal_js__WEBPACK_IMPORTED_MODULE_1__.Reader ? input : protobufjs_minimal_js__WEBPACK_IMPORTED_MODULE_1__.Reader.create(input);\n    let end = length === void 0 ? reader.len : reader.pos + length;\n    const message = createBaseMessage();\n    while (reader.pos < end) {\n      const tag = reader.uint32();\n      switch (tag >>> 3) {\n        case 1:\n          if (tag != 10) {\n            break;\n          }\n          message.data = MessageData.decode(reader, reader.uint32());\n          continue;\n        case 2:\n          if (tag != 18) {\n            break;\n          }\n          message.hash = reader.bytes();\n          continue;\n        case 3:\n          if (tag != 24) {\n            break;\n          }\n          message.hashScheme = reader.int32();\n          continue;\n        case 4:\n          if (tag != 34) {\n            break;\n          }\n          message.signature = reader.bytes();\n          continue;\n        case 5:\n          if (tag != 40) {\n            break;\n          }\n          message.signatureScheme = reader.int32();\n          continue;\n        case 6:\n          if (tag != 50) {\n            break;\n          }\n          message.signer = reader.bytes();\n          continue;\n        case 7:\n          if (tag != 58) {\n            break;\n          }\n          message.dataBytes = reader.bytes();\n          continue;\n      }\n      if ((tag & 7) == 4 || tag == 0) {\n        break;\n      }\n      reader.skipType(tag & 7);\n    }\n    return message;\n  },\n  fromJSON(object) {\n    return {\n      data: isSet(object.data) ? MessageData.fromJSON(object.data) : void 0,\n      hash: isSet(object.hash) ? bytesFromBase64(object.hash) : new Uint8Array(),\n      hashScheme: isSet(object.hashScheme) ? hashSchemeFromJSON(object.hashScheme) : 0,\n      signature: isSet(object.signature) ? bytesFromBase64(object.signature) : new Uint8Array(),\n      signatureScheme: isSet(object.signatureScheme) ? signatureSchemeFromJSON(object.signatureScheme) : 0,\n      signer: isSet(object.signer) ? bytesFromBase64(object.signer) : new Uint8Array(),\n      dataBytes: isSet(object.dataBytes) ? bytesFromBase64(object.dataBytes) : void 0\n    };\n  },\n  toJSON(message) {\n    const obj = {};\n    message.data !== void 0 && (obj.data = message.data ? MessageData.toJSON(message.data) : void 0);\n    message.hash !== void 0 && (obj.hash = base64FromBytes(\n      message.hash !== void 0 ? message.hash : new Uint8Array()\n    ));\n    message.hashScheme !== void 0 && (obj.hashScheme = hashSchemeToJSON(message.hashScheme));\n    message.signature !== void 0 && (obj.signature = base64FromBytes(\n      message.signature !== void 0 ? message.signature : new Uint8Array()\n    ));\n    message.signatureScheme !== void 0 && (obj.signatureScheme = signatureSchemeToJSON(message.signatureScheme));\n    message.signer !== void 0 && (obj.signer = base64FromBytes(\n      message.signer !== void 0 ? message.signer : new Uint8Array()\n    ));\n    message.dataBytes !== void 0 && (obj.dataBytes = message.dataBytes !== void 0 ? base64FromBytes(message.dataBytes) : void 0);\n    return obj;\n  },\n  create(base) {\n    return Message.fromPartial(base ?? {});\n  },\n  fromPartial(object) {\n    const message = createBaseMessage();\n    message.data = object.data !== void 0 && object.data !== null ? MessageData.fromPartial(object.data) : void 0;\n    message.hash = object.hash ?? new Uint8Array();\n    message.hashScheme = object.hashScheme ?? 0;\n    message.signature = object.signature ?? new Uint8Array();\n    message.signatureScheme = object.signatureScheme ?? 0;\n    message.signer = object.signer ?? new Uint8Array();\n    message.dataBytes = object.dataBytes ?? void 0;\n    return message;\n  }\n};\nfunction createBaseMessageData() {\n  return {\n    type: 0,\n    fid: 0,\n    timestamp: 0,\n    network: 0,\n    castAddBody: void 0,\n    castRemoveBody: void 0,\n    reactionBody: void 0,\n    verificationAddAddressBody: void 0,\n    verificationRemoveBody: void 0,\n    userDataBody: void 0,\n    linkBody: void 0,\n    usernameProofBody: void 0,\n    frameActionBody: void 0\n  };\n}\nvar MessageData = {\n  encode(message, writer = protobufjs_minimal_js__WEBPACK_IMPORTED_MODULE_1__.Writer.create()) {\n    if (message.type !== 0) {\n      writer.uint32(8).int32(message.type);\n    }\n    if (message.fid !== 0) {\n      writer.uint32(16).uint64(message.fid);\n    }\n    if (message.timestamp !== 0) {\n      writer.uint32(24).uint32(message.timestamp);\n    }\n    if (message.network !== 0) {\n      writer.uint32(32).int32(message.network);\n    }\n    if (message.castAddBody !== void 0) {\n      CastAddBody.encode(\n        message.castAddBody,\n        writer.uint32(42).fork()\n      ).ldelim();\n    }\n    if (message.castRemoveBody !== void 0) {\n      CastRemoveBody.encode(\n        message.castRemoveBody,\n        writer.uint32(50).fork()\n      ).ldelim();\n    }\n    if (message.reactionBody !== void 0) {\n      ReactionBody.encode(\n        message.reactionBody,\n        writer.uint32(58).fork()\n      ).ldelim();\n    }\n    if (message.verificationAddAddressBody !== void 0) {\n      VerificationAddAddressBody.encode(\n        message.verificationAddAddressBody,\n        writer.uint32(74).fork()\n      ).ldelim();\n    }\n    if (message.verificationRemoveBody !== void 0) {\n      VerificationRemoveBody.encode(\n        message.verificationRemoveBody,\n        writer.uint32(82).fork()\n      ).ldelim();\n    }\n    if (message.userDataBody !== void 0) {\n      UserDataBody.encode(\n        message.userDataBody,\n        writer.uint32(98).fork()\n      ).ldelim();\n    }\n    if (message.linkBody !== void 0) {\n      LinkBody.encode(message.linkBody, writer.uint32(114).fork()).ldelim();\n    }\n    if (message.usernameProofBody !== void 0) {\n      _chunk_JGTH2ANC_js__WEBPACK_IMPORTED_MODULE_0__.UserNameProof.encode(\n        message.usernameProofBody,\n        writer.uint32(122).fork()\n      ).ldelim();\n    }\n    if (message.frameActionBody !== void 0) {\n      FrameActionBody.encode(\n        message.frameActionBody,\n        writer.uint32(130).fork()\n      ).ldelim();\n    }\n    return writer;\n  },\n  decode(input, length) {\n    const reader = input instanceof protobufjs_minimal_js__WEBPACK_IMPORTED_MODULE_1__.Reader ? input : protobufjs_minimal_js__WEBPACK_IMPORTED_MODULE_1__.Reader.create(input);\n    let end = length === void 0 ? reader.len : reader.pos + length;\n    const message = createBaseMessageData();\n    while (reader.pos < end) {\n      const tag = reader.uint32();\n      switch (tag >>> 3) {\n        case 1:\n          if (tag != 8) {\n            break;\n          }\n          message.type = reader.int32();\n          continue;\n        case 2:\n          if (tag != 16) {\n            break;\n          }\n          message.fid = longToNumber(reader.uint64());\n          continue;\n        case 3:\n          if (tag != 24) {\n            break;\n          }\n          message.timestamp = reader.uint32();\n          continue;\n        case 4:\n          if (tag != 32) {\n            break;\n          }\n          message.network = reader.int32();\n          continue;\n        case 5:\n          if (tag != 42) {\n            break;\n          }\n          message.castAddBody = CastAddBody.decode(reader, reader.uint32());\n          continue;\n        case 6:\n          if (tag != 50) {\n            break;\n          }\n          message.castRemoveBody = CastRemoveBody.decode(\n            reader,\n            reader.uint32()\n          );\n          continue;\n        case 7:\n          if (tag != 58) {\n            break;\n          }\n          message.reactionBody = ReactionBody.decode(reader, reader.uint32());\n          continue;\n        case 9:\n          if (tag != 74) {\n            break;\n          }\n          message.verificationAddAddressBody = VerificationAddAddressBody.decode(reader, reader.uint32());\n          continue;\n        case 10:\n          if (tag != 82) {\n            break;\n          }\n          message.verificationRemoveBody = VerificationRemoveBody.decode(\n            reader,\n            reader.uint32()\n          );\n          continue;\n        case 12:\n          if (tag != 98) {\n            break;\n          }\n          message.userDataBody = UserDataBody.decode(reader, reader.uint32());\n          continue;\n        case 14:\n          if (tag != 114) {\n            break;\n          }\n          message.linkBody = LinkBody.decode(reader, reader.uint32());\n          continue;\n        case 15:\n          if (tag != 122) {\n            break;\n          }\n          message.usernameProofBody = _chunk_JGTH2ANC_js__WEBPACK_IMPORTED_MODULE_0__.UserNameProof.decode(\n            reader,\n            reader.uint32()\n          );\n          continue;\n        case 16:\n          if (tag != 130) {\n            break;\n          }\n          message.frameActionBody = FrameActionBody.decode(\n            reader,\n            reader.uint32()\n          );\n          continue;\n      }\n      if ((tag & 7) == 4 || tag == 0) {\n        break;\n      }\n      reader.skipType(tag & 7);\n    }\n    return message;\n  },\n  fromJSON(object) {\n    return {\n      type: isSet(object.type) ? messageTypeFromJSON(object.type) : 0,\n      fid: isSet(object.fid) ? Number(object.fid) : 0,\n      timestamp: isSet(object.timestamp) ? Number(object.timestamp) : 0,\n      network: isSet(object.network) ? farcasterNetworkFromJSON(object.network) : 0,\n      castAddBody: isSet(object.castAddBody) ? CastAddBody.fromJSON(object.castAddBody) : void 0,\n      castRemoveBody: isSet(object.castRemoveBody) ? CastRemoveBody.fromJSON(object.castRemoveBody) : void 0,\n      reactionBody: isSet(object.reactionBody) ? ReactionBody.fromJSON(object.reactionBody) : void 0,\n      verificationAddAddressBody: isSet(object.verificationAddAddressBody) ? VerificationAddAddressBody.fromJSON(object.verificationAddAddressBody) : void 0,\n      verificationRemoveBody: isSet(object.verificationRemoveBody) ? VerificationRemoveBody.fromJSON(object.verificationRemoveBody) : void 0,\n      userDataBody: isSet(object.userDataBody) ? UserDataBody.fromJSON(object.userDataBody) : void 0,\n      linkBody: isSet(object.linkBody) ? LinkBody.fromJSON(object.linkBody) : void 0,\n      usernameProofBody: isSet(object.usernameProofBody) ? _chunk_JGTH2ANC_js__WEBPACK_IMPORTED_MODULE_0__.UserNameProof.fromJSON(object.usernameProofBody) : void 0,\n      frameActionBody: isSet(object.frameActionBody) ? FrameActionBody.fromJSON(object.frameActionBody) : void 0\n    };\n  },\n  toJSON(message) {\n    const obj = {};\n    message.type !== void 0 && (obj.type = messageTypeToJSON(message.type));\n    message.fid !== void 0 && (obj.fid = Math.round(message.fid));\n    message.timestamp !== void 0 && (obj.timestamp = Math.round(message.timestamp));\n    message.network !== void 0 && (obj.network = farcasterNetworkToJSON(message.network));\n    message.castAddBody !== void 0 && (obj.castAddBody = message.castAddBody ? CastAddBody.toJSON(message.castAddBody) : void 0);\n    message.castRemoveBody !== void 0 && (obj.castRemoveBody = message.castRemoveBody ? CastRemoveBody.toJSON(message.castRemoveBody) : void 0);\n    message.reactionBody !== void 0 && (obj.reactionBody = message.reactionBody ? ReactionBody.toJSON(message.reactionBody) : void 0);\n    message.verificationAddAddressBody !== void 0 && (obj.verificationAddAddressBody = message.verificationAddAddressBody ? VerificationAddAddressBody.toJSON(message.verificationAddAddressBody) : void 0);\n    message.verificationRemoveBody !== void 0 && (obj.verificationRemoveBody = message.verificationRemoveBody ? VerificationRemoveBody.toJSON(message.verificationRemoveBody) : void 0);\n    message.userDataBody !== void 0 && (obj.userDataBody = message.userDataBody ? UserDataBody.toJSON(message.userDataBody) : void 0);\n    message.linkBody !== void 0 && (obj.linkBody = message.linkBody ? LinkBody.toJSON(message.linkBody) : void 0);\n    message.usernameProofBody !== void 0 && (obj.usernameProofBody = message.usernameProofBody ? _chunk_JGTH2ANC_js__WEBPACK_IMPORTED_MODULE_0__.UserNameProof.toJSON(message.usernameProofBody) : void 0);\n    message.frameActionBody !== void 0 && (obj.frameActionBody = message.frameActionBody ? FrameActionBody.toJSON(message.frameActionBody) : void 0);\n    return obj;\n  },\n  create(base) {\n    return MessageData.fromPartial(base ?? {});\n  },\n  fromPartial(object) {\n    const message = createBaseMessageData();\n    message.type = object.type ?? 0;\n    message.fid = object.fid ?? 0;\n    message.timestamp = object.timestamp ?? 0;\n    message.network = object.network ?? 0;\n    message.castAddBody = object.castAddBody !== void 0 && object.castAddBody !== null ? CastAddBody.fromPartial(object.castAddBody) : void 0;\n    message.castRemoveBody = object.castRemoveBody !== void 0 && object.castRemoveBody !== null ? CastRemoveBody.fromPartial(object.castRemoveBody) : void 0;\n    message.reactionBody = object.reactionBody !== void 0 && object.reactionBody !== null ? ReactionBody.fromPartial(object.reactionBody) : void 0;\n    message.verificationAddAddressBody = object.verificationAddAddressBody !== void 0 && object.verificationAddAddressBody !== null ? VerificationAddAddressBody.fromPartial(\n      object.verificationAddAddressBody\n    ) : void 0;\n    message.verificationRemoveBody = object.verificationRemoveBody !== void 0 && object.verificationRemoveBody !== null ? VerificationRemoveBody.fromPartial(object.verificationRemoveBody) : void 0;\n    message.userDataBody = object.userDataBody !== void 0 && object.userDataBody !== null ? UserDataBody.fromPartial(object.userDataBody) : void 0;\n    message.linkBody = object.linkBody !== void 0 && object.linkBody !== null ? LinkBody.fromPartial(object.linkBody) : void 0;\n    message.usernameProofBody = object.usernameProofBody !== void 0 && object.usernameProofBody !== null ? _chunk_JGTH2ANC_js__WEBPACK_IMPORTED_MODULE_0__.UserNameProof.fromPartial(object.usernameProofBody) : void 0;\n    message.frameActionBody = object.frameActionBody !== void 0 && object.frameActionBody !== null ? FrameActionBody.fromPartial(object.frameActionBody) : void 0;\n    return message;\n  }\n};\nfunction createBaseUserDataBody() {\n  return { type: 0, value: \"\" };\n}\nvar UserDataBody = {\n  encode(message, writer = protobufjs_minimal_js__WEBPACK_IMPORTED_MODULE_1__.Writer.create()) {\n    if (message.type !== 0) {\n      writer.uint32(8).int32(message.type);\n    }\n    if (message.value !== \"\") {\n      writer.uint32(18).string(message.value);\n    }\n    return writer;\n  },\n  decode(input, length) {\n    const reader = input instanceof protobufjs_minimal_js__WEBPACK_IMPORTED_MODULE_1__.Reader ? input : protobufjs_minimal_js__WEBPACK_IMPORTED_MODULE_1__.Reader.create(input);\n    let end = length === void 0 ? reader.len : reader.pos + length;\n    const message = createBaseUserDataBody();\n    while (reader.pos < end) {\n      const tag = reader.uint32();\n      switch (tag >>> 3) {\n        case 1:\n          if (tag != 8) {\n            break;\n          }\n          message.type = reader.int32();\n          continue;\n        case 2:\n          if (tag != 18) {\n            break;\n          }\n          message.value = reader.string();\n          continue;\n      }\n      if ((tag & 7) == 4 || tag == 0) {\n        break;\n      }\n      reader.skipType(tag & 7);\n    }\n    return message;\n  },\n  fromJSON(object) {\n    return {\n      type: isSet(object.type) ? userDataTypeFromJSON(object.type) : 0,\n      value: isSet(object.value) ? String(object.value) : \"\"\n    };\n  },\n  toJSON(message) {\n    const obj = {};\n    message.type !== void 0 && (obj.type = userDataTypeToJSON(message.type));\n    message.value !== void 0 && (obj.value = message.value);\n    return obj;\n  },\n  create(base) {\n    return UserDataBody.fromPartial(base ?? {});\n  },\n  fromPartial(object) {\n    const message = createBaseUserDataBody();\n    message.type = object.type ?? 0;\n    message.value = object.value ?? \"\";\n    return message;\n  }\n};\nfunction createBaseEmbed() {\n  return { url: void 0, castId: void 0 };\n}\nvar Embed = {\n  encode(message, writer = protobufjs_minimal_js__WEBPACK_IMPORTED_MODULE_1__.Writer.create()) {\n    if (message.url !== void 0) {\n      writer.uint32(10).string(message.url);\n    }\n    if (message.castId !== void 0) {\n      CastId.encode(message.castId, writer.uint32(18).fork()).ldelim();\n    }\n    return writer;\n  },\n  decode(input, length) {\n    const reader = input instanceof protobufjs_minimal_js__WEBPACK_IMPORTED_MODULE_1__.Reader ? input : protobufjs_minimal_js__WEBPACK_IMPORTED_MODULE_1__.Reader.create(input);\n    let end = length === void 0 ? reader.len : reader.pos + length;\n    const message = createBaseEmbed();\n    while (reader.pos < end) {\n      const tag = reader.uint32();\n      switch (tag >>> 3) {\n        case 1:\n          if (tag != 10) {\n            break;\n          }\n          message.url = reader.string();\n          continue;\n        case 2:\n          if (tag != 18) {\n            break;\n          }\n          message.castId = CastId.decode(reader, reader.uint32());\n          continue;\n      }\n      if ((tag & 7) == 4 || tag == 0) {\n        break;\n      }\n      reader.skipType(tag & 7);\n    }\n    return message;\n  },\n  fromJSON(object) {\n    return {\n      url: isSet(object.url) ? String(object.url) : void 0,\n      castId: isSet(object.castId) ? CastId.fromJSON(object.castId) : void 0\n    };\n  },\n  toJSON(message) {\n    const obj = {};\n    message.url !== void 0 && (obj.url = message.url);\n    message.castId !== void 0 && (obj.castId = message.castId ? CastId.toJSON(message.castId) : void 0);\n    return obj;\n  },\n  create(base) {\n    return Embed.fromPartial(base ?? {});\n  },\n  fromPartial(object) {\n    const message = createBaseEmbed();\n    message.url = object.url ?? void 0;\n    message.castId = object.castId !== void 0 && object.castId !== null ? CastId.fromPartial(object.castId) : void 0;\n    return message;\n  }\n};\nfunction createBaseCastAddBody() {\n  return {\n    embedsDeprecated: [],\n    mentions: [],\n    parentCastId: void 0,\n    parentUrl: void 0,\n    text: \"\",\n    mentionsPositions: [],\n    embeds: []\n  };\n}\nvar CastAddBody = {\n  encode(message, writer = protobufjs_minimal_js__WEBPACK_IMPORTED_MODULE_1__.Writer.create()) {\n    for (const v of message.embedsDeprecated) {\n      writer.uint32(10).string(v);\n    }\n    writer.uint32(18).fork();\n    for (const v of message.mentions) {\n      writer.uint64(v);\n    }\n    writer.ldelim();\n    if (message.parentCastId !== void 0) {\n      CastId.encode(message.parentCastId, writer.uint32(26).fork()).ldelim();\n    }\n    if (message.parentUrl !== void 0) {\n      writer.uint32(58).string(message.parentUrl);\n    }\n    if (message.text !== \"\") {\n      writer.uint32(34).string(message.text);\n    }\n    writer.uint32(42).fork();\n    for (const v of message.mentionsPositions) {\n      writer.uint32(v);\n    }\n    writer.ldelim();\n    for (const v of message.embeds) {\n      Embed.encode(v, writer.uint32(50).fork()).ldelim();\n    }\n    return writer;\n  },\n  decode(input, length) {\n    const reader = input instanceof protobufjs_minimal_js__WEBPACK_IMPORTED_MODULE_1__.Reader ? input : protobufjs_minimal_js__WEBPACK_IMPORTED_MODULE_1__.Reader.create(input);\n    let end = length === void 0 ? reader.len : reader.pos + length;\n    const message = createBaseCastAddBody();\n    while (reader.pos < end) {\n      const tag = reader.uint32();\n      switch (tag >>> 3) {\n        case 1:\n          if (tag != 10) {\n            break;\n          }\n          message.embedsDeprecated.push(reader.string());\n          continue;\n        case 2:\n          if (tag == 16) {\n            message.mentions.push(longToNumber(reader.uint64()));\n            continue;\n          }\n          if (tag == 18) {\n            const end2 = reader.uint32() + reader.pos;\n            while (reader.pos < end2) {\n              message.mentions.push(longToNumber(reader.uint64()));\n            }\n            continue;\n          }\n          break;\n        case 3:\n          if (tag != 26) {\n            break;\n          }\n          message.parentCastId = CastId.decode(reader, reader.uint32());\n          continue;\n        case 7:\n          if (tag != 58) {\n            break;\n          }\n          message.parentUrl = reader.string();\n          continue;\n        case 4:\n          if (tag != 34) {\n            break;\n          }\n          message.text = reader.string();\n          continue;\n        case 5:\n          if (tag == 40) {\n            message.mentionsPositions.push(reader.uint32());\n            continue;\n          }\n          if (tag == 42) {\n            const end2 = reader.uint32() + reader.pos;\n            while (reader.pos < end2) {\n              message.mentionsPositions.push(reader.uint32());\n            }\n            continue;\n          }\n          break;\n        case 6:\n          if (tag != 50) {\n            break;\n          }\n          message.embeds.push(Embed.decode(reader, reader.uint32()));\n          continue;\n      }\n      if ((tag & 7) == 4 || tag == 0) {\n        break;\n      }\n      reader.skipType(tag & 7);\n    }\n    return message;\n  },\n  fromJSON(object) {\n    return {\n      embedsDeprecated: Array.isArray(object?.embedsDeprecated) ? object.embedsDeprecated.map((e) => String(e)) : [],\n      mentions: Array.isArray(object?.mentions) ? object.mentions.map((e) => Number(e)) : [],\n      parentCastId: isSet(object.parentCastId) ? CastId.fromJSON(object.parentCastId) : void 0,\n      parentUrl: isSet(object.parentUrl) ? String(object.parentUrl) : void 0,\n      text: isSet(object.text) ? String(object.text) : \"\",\n      mentionsPositions: Array.isArray(object?.mentionsPositions) ? object.mentionsPositions.map((e) => Number(e)) : [],\n      embeds: Array.isArray(object?.embeds) ? object.embeds.map((e) => Embed.fromJSON(e)) : []\n    };\n  },\n  toJSON(message) {\n    const obj = {};\n    if (message.embedsDeprecated) {\n      obj.embedsDeprecated = message.embedsDeprecated.map((e) => e);\n    } else {\n      obj.embedsDeprecated = [];\n    }\n    if (message.mentions) {\n      obj.mentions = message.mentions.map((e) => Math.round(e));\n    } else {\n      obj.mentions = [];\n    }\n    message.parentCastId !== void 0 && (obj.parentCastId = message.parentCastId ? CastId.toJSON(message.parentCastId) : void 0);\n    message.parentUrl !== void 0 && (obj.parentUrl = message.parentUrl);\n    message.text !== void 0 && (obj.text = message.text);\n    if (message.mentionsPositions) {\n      obj.mentionsPositions = message.mentionsPositions.map(\n        (e) => Math.round(e)\n      );\n    } else {\n      obj.mentionsPositions = [];\n    }\n    if (message.embeds) {\n      obj.embeds = message.embeds.map((e) => e ? Embed.toJSON(e) : void 0);\n    } else {\n      obj.embeds = [];\n    }\n    return obj;\n  },\n  create(base) {\n    return CastAddBody.fromPartial(base ?? {});\n  },\n  fromPartial(object) {\n    const message = createBaseCastAddBody();\n    message.embedsDeprecated = object.embedsDeprecated?.map((e) => e) || [];\n    message.mentions = object.mentions?.map((e) => e) || [];\n    message.parentCastId = object.parentCastId !== void 0 && object.parentCastId !== null ? CastId.fromPartial(object.parentCastId) : void 0;\n    message.parentUrl = object.parentUrl ?? void 0;\n    message.text = object.text ?? \"\";\n    message.mentionsPositions = object.mentionsPositions?.map((e) => e) || [];\n    message.embeds = object.embeds?.map((e) => Embed.fromPartial(e)) || [];\n    return message;\n  }\n};\nfunction createBaseCastRemoveBody() {\n  return { targetHash: new Uint8Array() };\n}\nvar CastRemoveBody = {\n  encode(message, writer = protobufjs_minimal_js__WEBPACK_IMPORTED_MODULE_1__.Writer.create()) {\n    if (message.targetHash.length !== 0) {\n      writer.uint32(10).bytes(message.targetHash);\n    }\n    return writer;\n  },\n  decode(input, length) {\n    const reader = input instanceof protobufjs_minimal_js__WEBPACK_IMPORTED_MODULE_1__.Reader ? input : protobufjs_minimal_js__WEBPACK_IMPORTED_MODULE_1__.Reader.create(input);\n    let end = length === void 0 ? reader.len : reader.pos + length;\n    const message = createBaseCastRemoveBody();\n    while (reader.pos < end) {\n      const tag = reader.uint32();\n      switch (tag >>> 3) {\n        case 1:\n          if (tag != 10) {\n            break;\n          }\n          message.targetHash = reader.bytes();\n          continue;\n      }\n      if ((tag & 7) == 4 || tag == 0) {\n        break;\n      }\n      reader.skipType(tag & 7);\n    }\n    return message;\n  },\n  fromJSON(object) {\n    return {\n      targetHash: isSet(object.targetHash) ? bytesFromBase64(object.targetHash) : new Uint8Array()\n    };\n  },\n  toJSON(message) {\n    const obj = {};\n    message.targetHash !== void 0 && (obj.targetHash = base64FromBytes(\n      message.targetHash !== void 0 ? message.targetHash : new Uint8Array()\n    ));\n    return obj;\n  },\n  create(base) {\n    return CastRemoveBody.fromPartial(base ?? {});\n  },\n  fromPartial(object) {\n    const message = createBaseCastRemoveBody();\n    message.targetHash = object.targetHash ?? new Uint8Array();\n    return message;\n  }\n};\nfunction createBaseCastId() {\n  return { fid: 0, hash: new Uint8Array() };\n}\nvar CastId = {\n  encode(message, writer = protobufjs_minimal_js__WEBPACK_IMPORTED_MODULE_1__.Writer.create()) {\n    if (message.fid !== 0) {\n      writer.uint32(8).uint64(message.fid);\n    }\n    if (message.hash.length !== 0) {\n      writer.uint32(18).bytes(message.hash);\n    }\n    return writer;\n  },\n  decode(input, length) {\n    const reader = input instanceof protobufjs_minimal_js__WEBPACK_IMPORTED_MODULE_1__.Reader ? input : protobufjs_minimal_js__WEBPACK_IMPORTED_MODULE_1__.Reader.create(input);\n    let end = length === void 0 ? reader.len : reader.pos + length;\n    const message = createBaseCastId();\n    while (reader.pos < end) {\n      const tag = reader.uint32();\n      switch (tag >>> 3) {\n        case 1:\n          if (tag != 8) {\n            break;\n          }\n          message.fid = longToNumber(reader.uint64());\n          continue;\n        case 2:\n          if (tag != 18) {\n            break;\n          }\n          message.hash = reader.bytes();\n          continue;\n      }\n      if ((tag & 7) == 4 || tag == 0) {\n        break;\n      }\n      reader.skipType(tag & 7);\n    }\n    return message;\n  },\n  fromJSON(object) {\n    return {\n      fid: isSet(object.fid) ? Number(object.fid) : 0,\n      hash: isSet(object.hash) ? bytesFromBase64(object.hash) : new Uint8Array()\n    };\n  },\n  toJSON(message) {\n    const obj = {};\n    message.fid !== void 0 && (obj.fid = Math.round(message.fid));\n    message.hash !== void 0 && (obj.hash = base64FromBytes(\n      message.hash !== void 0 ? message.hash : new Uint8Array()\n    ));\n    return obj;\n  },\n  create(base) {\n    return CastId.fromPartial(base ?? {});\n  },\n  fromPartial(object) {\n    const message = createBaseCastId();\n    message.fid = object.fid ?? 0;\n    message.hash = object.hash ?? new Uint8Array();\n    return message;\n  }\n};\nfunction createBaseReactionBody() {\n  return { type: 0, targetCastId: void 0, targetUrl: void 0 };\n}\nvar ReactionBody = {\n  encode(message, writer = protobufjs_minimal_js__WEBPACK_IMPORTED_MODULE_1__.Writer.create()) {\n    if (message.type !== 0) {\n      writer.uint32(8).int32(message.type);\n    }\n    if (message.targetCastId !== void 0) {\n      CastId.encode(message.targetCastId, writer.uint32(18).fork()).ldelim();\n    }\n    if (message.targetUrl !== void 0) {\n      writer.uint32(26).string(message.targetUrl);\n    }\n    return writer;\n  },\n  decode(input, length) {\n    const reader = input instanceof protobufjs_minimal_js__WEBPACK_IMPORTED_MODULE_1__.Reader ? input : protobufjs_minimal_js__WEBPACK_IMPORTED_MODULE_1__.Reader.create(input);\n    let end = length === void 0 ? reader.len : reader.pos + length;\n    const message = createBaseReactionBody();\n    while (reader.pos < end) {\n      const tag = reader.uint32();\n      switch (tag >>> 3) {\n        case 1:\n          if (tag != 8) {\n            break;\n          }\n          message.type = reader.int32();\n          continue;\n        case 2:\n          if (tag != 18) {\n            break;\n          }\n          message.targetCastId = CastId.decode(reader, reader.uint32());\n          continue;\n        case 3:\n          if (tag != 26) {\n            break;\n          }\n          message.targetUrl = reader.string();\n          continue;\n      }\n      if ((tag & 7) == 4 || tag == 0) {\n        break;\n      }\n      reader.skipType(tag & 7);\n    }\n    return message;\n  },\n  fromJSON(object) {\n    return {\n      type: isSet(object.type) ? reactionTypeFromJSON(object.type) : 0,\n      targetCastId: isSet(object.targetCastId) ? CastId.fromJSON(object.targetCastId) : void 0,\n      targetUrl: isSet(object.targetUrl) ? String(object.targetUrl) : void 0\n    };\n  },\n  toJSON(message) {\n    const obj = {};\n    message.type !== void 0 && (obj.type = reactionTypeToJSON(message.type));\n    message.targetCastId !== void 0 && (obj.targetCastId = message.targetCastId ? CastId.toJSON(message.targetCastId) : void 0);\n    message.targetUrl !== void 0 && (obj.targetUrl = message.targetUrl);\n    return obj;\n  },\n  create(base) {\n    return ReactionBody.fromPartial(base ?? {});\n  },\n  fromPartial(object) {\n    const message = createBaseReactionBody();\n    message.type = object.type ?? 0;\n    message.targetCastId = object.targetCastId !== void 0 && object.targetCastId !== null ? CastId.fromPartial(object.targetCastId) : void 0;\n    message.targetUrl = object.targetUrl ?? void 0;\n    return message;\n  }\n};\nfunction createBaseVerificationAddAddressBody() {\n  return {\n    address: new Uint8Array(),\n    claimSignature: new Uint8Array(),\n    blockHash: new Uint8Array(),\n    verificationType: 0,\n    chainId: 0,\n    protocol: 0\n  };\n}\nvar VerificationAddAddressBody = {\n  encode(message, writer = protobufjs_minimal_js__WEBPACK_IMPORTED_MODULE_1__.Writer.create()) {\n    if (message.address.length !== 0) {\n      writer.uint32(10).bytes(message.address);\n    }\n    if (message.claimSignature.length !== 0) {\n      writer.uint32(18).bytes(message.claimSignature);\n    }\n    if (message.blockHash.length !== 0) {\n      writer.uint32(26).bytes(message.blockHash);\n    }\n    if (message.verificationType !== 0) {\n      writer.uint32(32).uint32(message.verificationType);\n    }\n    if (message.chainId !== 0) {\n      writer.uint32(40).uint32(message.chainId);\n    }\n    if (message.protocol !== 0) {\n      writer.uint32(56).int32(message.protocol);\n    }\n    return writer;\n  },\n  decode(input, length) {\n    const reader = input instanceof protobufjs_minimal_js__WEBPACK_IMPORTED_MODULE_1__.Reader ? input : protobufjs_minimal_js__WEBPACK_IMPORTED_MODULE_1__.Reader.create(input);\n    let end = length === void 0 ? reader.len : reader.pos + length;\n    const message = createBaseVerificationAddAddressBody();\n    while (reader.pos < end) {\n      const tag = reader.uint32();\n      switch (tag >>> 3) {\n        case 1:\n          if (tag != 10) {\n            break;\n          }\n          message.address = reader.bytes();\n          continue;\n        case 2:\n          if (tag != 18) {\n            break;\n          }\n          message.claimSignature = reader.bytes();\n          continue;\n        case 3:\n          if (tag != 26) {\n            break;\n          }\n          message.blockHash = reader.bytes();\n          continue;\n        case 4:\n          if (tag != 32) {\n            break;\n          }\n          message.verificationType = reader.uint32();\n          continue;\n        case 5:\n          if (tag != 40) {\n            break;\n          }\n          message.chainId = reader.uint32();\n          continue;\n        case 7:\n          if (tag != 56) {\n            break;\n          }\n          message.protocol = reader.int32();\n          continue;\n      }\n      if ((tag & 7) == 4 || tag == 0) {\n        break;\n      }\n      reader.skipType(tag & 7);\n    }\n    return message;\n  },\n  fromJSON(object) {\n    return {\n      address: isSet(object.address) ? bytesFromBase64(object.address) : new Uint8Array(),\n      claimSignature: isSet(object.claimSignature) ? bytesFromBase64(object.claimSignature) : new Uint8Array(),\n      blockHash: isSet(object.blockHash) ? bytesFromBase64(object.blockHash) : new Uint8Array(),\n      verificationType: isSet(object.verificationType) ? Number(object.verificationType) : 0,\n      chainId: isSet(object.chainId) ? Number(object.chainId) : 0,\n      protocol: isSet(object.protocol) ? protocolFromJSON(object.protocol) : 0\n    };\n  },\n  toJSON(message) {\n    const obj = {};\n    message.address !== void 0 && (obj.address = base64FromBytes(\n      message.address !== void 0 ? message.address : new Uint8Array()\n    ));\n    message.claimSignature !== void 0 && (obj.claimSignature = base64FromBytes(\n      message.claimSignature !== void 0 ? message.claimSignature : new Uint8Array()\n    ));\n    message.blockHash !== void 0 && (obj.blockHash = base64FromBytes(\n      message.blockHash !== void 0 ? message.blockHash : new Uint8Array()\n    ));\n    message.verificationType !== void 0 && (obj.verificationType = Math.round(message.verificationType));\n    message.chainId !== void 0 && (obj.chainId = Math.round(message.chainId));\n    message.protocol !== void 0 && (obj.protocol = protocolToJSON(message.protocol));\n    return obj;\n  },\n  create(base) {\n    return VerificationAddAddressBody.fromPartial(base ?? {});\n  },\n  fromPartial(object) {\n    const message = createBaseVerificationAddAddressBody();\n    message.address = object.address ?? new Uint8Array();\n    message.claimSignature = object.claimSignature ?? new Uint8Array();\n    message.blockHash = object.blockHash ?? new Uint8Array();\n    message.verificationType = object.verificationType ?? 0;\n    message.chainId = object.chainId ?? 0;\n    message.protocol = object.protocol ?? 0;\n    return message;\n  }\n};\nfunction createBaseVerificationRemoveBody() {\n  return { address: new Uint8Array(), protocol: 0 };\n}\nvar VerificationRemoveBody = {\n  encode(message, writer = protobufjs_minimal_js__WEBPACK_IMPORTED_MODULE_1__.Writer.create()) {\n    if (message.address.length !== 0) {\n      writer.uint32(10).bytes(message.address);\n    }\n    if (message.protocol !== 0) {\n      writer.uint32(16).int32(message.protocol);\n    }\n    return writer;\n  },\n  decode(input, length) {\n    const reader = input instanceof protobufjs_minimal_js__WEBPACK_IMPORTED_MODULE_1__.Reader ? input : protobufjs_minimal_js__WEBPACK_IMPORTED_MODULE_1__.Reader.create(input);\n    let end = length === void 0 ? reader.len : reader.pos + length;\n    const message = createBaseVerificationRemoveBody();\n    while (reader.pos < end) {\n      const tag = reader.uint32();\n      switch (tag >>> 3) {\n        case 1:\n          if (tag != 10) {\n            break;\n          }\n          message.address = reader.bytes();\n          continue;\n        case 2:\n          if (tag != 16) {\n            break;\n          }\n          message.protocol = reader.int32();\n          continue;\n      }\n      if ((tag & 7) == 4 || tag == 0) {\n        break;\n      }\n      reader.skipType(tag & 7);\n    }\n    return message;\n  },\n  fromJSON(object) {\n    return {\n      address: isSet(object.address) ? bytesFromBase64(object.address) : new Uint8Array(),\n      protocol: isSet(object.protocol) ? protocolFromJSON(object.protocol) : 0\n    };\n  },\n  toJSON(message) {\n    const obj = {};\n    message.address !== void 0 && (obj.address = base64FromBytes(\n      message.address !== void 0 ? message.address : new Uint8Array()\n    ));\n    message.protocol !== void 0 && (obj.protocol = protocolToJSON(message.protocol));\n    return obj;\n  },\n  create(base) {\n    return VerificationRemoveBody.fromPartial(base ?? {});\n  },\n  fromPartial(object) {\n    const message = createBaseVerificationRemoveBody();\n    message.address = object.address ?? new Uint8Array();\n    message.protocol = object.protocol ?? 0;\n    return message;\n  }\n};\nfunction createBaseLinkBody() {\n  return { type: \"\", displayTimestamp: void 0, targetFid: void 0 };\n}\nvar LinkBody = {\n  encode(message, writer = protobufjs_minimal_js__WEBPACK_IMPORTED_MODULE_1__.Writer.create()) {\n    if (message.type !== \"\") {\n      writer.uint32(10).string(message.type);\n    }\n    if (message.displayTimestamp !== void 0) {\n      writer.uint32(16).uint32(message.displayTimestamp);\n    }\n    if (message.targetFid !== void 0) {\n      writer.uint32(24).uint64(message.targetFid);\n    }\n    return writer;\n  },\n  decode(input, length) {\n    const reader = input instanceof protobufjs_minimal_js__WEBPACK_IMPORTED_MODULE_1__.Reader ? input : protobufjs_minimal_js__WEBPACK_IMPORTED_MODULE_1__.Reader.create(input);\n    let end = length === void 0 ? reader.len : reader.pos + length;\n    const message = createBaseLinkBody();\n    while (reader.pos < end) {\n      const tag = reader.uint32();\n      switch (tag >>> 3) {\n        case 1:\n          if (tag != 10) {\n            break;\n          }\n          message.type = reader.string();\n          continue;\n        case 2:\n          if (tag != 16) {\n            break;\n          }\n          message.displayTimestamp = reader.uint32();\n          continue;\n        case 3:\n          if (tag != 24) {\n            break;\n          }\n          message.targetFid = longToNumber(reader.uint64());\n          continue;\n      }\n      if ((tag & 7) == 4 || tag == 0) {\n        break;\n      }\n      reader.skipType(tag & 7);\n    }\n    return message;\n  },\n  fromJSON(object) {\n    return {\n      type: isSet(object.type) ? String(object.type) : \"\",\n      displayTimestamp: isSet(object.displayTimestamp) ? Number(object.displayTimestamp) : void 0,\n      targetFid: isSet(object.targetFid) ? Number(object.targetFid) : void 0\n    };\n  },\n  toJSON(message) {\n    const obj = {};\n    message.type !== void 0 && (obj.type = message.type);\n    message.displayTimestamp !== void 0 && (obj.displayTimestamp = Math.round(message.displayTimestamp));\n    message.targetFid !== void 0 && (obj.targetFid = Math.round(message.targetFid));\n    return obj;\n  },\n  create(base) {\n    return LinkBody.fromPartial(base ?? {});\n  },\n  fromPartial(object) {\n    const message = createBaseLinkBody();\n    message.type = object.type ?? \"\";\n    message.displayTimestamp = object.displayTimestamp ?? void 0;\n    message.targetFid = object.targetFid ?? void 0;\n    return message;\n  }\n};\nfunction createBaseFrameActionBody() {\n  return {\n    url: new Uint8Array(),\n    buttonIndex: 0,\n    castId: void 0,\n    inputText: new Uint8Array(),\n    state: new Uint8Array(),\n    transactionId: new Uint8Array(),\n    address: new Uint8Array()\n  };\n}\nvar FrameActionBody = {\n  encode(message, writer = protobufjs_minimal_js__WEBPACK_IMPORTED_MODULE_1__.Writer.create()) {\n    if (message.url.length !== 0) {\n      writer.uint32(10).bytes(message.url);\n    }\n    if (message.buttonIndex !== 0) {\n      writer.uint32(16).uint32(message.buttonIndex);\n    }\n    if (message.castId !== void 0) {\n      CastId.encode(message.castId, writer.uint32(26).fork()).ldelim();\n    }\n    if (message.inputText.length !== 0) {\n      writer.uint32(34).bytes(message.inputText);\n    }\n    if (message.state.length !== 0) {\n      writer.uint32(42).bytes(message.state);\n    }\n    if (message.transactionId.length !== 0) {\n      writer.uint32(50).bytes(message.transactionId);\n    }\n    if (message.address.length !== 0) {\n      writer.uint32(58).bytes(message.address);\n    }\n    return writer;\n  },\n  decode(input, length) {\n    const reader = input instanceof protobufjs_minimal_js__WEBPACK_IMPORTED_MODULE_1__.Reader ? input : protobufjs_minimal_js__WEBPACK_IMPORTED_MODULE_1__.Reader.create(input);\n    let end = length === void 0 ? reader.len : reader.pos + length;\n    const message = createBaseFrameActionBody();\n    while (reader.pos < end) {\n      const tag = reader.uint32();\n      switch (tag >>> 3) {\n        case 1:\n          if (tag != 10) {\n            break;\n          }\n          message.url = reader.bytes();\n          continue;\n        case 2:\n          if (tag != 16) {\n            break;\n          }\n          message.buttonIndex = reader.uint32();\n          continue;\n        case 3:\n          if (tag != 26) {\n            break;\n          }\n          message.castId = CastId.decode(reader, reader.uint32());\n          continue;\n        case 4:\n          if (tag != 34) {\n            break;\n          }\n          message.inputText = reader.bytes();\n          continue;\n        case 5:\n          if (tag != 42) {\n            break;\n          }\n          message.state = reader.bytes();\n          continue;\n        case 6:\n          if (tag != 50) {\n            break;\n          }\n          message.transactionId = reader.bytes();\n          continue;\n        case 7:\n          if (tag != 58) {\n            break;\n          }\n          message.address = reader.bytes();\n          continue;\n      }\n      if ((tag & 7) == 4 || tag == 0) {\n        break;\n      }\n      reader.skipType(tag & 7);\n    }\n    return message;\n  },\n  fromJSON(object) {\n    return {\n      url: isSet(object.url) ? bytesFromBase64(object.url) : new Uint8Array(),\n      buttonIndex: isSet(object.buttonIndex) ? Number(object.buttonIndex) : 0,\n      castId: isSet(object.castId) ? CastId.fromJSON(object.castId) : void 0,\n      inputText: isSet(object.inputText) ? bytesFromBase64(object.inputText) : new Uint8Array(),\n      state: isSet(object.state) ? bytesFromBase64(object.state) : new Uint8Array(),\n      transactionId: isSet(object.transactionId) ? bytesFromBase64(object.transactionId) : new Uint8Array(),\n      address: isSet(object.address) ? bytesFromBase64(object.address) : new Uint8Array()\n    };\n  },\n  toJSON(message) {\n    const obj = {};\n    message.url !== void 0 && (obj.url = base64FromBytes(\n      message.url !== void 0 ? message.url : new Uint8Array()\n    ));\n    message.buttonIndex !== void 0 && (obj.buttonIndex = Math.round(message.buttonIndex));\n    message.castId !== void 0 && (obj.castId = message.castId ? CastId.toJSON(message.castId) : void 0);\n    message.inputText !== void 0 && (obj.inputText = base64FromBytes(\n      message.inputText !== void 0 ? message.inputText : new Uint8Array()\n    ));\n    message.state !== void 0 && (obj.state = base64FromBytes(\n      message.state !== void 0 ? message.state : new Uint8Array()\n    ));\n    message.transactionId !== void 0 && (obj.transactionId = base64FromBytes(\n      message.transactionId !== void 0 ? message.transactionId : new Uint8Array()\n    ));\n    message.address !== void 0 && (obj.address = base64FromBytes(\n      message.address !== void 0 ? message.address : new Uint8Array()\n    ));\n    return obj;\n  },\n  create(base) {\n    return FrameActionBody.fromPartial(base ?? {});\n  },\n  fromPartial(object) {\n    const message = createBaseFrameActionBody();\n    message.url = object.url ?? new Uint8Array();\n    message.buttonIndex = object.buttonIndex ?? 0;\n    message.castId = object.castId !== void 0 && object.castId !== null ? CastId.fromPartial(object.castId) : void 0;\n    message.inputText = object.inputText ?? new Uint8Array();\n    message.state = object.state ?? new Uint8Array();\n    message.transactionId = object.transactionId ?? new Uint8Array();\n    message.address = object.address ?? new Uint8Array();\n    return message;\n  }\n};\nvar tsProtoGlobalThis = (() => {\n  if (typeof globalThis !== \"undefined\") {\n    return globalThis;\n  }\n  if (typeof self !== \"undefined\") {\n    return self;\n  }\n  if (typeof window !== \"undefined\") {\n    return window;\n  }\n  if (typeof global !== \"undefined\") {\n    return global;\n  }\n  throw \"Unable to locate global object\";\n})();\nfunction bytesFromBase64(b64) {\n  if (tsProtoGlobalThis.Buffer) {\n    return Uint8Array.from(tsProtoGlobalThis.Buffer.from(b64, \"base64\"));\n  } else {\n    const bin = tsProtoGlobalThis.atob(b64);\n    const arr = new Uint8Array(bin.length);\n    for (let i = 0; i < bin.length; ++i) {\n      arr[i] = bin.charCodeAt(i);\n    }\n    return arr;\n  }\n}\nfunction base64FromBytes(arr) {\n  if (tsProtoGlobalThis.Buffer) {\n    return tsProtoGlobalThis.Buffer.from(arr).toString(\"base64\");\n  } else {\n    const bin = [];\n    arr.forEach((byte) => {\n      bin.push(String.fromCharCode(byte));\n    });\n    return tsProtoGlobalThis.btoa(bin.join(\"\"));\n  }\n}\nfunction longToNumber(long) {\n  if (long.gt(Number.MAX_SAFE_INTEGER)) {\n    throw new tsProtoGlobalThis.Error(\n      \"Value is larger than Number.MAX_SAFE_INTEGER\"\n    );\n  }\n  return long.toNumber();\n}\nif (protobufjs_minimal_js__WEBPACK_IMPORTED_MODULE_1__.util.Long !== _chunk_JGTH2ANC_js__WEBPACK_IMPORTED_MODULE_0__.long_default) {\n  protobufjs_minimal_js__WEBPACK_IMPORTED_MODULE_1__.util.Long = _chunk_JGTH2ANC_js__WEBPACK_IMPORTED_MODULE_0__.long_default;\n  protobufjs_minimal_js__WEBPACK_IMPORTED_MODULE_1__.configure();\n}\nfunction isSet(value) {\n  return value !== null && value !== void 0;\n}\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvZnJhbWVzLmpzL2Rpc3QvY2h1bmstTUk0M0pSRVIuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFHNkI7O0FBRTdCO0FBQ3dDO0FBQ3hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQyxrQkFBa0I7QUFDbkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDLHVCQUF1QjtBQUN4QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDLG1CQUFtQjtBQUNwQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUMsd0JBQXdCO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDLG9CQUFvQjtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDLG9CQUFvQjtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQyxnQkFBZ0I7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJCQUEyQix5REFBVTtBQUNyQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBLG9DQUFvQyx5REFBVSxXQUFXLHlEQUFVO0FBQ25FO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBLHlDQUF5QztBQUN6QyxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkJBQTJCLHlEQUFVO0FBQ3JDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTSw2REFBYTtBQUNuQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0Esb0NBQW9DLHlEQUFVLFdBQVcseURBQVU7QUFDbkU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0NBQXNDLDZEQUFhO0FBQ25EO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyREFBMkQsNkRBQWE7QUFDeEU7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlHQUFpRyw2REFBYTtBQUM5RztBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0EsNkNBQTZDO0FBQzdDLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyR0FBMkcsNkRBQWE7QUFDeEg7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBO0FBQ0EsMkJBQTJCLHlEQUFVO0FBQ3JDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0Esb0NBQW9DLHlEQUFVLFdBQVcseURBQVU7QUFDbkU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBLDhDQUE4QztBQUM5QyxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBO0FBQ0EsMkJBQTJCLHlEQUFVO0FBQ3JDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0Esb0NBQW9DLHlEQUFVLFdBQVcseURBQVU7QUFDbkU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBLHVDQUF1QztBQUN2QyxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyQkFBMkIseURBQVU7QUFDckM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBLG9DQUFvQyx5REFBVSxXQUFXLHlEQUFVO0FBQ25FO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBLDZDQUE2QztBQUM3QyxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQTtBQUNBLDJCQUEyQix5REFBVTtBQUNyQztBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBLG9DQUFvQyx5REFBVSxXQUFXLHlEQUFVO0FBQ25FO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQSxnREFBZ0Q7QUFDaEQsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0E7QUFDQSwyQkFBMkIseURBQVU7QUFDckM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQSxvQ0FBb0MseURBQVUsV0FBVyx5REFBVTtBQUNuRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBLHdDQUF3QztBQUN4QyxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBO0FBQ0EsMkJBQTJCLHlEQUFVO0FBQ3JDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0Esb0NBQW9DLHlEQUFVLFdBQVcseURBQVU7QUFDbkU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQSw4Q0FBOEM7QUFDOUMsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkJBQTJCLHlEQUFVO0FBQ3JDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0Esb0NBQW9DLHlEQUFVLFdBQVcseURBQVU7QUFDbkU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQSw0REFBNEQ7QUFDNUQsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBO0FBQ0EsMkJBQTJCLHlEQUFVO0FBQ3JDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0Esb0NBQW9DLHlEQUFVLFdBQVcseURBQVU7QUFDbkU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQSx3REFBd0Q7QUFDeEQsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQTtBQUNBLDJCQUEyQix5REFBVTtBQUNyQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBLG9DQUFvQyx5REFBVSxXQUFXLHlEQUFVO0FBQ25FO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0EsMENBQTBDO0FBQzFDLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkJBQTJCLHlEQUFVO0FBQ3JDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0Esb0NBQW9DLHlEQUFVLFdBQVcseURBQVU7QUFDbkU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQSxpREFBaUQ7QUFDakQsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQSxvQkFBb0IsZ0JBQWdCO0FBQ3BDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJLHVEQUFRLFVBQVUsNERBQVk7QUFDbEMsRUFBRSx1REFBUSxRQUFRLDREQUFZO0FBQzlCLEVBQUUsNERBQWE7QUFDZjtBQUNBO0FBQ0E7QUFDQTs7QUFvQ0UiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9wbGViLWZpbmRlci8uL25vZGVfbW9kdWxlcy9mcmFtZXMuanMvZGlzdC9jaHVuay1NSTQzSlJFUi5qcz80ZDlkIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7XG4gIFVzZXJOYW1lUHJvb2YsXG4gIGxvbmdfZGVmYXVsdFxufSBmcm9tIFwiLi9jaHVuay1KR1RIMkFOQy5qc1wiO1xuXG4vLyBzcmMvZmFyY2FzdGVyL2dlbmVyYXRlZC9tZXNzYWdlLnRzXG5pbXBvcnQgX20wIGZyb20gXCJwcm90b2J1ZmpzL21pbmltYWwuanNcIjtcbnZhciBIYXNoU2NoZW1lID0gLyogQF9fUFVSRV9fICovICgoSGFzaFNjaGVtZTIpID0+IHtcbiAgSGFzaFNjaGVtZTJbSGFzaFNjaGVtZTJbXCJOT05FXCJdID0gMF0gPSBcIk5PTkVcIjtcbiAgSGFzaFNjaGVtZTJbSGFzaFNjaGVtZTJbXCJCTEFLRTNcIl0gPSAxXSA9IFwiQkxBS0UzXCI7XG4gIHJldHVybiBIYXNoU2NoZW1lMjtcbn0pKEhhc2hTY2hlbWUgfHwge30pO1xuZnVuY3Rpb24gaGFzaFNjaGVtZUZyb21KU09OKG9iamVjdCkge1xuICBzd2l0Y2ggKG9iamVjdCkge1xuICAgIGNhc2UgMDpcbiAgICBjYXNlIFwiSEFTSF9TQ0hFTUVfTk9ORVwiOlxuICAgICAgcmV0dXJuIDAgLyogTk9ORSAqLztcbiAgICBjYXNlIDE6XG4gICAgY2FzZSBcIkhBU0hfU0NIRU1FX0JMQUtFM1wiOlxuICAgICAgcmV0dXJuIDEgLyogQkxBS0UzICovO1xuICAgIGRlZmF1bHQ6XG4gICAgICB0aHJvdyBuZXcgdHNQcm90b0dsb2JhbFRoaXMuRXJyb3IoXG4gICAgICAgIFwiVW5yZWNvZ25pemVkIGVudW0gdmFsdWUgXCIgKyBvYmplY3QgKyBcIiBmb3IgZW51bSBIYXNoU2NoZW1lXCJcbiAgICAgICk7XG4gIH1cbn1cbmZ1bmN0aW9uIGhhc2hTY2hlbWVUb0pTT04ob2JqZWN0KSB7XG4gIHN3aXRjaCAob2JqZWN0KSB7XG4gICAgY2FzZSAwIC8qIE5PTkUgKi86XG4gICAgICByZXR1cm4gXCJIQVNIX1NDSEVNRV9OT05FXCI7XG4gICAgY2FzZSAxIC8qIEJMQUtFMyAqLzpcbiAgICAgIHJldHVybiBcIkhBU0hfU0NIRU1FX0JMQUtFM1wiO1xuICAgIGRlZmF1bHQ6XG4gICAgICB0aHJvdyBuZXcgdHNQcm90b0dsb2JhbFRoaXMuRXJyb3IoXG4gICAgICAgIFwiVW5yZWNvZ25pemVkIGVudW0gdmFsdWUgXCIgKyBvYmplY3QgKyBcIiBmb3IgZW51bSBIYXNoU2NoZW1lXCJcbiAgICAgICk7XG4gIH1cbn1cbnZhciBTaWduYXR1cmVTY2hlbWUgPSAvKiBAX19QVVJFX18gKi8gKChTaWduYXR1cmVTY2hlbWUyKSA9PiB7XG4gIFNpZ25hdHVyZVNjaGVtZTJbU2lnbmF0dXJlU2NoZW1lMltcIk5PTkVcIl0gPSAwXSA9IFwiTk9ORVwiO1xuICBTaWduYXR1cmVTY2hlbWUyW1NpZ25hdHVyZVNjaGVtZTJbXCJFRDI1NTE5XCJdID0gMV0gPSBcIkVEMjU1MTlcIjtcbiAgU2lnbmF0dXJlU2NoZW1lMltTaWduYXR1cmVTY2hlbWUyW1wiRUlQNzEyXCJdID0gMl0gPSBcIkVJUDcxMlwiO1xuICByZXR1cm4gU2lnbmF0dXJlU2NoZW1lMjtcbn0pKFNpZ25hdHVyZVNjaGVtZSB8fCB7fSk7XG5mdW5jdGlvbiBzaWduYXR1cmVTY2hlbWVGcm9tSlNPTihvYmplY3QpIHtcbiAgc3dpdGNoIChvYmplY3QpIHtcbiAgICBjYXNlIDA6XG4gICAgY2FzZSBcIlNJR05BVFVSRV9TQ0hFTUVfTk9ORVwiOlxuICAgICAgcmV0dXJuIDAgLyogTk9ORSAqLztcbiAgICBjYXNlIDE6XG4gICAgY2FzZSBcIlNJR05BVFVSRV9TQ0hFTUVfRUQyNTUxOVwiOlxuICAgICAgcmV0dXJuIDEgLyogRUQyNTUxOSAqLztcbiAgICBjYXNlIDI6XG4gICAgY2FzZSBcIlNJR05BVFVSRV9TQ0hFTUVfRUlQNzEyXCI6XG4gICAgICByZXR1cm4gMiAvKiBFSVA3MTIgKi87XG4gICAgZGVmYXVsdDpcbiAgICAgIHRocm93IG5ldyB0c1Byb3RvR2xvYmFsVGhpcy5FcnJvcihcbiAgICAgICAgXCJVbnJlY29nbml6ZWQgZW51bSB2YWx1ZSBcIiArIG9iamVjdCArIFwiIGZvciBlbnVtIFNpZ25hdHVyZVNjaGVtZVwiXG4gICAgICApO1xuICB9XG59XG5mdW5jdGlvbiBzaWduYXR1cmVTY2hlbWVUb0pTT04ob2JqZWN0KSB7XG4gIHN3aXRjaCAob2JqZWN0KSB7XG4gICAgY2FzZSAwIC8qIE5PTkUgKi86XG4gICAgICByZXR1cm4gXCJTSUdOQVRVUkVfU0NIRU1FX05PTkVcIjtcbiAgICBjYXNlIDEgLyogRUQyNTUxOSAqLzpcbiAgICAgIHJldHVybiBcIlNJR05BVFVSRV9TQ0hFTUVfRUQyNTUxOVwiO1xuICAgIGNhc2UgMiAvKiBFSVA3MTIgKi86XG4gICAgICByZXR1cm4gXCJTSUdOQVRVUkVfU0NIRU1FX0VJUDcxMlwiO1xuICAgIGRlZmF1bHQ6XG4gICAgICB0aHJvdyBuZXcgdHNQcm90b0dsb2JhbFRoaXMuRXJyb3IoXG4gICAgICAgIFwiVW5yZWNvZ25pemVkIGVudW0gdmFsdWUgXCIgKyBvYmplY3QgKyBcIiBmb3IgZW51bSBTaWduYXR1cmVTY2hlbWVcIlxuICAgICAgKTtcbiAgfVxufVxudmFyIE1lc3NhZ2VUeXBlID0gLyogQF9fUFVSRV9fICovICgoTWVzc2FnZVR5cGUyKSA9PiB7XG4gIE1lc3NhZ2VUeXBlMltNZXNzYWdlVHlwZTJbXCJOT05FXCJdID0gMF0gPSBcIk5PTkVcIjtcbiAgTWVzc2FnZVR5cGUyW01lc3NhZ2VUeXBlMltcIkNBU1RfQUREXCJdID0gMV0gPSBcIkNBU1RfQUREXCI7XG4gIE1lc3NhZ2VUeXBlMltNZXNzYWdlVHlwZTJbXCJDQVNUX1JFTU9WRVwiXSA9IDJdID0gXCJDQVNUX1JFTU9WRVwiO1xuICBNZXNzYWdlVHlwZTJbTWVzc2FnZVR5cGUyW1wiUkVBQ1RJT05fQUREXCJdID0gM10gPSBcIlJFQUNUSU9OX0FERFwiO1xuICBNZXNzYWdlVHlwZTJbTWVzc2FnZVR5cGUyW1wiUkVBQ1RJT05fUkVNT1ZFXCJdID0gNF0gPSBcIlJFQUNUSU9OX1JFTU9WRVwiO1xuICBNZXNzYWdlVHlwZTJbTWVzc2FnZVR5cGUyW1wiTElOS19BRERcIl0gPSA1XSA9IFwiTElOS19BRERcIjtcbiAgTWVzc2FnZVR5cGUyW01lc3NhZ2VUeXBlMltcIkxJTktfUkVNT1ZFXCJdID0gNl0gPSBcIkxJTktfUkVNT1ZFXCI7XG4gIE1lc3NhZ2VUeXBlMltNZXNzYWdlVHlwZTJbXCJWRVJJRklDQVRJT05fQUREX0VUSF9BRERSRVNTXCJdID0gN10gPSBcIlZFUklGSUNBVElPTl9BRERfRVRIX0FERFJFU1NcIjtcbiAgTWVzc2FnZVR5cGUyW01lc3NhZ2VUeXBlMltcIlZFUklGSUNBVElPTl9SRU1PVkVcIl0gPSA4XSA9IFwiVkVSSUZJQ0FUSU9OX1JFTU9WRVwiO1xuICBNZXNzYWdlVHlwZTJbTWVzc2FnZVR5cGUyW1wiVVNFUl9EQVRBX0FERFwiXSA9IDExXSA9IFwiVVNFUl9EQVRBX0FERFwiO1xuICBNZXNzYWdlVHlwZTJbTWVzc2FnZVR5cGUyW1wiVVNFUk5BTUVfUFJPT0ZcIl0gPSAxMl0gPSBcIlVTRVJOQU1FX1BST09GXCI7XG4gIE1lc3NhZ2VUeXBlMltNZXNzYWdlVHlwZTJbXCJGUkFNRV9BQ1RJT05cIl0gPSAxM10gPSBcIkZSQU1FX0FDVElPTlwiO1xuICByZXR1cm4gTWVzc2FnZVR5cGUyO1xufSkoTWVzc2FnZVR5cGUgfHwge30pO1xuZnVuY3Rpb24gbWVzc2FnZVR5cGVGcm9tSlNPTihvYmplY3QpIHtcbiAgc3dpdGNoIChvYmplY3QpIHtcbiAgICBjYXNlIDA6XG4gICAgY2FzZSBcIk1FU1NBR0VfVFlQRV9OT05FXCI6XG4gICAgICByZXR1cm4gMCAvKiBOT05FICovO1xuICAgIGNhc2UgMTpcbiAgICBjYXNlIFwiTUVTU0FHRV9UWVBFX0NBU1RfQUREXCI6XG4gICAgICByZXR1cm4gMSAvKiBDQVNUX0FERCAqLztcbiAgICBjYXNlIDI6XG4gICAgY2FzZSBcIk1FU1NBR0VfVFlQRV9DQVNUX1JFTU9WRVwiOlxuICAgICAgcmV0dXJuIDIgLyogQ0FTVF9SRU1PVkUgKi87XG4gICAgY2FzZSAzOlxuICAgIGNhc2UgXCJNRVNTQUdFX1RZUEVfUkVBQ1RJT05fQUREXCI6XG4gICAgICByZXR1cm4gMyAvKiBSRUFDVElPTl9BREQgKi87XG4gICAgY2FzZSA0OlxuICAgIGNhc2UgXCJNRVNTQUdFX1RZUEVfUkVBQ1RJT05fUkVNT1ZFXCI6XG4gICAgICByZXR1cm4gNCAvKiBSRUFDVElPTl9SRU1PVkUgKi87XG4gICAgY2FzZSA1OlxuICAgIGNhc2UgXCJNRVNTQUdFX1RZUEVfTElOS19BRERcIjpcbiAgICAgIHJldHVybiA1IC8qIExJTktfQUREICovO1xuICAgIGNhc2UgNjpcbiAgICBjYXNlIFwiTUVTU0FHRV9UWVBFX0xJTktfUkVNT1ZFXCI6XG4gICAgICByZXR1cm4gNiAvKiBMSU5LX1JFTU9WRSAqLztcbiAgICBjYXNlIDc6XG4gICAgY2FzZSBcIk1FU1NBR0VfVFlQRV9WRVJJRklDQVRJT05fQUREX0VUSF9BRERSRVNTXCI6XG4gICAgICByZXR1cm4gNyAvKiBWRVJJRklDQVRJT05fQUREX0VUSF9BRERSRVNTICovO1xuICAgIGNhc2UgODpcbiAgICBjYXNlIFwiTUVTU0FHRV9UWVBFX1ZFUklGSUNBVElPTl9SRU1PVkVcIjpcbiAgICAgIHJldHVybiA4IC8qIFZFUklGSUNBVElPTl9SRU1PVkUgKi87XG4gICAgY2FzZSAxMTpcbiAgICBjYXNlIFwiTUVTU0FHRV9UWVBFX1VTRVJfREFUQV9BRERcIjpcbiAgICAgIHJldHVybiAxMSAvKiBVU0VSX0RBVEFfQUREICovO1xuICAgIGNhc2UgMTI6XG4gICAgY2FzZSBcIk1FU1NBR0VfVFlQRV9VU0VSTkFNRV9QUk9PRlwiOlxuICAgICAgcmV0dXJuIDEyIC8qIFVTRVJOQU1FX1BST09GICovO1xuICAgIGNhc2UgMTM6XG4gICAgY2FzZSBcIk1FU1NBR0VfVFlQRV9GUkFNRV9BQ1RJT05cIjpcbiAgICAgIHJldHVybiAxMyAvKiBGUkFNRV9BQ1RJT04gKi87XG4gICAgZGVmYXVsdDpcbiAgICAgIHRocm93IG5ldyB0c1Byb3RvR2xvYmFsVGhpcy5FcnJvcihcbiAgICAgICAgXCJVbnJlY29nbml6ZWQgZW51bSB2YWx1ZSBcIiArIG9iamVjdCArIFwiIGZvciBlbnVtIE1lc3NhZ2VUeXBlXCJcbiAgICAgICk7XG4gIH1cbn1cbmZ1bmN0aW9uIG1lc3NhZ2VUeXBlVG9KU09OKG9iamVjdCkge1xuICBzd2l0Y2ggKG9iamVjdCkge1xuICAgIGNhc2UgMCAvKiBOT05FICovOlxuICAgICAgcmV0dXJuIFwiTUVTU0FHRV9UWVBFX05PTkVcIjtcbiAgICBjYXNlIDEgLyogQ0FTVF9BREQgKi86XG4gICAgICByZXR1cm4gXCJNRVNTQUdFX1RZUEVfQ0FTVF9BRERcIjtcbiAgICBjYXNlIDIgLyogQ0FTVF9SRU1PVkUgKi86XG4gICAgICByZXR1cm4gXCJNRVNTQUdFX1RZUEVfQ0FTVF9SRU1PVkVcIjtcbiAgICBjYXNlIDMgLyogUkVBQ1RJT05fQUREICovOlxuICAgICAgcmV0dXJuIFwiTUVTU0FHRV9UWVBFX1JFQUNUSU9OX0FERFwiO1xuICAgIGNhc2UgNCAvKiBSRUFDVElPTl9SRU1PVkUgKi86XG4gICAgICByZXR1cm4gXCJNRVNTQUdFX1RZUEVfUkVBQ1RJT05fUkVNT1ZFXCI7XG4gICAgY2FzZSA1IC8qIExJTktfQUREICovOlxuICAgICAgcmV0dXJuIFwiTUVTU0FHRV9UWVBFX0xJTktfQUREXCI7XG4gICAgY2FzZSA2IC8qIExJTktfUkVNT1ZFICovOlxuICAgICAgcmV0dXJuIFwiTUVTU0FHRV9UWVBFX0xJTktfUkVNT1ZFXCI7XG4gICAgY2FzZSA3IC8qIFZFUklGSUNBVElPTl9BRERfRVRIX0FERFJFU1MgKi86XG4gICAgICByZXR1cm4gXCJNRVNTQUdFX1RZUEVfVkVSSUZJQ0FUSU9OX0FERF9FVEhfQUREUkVTU1wiO1xuICAgIGNhc2UgOCAvKiBWRVJJRklDQVRJT05fUkVNT1ZFICovOlxuICAgICAgcmV0dXJuIFwiTUVTU0FHRV9UWVBFX1ZFUklGSUNBVElPTl9SRU1PVkVcIjtcbiAgICBjYXNlIDExIC8qIFVTRVJfREFUQV9BREQgKi86XG4gICAgICByZXR1cm4gXCJNRVNTQUdFX1RZUEVfVVNFUl9EQVRBX0FERFwiO1xuICAgIGNhc2UgMTIgLyogVVNFUk5BTUVfUFJPT0YgKi86XG4gICAgICByZXR1cm4gXCJNRVNTQUdFX1RZUEVfVVNFUk5BTUVfUFJPT0ZcIjtcbiAgICBjYXNlIDEzIC8qIEZSQU1FX0FDVElPTiAqLzpcbiAgICAgIHJldHVybiBcIk1FU1NBR0VfVFlQRV9GUkFNRV9BQ1RJT05cIjtcbiAgICBkZWZhdWx0OlxuICAgICAgdGhyb3cgbmV3IHRzUHJvdG9HbG9iYWxUaGlzLkVycm9yKFxuICAgICAgICBcIlVucmVjb2duaXplZCBlbnVtIHZhbHVlIFwiICsgb2JqZWN0ICsgXCIgZm9yIGVudW0gTWVzc2FnZVR5cGVcIlxuICAgICAgKTtcbiAgfVxufVxudmFyIEZhcmNhc3Rlck5ldHdvcmsgPSAvKiBAX19QVVJFX18gKi8gKChGYXJjYXN0ZXJOZXR3b3JrMikgPT4ge1xuICBGYXJjYXN0ZXJOZXR3b3JrMltGYXJjYXN0ZXJOZXR3b3JrMltcIk5PTkVcIl0gPSAwXSA9IFwiTk9ORVwiO1xuICBGYXJjYXN0ZXJOZXR3b3JrMltGYXJjYXN0ZXJOZXR3b3JrMltcIk1BSU5ORVRcIl0gPSAxXSA9IFwiTUFJTk5FVFwiO1xuICBGYXJjYXN0ZXJOZXR3b3JrMltGYXJjYXN0ZXJOZXR3b3JrMltcIlRFU1RORVRcIl0gPSAyXSA9IFwiVEVTVE5FVFwiO1xuICBGYXJjYXN0ZXJOZXR3b3JrMltGYXJjYXN0ZXJOZXR3b3JrMltcIkRFVk5FVFwiXSA9IDNdID0gXCJERVZORVRcIjtcbiAgcmV0dXJuIEZhcmNhc3Rlck5ldHdvcmsyO1xufSkoRmFyY2FzdGVyTmV0d29yayB8fCB7fSk7XG5mdW5jdGlvbiBmYXJjYXN0ZXJOZXR3b3JrRnJvbUpTT04ob2JqZWN0KSB7XG4gIHN3aXRjaCAob2JqZWN0KSB7XG4gICAgY2FzZSAwOlxuICAgIGNhc2UgXCJGQVJDQVNURVJfTkVUV09SS19OT05FXCI6XG4gICAgICByZXR1cm4gMCAvKiBOT05FICovO1xuICAgIGNhc2UgMTpcbiAgICBjYXNlIFwiRkFSQ0FTVEVSX05FVFdPUktfTUFJTk5FVFwiOlxuICAgICAgcmV0dXJuIDEgLyogTUFJTk5FVCAqLztcbiAgICBjYXNlIDI6XG4gICAgY2FzZSBcIkZBUkNBU1RFUl9ORVRXT1JLX1RFU1RORVRcIjpcbiAgICAgIHJldHVybiAyIC8qIFRFU1RORVQgKi87XG4gICAgY2FzZSAzOlxuICAgIGNhc2UgXCJGQVJDQVNURVJfTkVUV09SS19ERVZORVRcIjpcbiAgICAgIHJldHVybiAzIC8qIERFVk5FVCAqLztcbiAgICBkZWZhdWx0OlxuICAgICAgdGhyb3cgbmV3IHRzUHJvdG9HbG9iYWxUaGlzLkVycm9yKFxuICAgICAgICBcIlVucmVjb2duaXplZCBlbnVtIHZhbHVlIFwiICsgb2JqZWN0ICsgXCIgZm9yIGVudW0gRmFyY2FzdGVyTmV0d29ya1wiXG4gICAgICApO1xuICB9XG59XG5mdW5jdGlvbiBmYXJjYXN0ZXJOZXR3b3JrVG9KU09OKG9iamVjdCkge1xuICBzd2l0Y2ggKG9iamVjdCkge1xuICAgIGNhc2UgMCAvKiBOT05FICovOlxuICAgICAgcmV0dXJuIFwiRkFSQ0FTVEVSX05FVFdPUktfTk9ORVwiO1xuICAgIGNhc2UgMSAvKiBNQUlOTkVUICovOlxuICAgICAgcmV0dXJuIFwiRkFSQ0FTVEVSX05FVFdPUktfTUFJTk5FVFwiO1xuICAgIGNhc2UgMiAvKiBURVNUTkVUICovOlxuICAgICAgcmV0dXJuIFwiRkFSQ0FTVEVSX05FVFdPUktfVEVTVE5FVFwiO1xuICAgIGNhc2UgMyAvKiBERVZORVQgKi86XG4gICAgICByZXR1cm4gXCJGQVJDQVNURVJfTkVUV09SS19ERVZORVRcIjtcbiAgICBkZWZhdWx0OlxuICAgICAgdGhyb3cgbmV3IHRzUHJvdG9HbG9iYWxUaGlzLkVycm9yKFxuICAgICAgICBcIlVucmVjb2duaXplZCBlbnVtIHZhbHVlIFwiICsgb2JqZWN0ICsgXCIgZm9yIGVudW0gRmFyY2FzdGVyTmV0d29ya1wiXG4gICAgICApO1xuICB9XG59XG52YXIgVXNlckRhdGFUeXBlID0gLyogQF9fUFVSRV9fICovICgoVXNlckRhdGFUeXBlMikgPT4ge1xuICBVc2VyRGF0YVR5cGUyW1VzZXJEYXRhVHlwZTJbXCJOT05FXCJdID0gMF0gPSBcIk5PTkVcIjtcbiAgVXNlckRhdGFUeXBlMltVc2VyRGF0YVR5cGUyW1wiUEZQXCJdID0gMV0gPSBcIlBGUFwiO1xuICBVc2VyRGF0YVR5cGUyW1VzZXJEYXRhVHlwZTJbXCJESVNQTEFZXCJdID0gMl0gPSBcIkRJU1BMQVlcIjtcbiAgVXNlckRhdGFUeXBlMltVc2VyRGF0YVR5cGUyW1wiQklPXCJdID0gM10gPSBcIkJJT1wiO1xuICBVc2VyRGF0YVR5cGUyW1VzZXJEYXRhVHlwZTJbXCJVUkxcIl0gPSA1XSA9IFwiVVJMXCI7XG4gIFVzZXJEYXRhVHlwZTJbVXNlckRhdGFUeXBlMltcIlVTRVJOQU1FXCJdID0gNl0gPSBcIlVTRVJOQU1FXCI7XG4gIHJldHVybiBVc2VyRGF0YVR5cGUyO1xufSkoVXNlckRhdGFUeXBlIHx8IHt9KTtcbmZ1bmN0aW9uIHVzZXJEYXRhVHlwZUZyb21KU09OKG9iamVjdCkge1xuICBzd2l0Y2ggKG9iamVjdCkge1xuICAgIGNhc2UgMDpcbiAgICBjYXNlIFwiVVNFUl9EQVRBX1RZUEVfTk9ORVwiOlxuICAgICAgcmV0dXJuIDAgLyogTk9ORSAqLztcbiAgICBjYXNlIDE6XG4gICAgY2FzZSBcIlVTRVJfREFUQV9UWVBFX1BGUFwiOlxuICAgICAgcmV0dXJuIDEgLyogUEZQICovO1xuICAgIGNhc2UgMjpcbiAgICBjYXNlIFwiVVNFUl9EQVRBX1RZUEVfRElTUExBWVwiOlxuICAgICAgcmV0dXJuIDIgLyogRElTUExBWSAqLztcbiAgICBjYXNlIDM6XG4gICAgY2FzZSBcIlVTRVJfREFUQV9UWVBFX0JJT1wiOlxuICAgICAgcmV0dXJuIDMgLyogQklPICovO1xuICAgIGNhc2UgNTpcbiAgICBjYXNlIFwiVVNFUl9EQVRBX1RZUEVfVVJMXCI6XG4gICAgICByZXR1cm4gNSAvKiBVUkwgKi87XG4gICAgY2FzZSA2OlxuICAgIGNhc2UgXCJVU0VSX0RBVEFfVFlQRV9VU0VSTkFNRVwiOlxuICAgICAgcmV0dXJuIDYgLyogVVNFUk5BTUUgKi87XG4gICAgZGVmYXVsdDpcbiAgICAgIHRocm93IG5ldyB0c1Byb3RvR2xvYmFsVGhpcy5FcnJvcihcbiAgICAgICAgXCJVbnJlY29nbml6ZWQgZW51bSB2YWx1ZSBcIiArIG9iamVjdCArIFwiIGZvciBlbnVtIFVzZXJEYXRhVHlwZVwiXG4gICAgICApO1xuICB9XG59XG5mdW5jdGlvbiB1c2VyRGF0YVR5cGVUb0pTT04ob2JqZWN0KSB7XG4gIHN3aXRjaCAob2JqZWN0KSB7XG4gICAgY2FzZSAwIC8qIE5PTkUgKi86XG4gICAgICByZXR1cm4gXCJVU0VSX0RBVEFfVFlQRV9OT05FXCI7XG4gICAgY2FzZSAxIC8qIFBGUCAqLzpcbiAgICAgIHJldHVybiBcIlVTRVJfREFUQV9UWVBFX1BGUFwiO1xuICAgIGNhc2UgMiAvKiBESVNQTEFZICovOlxuICAgICAgcmV0dXJuIFwiVVNFUl9EQVRBX1RZUEVfRElTUExBWVwiO1xuICAgIGNhc2UgMyAvKiBCSU8gKi86XG4gICAgICByZXR1cm4gXCJVU0VSX0RBVEFfVFlQRV9CSU9cIjtcbiAgICBjYXNlIDUgLyogVVJMICovOlxuICAgICAgcmV0dXJuIFwiVVNFUl9EQVRBX1RZUEVfVVJMXCI7XG4gICAgY2FzZSA2IC8qIFVTRVJOQU1FICovOlxuICAgICAgcmV0dXJuIFwiVVNFUl9EQVRBX1RZUEVfVVNFUk5BTUVcIjtcbiAgICBkZWZhdWx0OlxuICAgICAgdGhyb3cgbmV3IHRzUHJvdG9HbG9iYWxUaGlzLkVycm9yKFxuICAgICAgICBcIlVucmVjb2duaXplZCBlbnVtIHZhbHVlIFwiICsgb2JqZWN0ICsgXCIgZm9yIGVudW0gVXNlckRhdGFUeXBlXCJcbiAgICAgICk7XG4gIH1cbn1cbnZhciBSZWFjdGlvblR5cGUgPSAvKiBAX19QVVJFX18gKi8gKChSZWFjdGlvblR5cGUyKSA9PiB7XG4gIFJlYWN0aW9uVHlwZTJbUmVhY3Rpb25UeXBlMltcIk5PTkVcIl0gPSAwXSA9IFwiTk9ORVwiO1xuICBSZWFjdGlvblR5cGUyW1JlYWN0aW9uVHlwZTJbXCJMSUtFXCJdID0gMV0gPSBcIkxJS0VcIjtcbiAgUmVhY3Rpb25UeXBlMltSZWFjdGlvblR5cGUyW1wiUkVDQVNUXCJdID0gMl0gPSBcIlJFQ0FTVFwiO1xuICByZXR1cm4gUmVhY3Rpb25UeXBlMjtcbn0pKFJlYWN0aW9uVHlwZSB8fCB7fSk7XG5mdW5jdGlvbiByZWFjdGlvblR5cGVGcm9tSlNPTihvYmplY3QpIHtcbiAgc3dpdGNoIChvYmplY3QpIHtcbiAgICBjYXNlIDA6XG4gICAgY2FzZSBcIlJFQUNUSU9OX1RZUEVfTk9ORVwiOlxuICAgICAgcmV0dXJuIDAgLyogTk9ORSAqLztcbiAgICBjYXNlIDE6XG4gICAgY2FzZSBcIlJFQUNUSU9OX1RZUEVfTElLRVwiOlxuICAgICAgcmV0dXJuIDEgLyogTElLRSAqLztcbiAgICBjYXNlIDI6XG4gICAgY2FzZSBcIlJFQUNUSU9OX1RZUEVfUkVDQVNUXCI6XG4gICAgICByZXR1cm4gMiAvKiBSRUNBU1QgKi87XG4gICAgZGVmYXVsdDpcbiAgICAgIHRocm93IG5ldyB0c1Byb3RvR2xvYmFsVGhpcy5FcnJvcihcbiAgICAgICAgXCJVbnJlY29nbml6ZWQgZW51bSB2YWx1ZSBcIiArIG9iamVjdCArIFwiIGZvciBlbnVtIFJlYWN0aW9uVHlwZVwiXG4gICAgICApO1xuICB9XG59XG5mdW5jdGlvbiByZWFjdGlvblR5cGVUb0pTT04ob2JqZWN0KSB7XG4gIHN3aXRjaCAob2JqZWN0KSB7XG4gICAgY2FzZSAwIC8qIE5PTkUgKi86XG4gICAgICByZXR1cm4gXCJSRUFDVElPTl9UWVBFX05PTkVcIjtcbiAgICBjYXNlIDEgLyogTElLRSAqLzpcbiAgICAgIHJldHVybiBcIlJFQUNUSU9OX1RZUEVfTElLRVwiO1xuICAgIGNhc2UgMiAvKiBSRUNBU1QgKi86XG4gICAgICByZXR1cm4gXCJSRUFDVElPTl9UWVBFX1JFQ0FTVFwiO1xuICAgIGRlZmF1bHQ6XG4gICAgICB0aHJvdyBuZXcgdHNQcm90b0dsb2JhbFRoaXMuRXJyb3IoXG4gICAgICAgIFwiVW5yZWNvZ25pemVkIGVudW0gdmFsdWUgXCIgKyBvYmplY3QgKyBcIiBmb3IgZW51bSBSZWFjdGlvblR5cGVcIlxuICAgICAgKTtcbiAgfVxufVxudmFyIFByb3RvY29sID0gLyogQF9fUFVSRV9fICovICgoUHJvdG9jb2wyKSA9PiB7XG4gIFByb3RvY29sMltQcm90b2NvbDJbXCJFVEhFUkVVTVwiXSA9IDBdID0gXCJFVEhFUkVVTVwiO1xuICBQcm90b2NvbDJbUHJvdG9jb2wyW1wiU09MQU5BXCJdID0gMV0gPSBcIlNPTEFOQVwiO1xuICByZXR1cm4gUHJvdG9jb2wyO1xufSkoUHJvdG9jb2wgfHwge30pO1xuZnVuY3Rpb24gcHJvdG9jb2xGcm9tSlNPTihvYmplY3QpIHtcbiAgc3dpdGNoIChvYmplY3QpIHtcbiAgICBjYXNlIDA6XG4gICAgY2FzZSBcIlBST1RPQ09MX0VUSEVSRVVNXCI6XG4gICAgICByZXR1cm4gMCAvKiBFVEhFUkVVTSAqLztcbiAgICBjYXNlIDE6XG4gICAgY2FzZSBcIlBST1RPQ09MX1NPTEFOQVwiOlxuICAgICAgcmV0dXJuIDEgLyogU09MQU5BICovO1xuICAgIGRlZmF1bHQ6XG4gICAgICB0aHJvdyBuZXcgdHNQcm90b0dsb2JhbFRoaXMuRXJyb3IoXG4gICAgICAgIFwiVW5yZWNvZ25pemVkIGVudW0gdmFsdWUgXCIgKyBvYmplY3QgKyBcIiBmb3IgZW51bSBQcm90b2NvbFwiXG4gICAgICApO1xuICB9XG59XG5mdW5jdGlvbiBwcm90b2NvbFRvSlNPTihvYmplY3QpIHtcbiAgc3dpdGNoIChvYmplY3QpIHtcbiAgICBjYXNlIDAgLyogRVRIRVJFVU0gKi86XG4gICAgICByZXR1cm4gXCJQUk9UT0NPTF9FVEhFUkVVTVwiO1xuICAgIGNhc2UgMSAvKiBTT0xBTkEgKi86XG4gICAgICByZXR1cm4gXCJQUk9UT0NPTF9TT0xBTkFcIjtcbiAgICBkZWZhdWx0OlxuICAgICAgdGhyb3cgbmV3IHRzUHJvdG9HbG9iYWxUaGlzLkVycm9yKFxuICAgICAgICBcIlVucmVjb2duaXplZCBlbnVtIHZhbHVlIFwiICsgb2JqZWN0ICsgXCIgZm9yIGVudW0gUHJvdG9jb2xcIlxuICAgICAgKTtcbiAgfVxufVxuZnVuY3Rpb24gY3JlYXRlQmFzZU1lc3NhZ2UoKSB7XG4gIHJldHVybiB7XG4gICAgZGF0YTogdm9pZCAwLFxuICAgIGhhc2g6IG5ldyBVaW50OEFycmF5KCksXG4gICAgaGFzaFNjaGVtZTogMCxcbiAgICBzaWduYXR1cmU6IG5ldyBVaW50OEFycmF5KCksXG4gICAgc2lnbmF0dXJlU2NoZW1lOiAwLFxuICAgIHNpZ25lcjogbmV3IFVpbnQ4QXJyYXkoKSxcbiAgICBkYXRhQnl0ZXM6IHZvaWQgMFxuICB9O1xufVxudmFyIE1lc3NhZ2UgPSB7XG4gIGVuY29kZShtZXNzYWdlLCB3cml0ZXIgPSBfbTAuV3JpdGVyLmNyZWF0ZSgpKSB7XG4gICAgaWYgKG1lc3NhZ2UuZGF0YSAhPT0gdm9pZCAwKSB7XG4gICAgICBNZXNzYWdlRGF0YS5lbmNvZGUobWVzc2FnZS5kYXRhLCB3cml0ZXIudWludDMyKDEwKS5mb3JrKCkpLmxkZWxpbSgpO1xuICAgIH1cbiAgICBpZiAobWVzc2FnZS5oYXNoLmxlbmd0aCAhPT0gMCkge1xuICAgICAgd3JpdGVyLnVpbnQzMigxOCkuYnl0ZXMobWVzc2FnZS5oYXNoKTtcbiAgICB9XG4gICAgaWYgKG1lc3NhZ2UuaGFzaFNjaGVtZSAhPT0gMCkge1xuICAgICAgd3JpdGVyLnVpbnQzMigyNCkuaW50MzIobWVzc2FnZS5oYXNoU2NoZW1lKTtcbiAgICB9XG4gICAgaWYgKG1lc3NhZ2Uuc2lnbmF0dXJlLmxlbmd0aCAhPT0gMCkge1xuICAgICAgd3JpdGVyLnVpbnQzMigzNCkuYnl0ZXMobWVzc2FnZS5zaWduYXR1cmUpO1xuICAgIH1cbiAgICBpZiAobWVzc2FnZS5zaWduYXR1cmVTY2hlbWUgIT09IDApIHtcbiAgICAgIHdyaXRlci51aW50MzIoNDApLmludDMyKG1lc3NhZ2Uuc2lnbmF0dXJlU2NoZW1lKTtcbiAgICB9XG4gICAgaWYgKG1lc3NhZ2Uuc2lnbmVyLmxlbmd0aCAhPT0gMCkge1xuICAgICAgd3JpdGVyLnVpbnQzMig1MCkuYnl0ZXMobWVzc2FnZS5zaWduZXIpO1xuICAgIH1cbiAgICBpZiAobWVzc2FnZS5kYXRhQnl0ZXMgIT09IHZvaWQgMCkge1xuICAgICAgd3JpdGVyLnVpbnQzMig1OCkuYnl0ZXMobWVzc2FnZS5kYXRhQnl0ZXMpO1xuICAgIH1cbiAgICByZXR1cm4gd3JpdGVyO1xuICB9LFxuICBkZWNvZGUoaW5wdXQsIGxlbmd0aCkge1xuICAgIGNvbnN0IHJlYWRlciA9IGlucHV0IGluc3RhbmNlb2YgX20wLlJlYWRlciA/IGlucHV0IDogX20wLlJlYWRlci5jcmVhdGUoaW5wdXQpO1xuICAgIGxldCBlbmQgPSBsZW5ndGggPT09IHZvaWQgMCA/IHJlYWRlci5sZW4gOiByZWFkZXIucG9zICsgbGVuZ3RoO1xuICAgIGNvbnN0IG1lc3NhZ2UgPSBjcmVhdGVCYXNlTWVzc2FnZSgpO1xuICAgIHdoaWxlIChyZWFkZXIucG9zIDwgZW5kKSB7XG4gICAgICBjb25zdCB0YWcgPSByZWFkZXIudWludDMyKCk7XG4gICAgICBzd2l0Y2ggKHRhZyA+Pj4gMykge1xuICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgaWYgKHRhZyAhPSAxMCkge1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICAgIG1lc3NhZ2UuZGF0YSA9IE1lc3NhZ2VEYXRhLmRlY29kZShyZWFkZXIsIHJlYWRlci51aW50MzIoKSk7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIGNhc2UgMjpcbiAgICAgICAgICBpZiAodGFnICE9IDE4KSB7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgICAgbWVzc2FnZS5oYXNoID0gcmVhZGVyLmJ5dGVzKCk7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIGNhc2UgMzpcbiAgICAgICAgICBpZiAodGFnICE9IDI0KSB7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgICAgbWVzc2FnZS5oYXNoU2NoZW1lID0gcmVhZGVyLmludDMyKCk7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIGNhc2UgNDpcbiAgICAgICAgICBpZiAodGFnICE9IDM0KSB7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgICAgbWVzc2FnZS5zaWduYXR1cmUgPSByZWFkZXIuYnl0ZXMoKTtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgY2FzZSA1OlxuICAgICAgICAgIGlmICh0YWcgIT0gNDApIHtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgICBtZXNzYWdlLnNpZ25hdHVyZVNjaGVtZSA9IHJlYWRlci5pbnQzMigpO1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICBjYXNlIDY6XG4gICAgICAgICAgaWYgKHRhZyAhPSA1MCkge1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICAgIG1lc3NhZ2Uuc2lnbmVyID0gcmVhZGVyLmJ5dGVzKCk7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIGNhc2UgNzpcbiAgICAgICAgICBpZiAodGFnICE9IDU4KSB7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgICAgbWVzc2FnZS5kYXRhQnl0ZXMgPSByZWFkZXIuYnl0ZXMoKTtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cbiAgICAgIGlmICgodGFnICYgNykgPT0gNCB8fCB0YWcgPT0gMCkge1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIHJlYWRlci5za2lwVHlwZSh0YWcgJiA3KTtcbiAgICB9XG4gICAgcmV0dXJuIG1lc3NhZ2U7XG4gIH0sXG4gIGZyb21KU09OKG9iamVjdCkge1xuICAgIHJldHVybiB7XG4gICAgICBkYXRhOiBpc1NldChvYmplY3QuZGF0YSkgPyBNZXNzYWdlRGF0YS5mcm9tSlNPTihvYmplY3QuZGF0YSkgOiB2b2lkIDAsXG4gICAgICBoYXNoOiBpc1NldChvYmplY3QuaGFzaCkgPyBieXRlc0Zyb21CYXNlNjQob2JqZWN0Lmhhc2gpIDogbmV3IFVpbnQ4QXJyYXkoKSxcbiAgICAgIGhhc2hTY2hlbWU6IGlzU2V0KG9iamVjdC5oYXNoU2NoZW1lKSA/IGhhc2hTY2hlbWVGcm9tSlNPTihvYmplY3QuaGFzaFNjaGVtZSkgOiAwLFxuICAgICAgc2lnbmF0dXJlOiBpc1NldChvYmplY3Quc2lnbmF0dXJlKSA/IGJ5dGVzRnJvbUJhc2U2NChvYmplY3Quc2lnbmF0dXJlKSA6IG5ldyBVaW50OEFycmF5KCksXG4gICAgICBzaWduYXR1cmVTY2hlbWU6IGlzU2V0KG9iamVjdC5zaWduYXR1cmVTY2hlbWUpID8gc2lnbmF0dXJlU2NoZW1lRnJvbUpTT04ob2JqZWN0LnNpZ25hdHVyZVNjaGVtZSkgOiAwLFxuICAgICAgc2lnbmVyOiBpc1NldChvYmplY3Quc2lnbmVyKSA/IGJ5dGVzRnJvbUJhc2U2NChvYmplY3Quc2lnbmVyKSA6IG5ldyBVaW50OEFycmF5KCksXG4gICAgICBkYXRhQnl0ZXM6IGlzU2V0KG9iamVjdC5kYXRhQnl0ZXMpID8gYnl0ZXNGcm9tQmFzZTY0KG9iamVjdC5kYXRhQnl0ZXMpIDogdm9pZCAwXG4gICAgfTtcbiAgfSxcbiAgdG9KU09OKG1lc3NhZ2UpIHtcbiAgICBjb25zdCBvYmogPSB7fTtcbiAgICBtZXNzYWdlLmRhdGEgIT09IHZvaWQgMCAmJiAob2JqLmRhdGEgPSBtZXNzYWdlLmRhdGEgPyBNZXNzYWdlRGF0YS50b0pTT04obWVzc2FnZS5kYXRhKSA6IHZvaWQgMCk7XG4gICAgbWVzc2FnZS5oYXNoICE9PSB2b2lkIDAgJiYgKG9iai5oYXNoID0gYmFzZTY0RnJvbUJ5dGVzKFxuICAgICAgbWVzc2FnZS5oYXNoICE9PSB2b2lkIDAgPyBtZXNzYWdlLmhhc2ggOiBuZXcgVWludDhBcnJheSgpXG4gICAgKSk7XG4gICAgbWVzc2FnZS5oYXNoU2NoZW1lICE9PSB2b2lkIDAgJiYgKG9iai5oYXNoU2NoZW1lID0gaGFzaFNjaGVtZVRvSlNPTihtZXNzYWdlLmhhc2hTY2hlbWUpKTtcbiAgICBtZXNzYWdlLnNpZ25hdHVyZSAhPT0gdm9pZCAwICYmIChvYmouc2lnbmF0dXJlID0gYmFzZTY0RnJvbUJ5dGVzKFxuICAgICAgbWVzc2FnZS5zaWduYXR1cmUgIT09IHZvaWQgMCA/IG1lc3NhZ2Uuc2lnbmF0dXJlIDogbmV3IFVpbnQ4QXJyYXkoKVxuICAgICkpO1xuICAgIG1lc3NhZ2Uuc2lnbmF0dXJlU2NoZW1lICE9PSB2b2lkIDAgJiYgKG9iai5zaWduYXR1cmVTY2hlbWUgPSBzaWduYXR1cmVTY2hlbWVUb0pTT04obWVzc2FnZS5zaWduYXR1cmVTY2hlbWUpKTtcbiAgICBtZXNzYWdlLnNpZ25lciAhPT0gdm9pZCAwICYmIChvYmouc2lnbmVyID0gYmFzZTY0RnJvbUJ5dGVzKFxuICAgICAgbWVzc2FnZS5zaWduZXIgIT09IHZvaWQgMCA/IG1lc3NhZ2Uuc2lnbmVyIDogbmV3IFVpbnQ4QXJyYXkoKVxuICAgICkpO1xuICAgIG1lc3NhZ2UuZGF0YUJ5dGVzICE9PSB2b2lkIDAgJiYgKG9iai5kYXRhQnl0ZXMgPSBtZXNzYWdlLmRhdGFCeXRlcyAhPT0gdm9pZCAwID8gYmFzZTY0RnJvbUJ5dGVzKG1lc3NhZ2UuZGF0YUJ5dGVzKSA6IHZvaWQgMCk7XG4gICAgcmV0dXJuIG9iajtcbiAgfSxcbiAgY3JlYXRlKGJhc2UpIHtcbiAgICByZXR1cm4gTWVzc2FnZS5mcm9tUGFydGlhbChiYXNlID8/IHt9KTtcbiAgfSxcbiAgZnJvbVBhcnRpYWwob2JqZWN0KSB7XG4gICAgY29uc3QgbWVzc2FnZSA9IGNyZWF0ZUJhc2VNZXNzYWdlKCk7XG4gICAgbWVzc2FnZS5kYXRhID0gb2JqZWN0LmRhdGEgIT09IHZvaWQgMCAmJiBvYmplY3QuZGF0YSAhPT0gbnVsbCA/IE1lc3NhZ2VEYXRhLmZyb21QYXJ0aWFsKG9iamVjdC5kYXRhKSA6IHZvaWQgMDtcbiAgICBtZXNzYWdlLmhhc2ggPSBvYmplY3QuaGFzaCA/PyBuZXcgVWludDhBcnJheSgpO1xuICAgIG1lc3NhZ2UuaGFzaFNjaGVtZSA9IG9iamVjdC5oYXNoU2NoZW1lID8/IDA7XG4gICAgbWVzc2FnZS5zaWduYXR1cmUgPSBvYmplY3Quc2lnbmF0dXJlID8/IG5ldyBVaW50OEFycmF5KCk7XG4gICAgbWVzc2FnZS5zaWduYXR1cmVTY2hlbWUgPSBvYmplY3Quc2lnbmF0dXJlU2NoZW1lID8/IDA7XG4gICAgbWVzc2FnZS5zaWduZXIgPSBvYmplY3Quc2lnbmVyID8/IG5ldyBVaW50OEFycmF5KCk7XG4gICAgbWVzc2FnZS5kYXRhQnl0ZXMgPSBvYmplY3QuZGF0YUJ5dGVzID8/IHZvaWQgMDtcbiAgICByZXR1cm4gbWVzc2FnZTtcbiAgfVxufTtcbmZ1bmN0aW9uIGNyZWF0ZUJhc2VNZXNzYWdlRGF0YSgpIHtcbiAgcmV0dXJuIHtcbiAgICB0eXBlOiAwLFxuICAgIGZpZDogMCxcbiAgICB0aW1lc3RhbXA6IDAsXG4gICAgbmV0d29yazogMCxcbiAgICBjYXN0QWRkQm9keTogdm9pZCAwLFxuICAgIGNhc3RSZW1vdmVCb2R5OiB2b2lkIDAsXG4gICAgcmVhY3Rpb25Cb2R5OiB2b2lkIDAsXG4gICAgdmVyaWZpY2F0aW9uQWRkQWRkcmVzc0JvZHk6IHZvaWQgMCxcbiAgICB2ZXJpZmljYXRpb25SZW1vdmVCb2R5OiB2b2lkIDAsXG4gICAgdXNlckRhdGFCb2R5OiB2b2lkIDAsXG4gICAgbGlua0JvZHk6IHZvaWQgMCxcbiAgICB1c2VybmFtZVByb29mQm9keTogdm9pZCAwLFxuICAgIGZyYW1lQWN0aW9uQm9keTogdm9pZCAwXG4gIH07XG59XG52YXIgTWVzc2FnZURhdGEgPSB7XG4gIGVuY29kZShtZXNzYWdlLCB3cml0ZXIgPSBfbTAuV3JpdGVyLmNyZWF0ZSgpKSB7XG4gICAgaWYgKG1lc3NhZ2UudHlwZSAhPT0gMCkge1xuICAgICAgd3JpdGVyLnVpbnQzMig4KS5pbnQzMihtZXNzYWdlLnR5cGUpO1xuICAgIH1cbiAgICBpZiAobWVzc2FnZS5maWQgIT09IDApIHtcbiAgICAgIHdyaXRlci51aW50MzIoMTYpLnVpbnQ2NChtZXNzYWdlLmZpZCk7XG4gICAgfVxuICAgIGlmIChtZXNzYWdlLnRpbWVzdGFtcCAhPT0gMCkge1xuICAgICAgd3JpdGVyLnVpbnQzMigyNCkudWludDMyKG1lc3NhZ2UudGltZXN0YW1wKTtcbiAgICB9XG4gICAgaWYgKG1lc3NhZ2UubmV0d29yayAhPT0gMCkge1xuICAgICAgd3JpdGVyLnVpbnQzMigzMikuaW50MzIobWVzc2FnZS5uZXR3b3JrKTtcbiAgICB9XG4gICAgaWYgKG1lc3NhZ2UuY2FzdEFkZEJvZHkgIT09IHZvaWQgMCkge1xuICAgICAgQ2FzdEFkZEJvZHkuZW5jb2RlKFxuICAgICAgICBtZXNzYWdlLmNhc3RBZGRCb2R5LFxuICAgICAgICB3cml0ZXIudWludDMyKDQyKS5mb3JrKClcbiAgICAgICkubGRlbGltKCk7XG4gICAgfVxuICAgIGlmIChtZXNzYWdlLmNhc3RSZW1vdmVCb2R5ICE9PSB2b2lkIDApIHtcbiAgICAgIENhc3RSZW1vdmVCb2R5LmVuY29kZShcbiAgICAgICAgbWVzc2FnZS5jYXN0UmVtb3ZlQm9keSxcbiAgICAgICAgd3JpdGVyLnVpbnQzMig1MCkuZm9yaygpXG4gICAgICApLmxkZWxpbSgpO1xuICAgIH1cbiAgICBpZiAobWVzc2FnZS5yZWFjdGlvbkJvZHkgIT09IHZvaWQgMCkge1xuICAgICAgUmVhY3Rpb25Cb2R5LmVuY29kZShcbiAgICAgICAgbWVzc2FnZS5yZWFjdGlvbkJvZHksXG4gICAgICAgIHdyaXRlci51aW50MzIoNTgpLmZvcmsoKVxuICAgICAgKS5sZGVsaW0oKTtcbiAgICB9XG4gICAgaWYgKG1lc3NhZ2UudmVyaWZpY2F0aW9uQWRkQWRkcmVzc0JvZHkgIT09IHZvaWQgMCkge1xuICAgICAgVmVyaWZpY2F0aW9uQWRkQWRkcmVzc0JvZHkuZW5jb2RlKFxuICAgICAgICBtZXNzYWdlLnZlcmlmaWNhdGlvbkFkZEFkZHJlc3NCb2R5LFxuICAgICAgICB3cml0ZXIudWludDMyKDc0KS5mb3JrKClcbiAgICAgICkubGRlbGltKCk7XG4gICAgfVxuICAgIGlmIChtZXNzYWdlLnZlcmlmaWNhdGlvblJlbW92ZUJvZHkgIT09IHZvaWQgMCkge1xuICAgICAgVmVyaWZpY2F0aW9uUmVtb3ZlQm9keS5lbmNvZGUoXG4gICAgICAgIG1lc3NhZ2UudmVyaWZpY2F0aW9uUmVtb3ZlQm9keSxcbiAgICAgICAgd3JpdGVyLnVpbnQzMig4MikuZm9yaygpXG4gICAgICApLmxkZWxpbSgpO1xuICAgIH1cbiAgICBpZiAobWVzc2FnZS51c2VyRGF0YUJvZHkgIT09IHZvaWQgMCkge1xuICAgICAgVXNlckRhdGFCb2R5LmVuY29kZShcbiAgICAgICAgbWVzc2FnZS51c2VyRGF0YUJvZHksXG4gICAgICAgIHdyaXRlci51aW50MzIoOTgpLmZvcmsoKVxuICAgICAgKS5sZGVsaW0oKTtcbiAgICB9XG4gICAgaWYgKG1lc3NhZ2UubGlua0JvZHkgIT09IHZvaWQgMCkge1xuICAgICAgTGlua0JvZHkuZW5jb2RlKG1lc3NhZ2UubGlua0JvZHksIHdyaXRlci51aW50MzIoMTE0KS5mb3JrKCkpLmxkZWxpbSgpO1xuICAgIH1cbiAgICBpZiAobWVzc2FnZS51c2VybmFtZVByb29mQm9keSAhPT0gdm9pZCAwKSB7XG4gICAgICBVc2VyTmFtZVByb29mLmVuY29kZShcbiAgICAgICAgbWVzc2FnZS51c2VybmFtZVByb29mQm9keSxcbiAgICAgICAgd3JpdGVyLnVpbnQzMigxMjIpLmZvcmsoKVxuICAgICAgKS5sZGVsaW0oKTtcbiAgICB9XG4gICAgaWYgKG1lc3NhZ2UuZnJhbWVBY3Rpb25Cb2R5ICE9PSB2b2lkIDApIHtcbiAgICAgIEZyYW1lQWN0aW9uQm9keS5lbmNvZGUoXG4gICAgICAgIG1lc3NhZ2UuZnJhbWVBY3Rpb25Cb2R5LFxuICAgICAgICB3cml0ZXIudWludDMyKDEzMCkuZm9yaygpXG4gICAgICApLmxkZWxpbSgpO1xuICAgIH1cbiAgICByZXR1cm4gd3JpdGVyO1xuICB9LFxuICBkZWNvZGUoaW5wdXQsIGxlbmd0aCkge1xuICAgIGNvbnN0IHJlYWRlciA9IGlucHV0IGluc3RhbmNlb2YgX20wLlJlYWRlciA/IGlucHV0IDogX20wLlJlYWRlci5jcmVhdGUoaW5wdXQpO1xuICAgIGxldCBlbmQgPSBsZW5ndGggPT09IHZvaWQgMCA/IHJlYWRlci5sZW4gOiByZWFkZXIucG9zICsgbGVuZ3RoO1xuICAgIGNvbnN0IG1lc3NhZ2UgPSBjcmVhdGVCYXNlTWVzc2FnZURhdGEoKTtcbiAgICB3aGlsZSAocmVhZGVyLnBvcyA8IGVuZCkge1xuICAgICAgY29uc3QgdGFnID0gcmVhZGVyLnVpbnQzMigpO1xuICAgICAgc3dpdGNoICh0YWcgPj4+IDMpIHtcbiAgICAgICAgY2FzZSAxOlxuICAgICAgICAgIGlmICh0YWcgIT0gOCkge1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICAgIG1lc3NhZ2UudHlwZSA9IHJlYWRlci5pbnQzMigpO1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgaWYgKHRhZyAhPSAxNikge1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICAgIG1lc3NhZ2UuZmlkID0gbG9uZ1RvTnVtYmVyKHJlYWRlci51aW50NjQoKSk7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIGNhc2UgMzpcbiAgICAgICAgICBpZiAodGFnICE9IDI0KSB7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgICAgbWVzc2FnZS50aW1lc3RhbXAgPSByZWFkZXIudWludDMyKCk7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIGNhc2UgNDpcbiAgICAgICAgICBpZiAodGFnICE9IDMyKSB7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgICAgbWVzc2FnZS5uZXR3b3JrID0gcmVhZGVyLmludDMyKCk7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIGNhc2UgNTpcbiAgICAgICAgICBpZiAodGFnICE9IDQyKSB7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgICAgbWVzc2FnZS5jYXN0QWRkQm9keSA9IENhc3RBZGRCb2R5LmRlY29kZShyZWFkZXIsIHJlYWRlci51aW50MzIoKSk7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIGNhc2UgNjpcbiAgICAgICAgICBpZiAodGFnICE9IDUwKSB7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgICAgbWVzc2FnZS5jYXN0UmVtb3ZlQm9keSA9IENhc3RSZW1vdmVCb2R5LmRlY29kZShcbiAgICAgICAgICAgIHJlYWRlcixcbiAgICAgICAgICAgIHJlYWRlci51aW50MzIoKVxuICAgICAgICAgICk7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIGNhc2UgNzpcbiAgICAgICAgICBpZiAodGFnICE9IDU4KSB7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgICAgbWVzc2FnZS5yZWFjdGlvbkJvZHkgPSBSZWFjdGlvbkJvZHkuZGVjb2RlKHJlYWRlciwgcmVhZGVyLnVpbnQzMigpKTtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgY2FzZSA5OlxuICAgICAgICAgIGlmICh0YWcgIT0gNzQpIHtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgICBtZXNzYWdlLnZlcmlmaWNhdGlvbkFkZEFkZHJlc3NCb2R5ID0gVmVyaWZpY2F0aW9uQWRkQWRkcmVzc0JvZHkuZGVjb2RlKHJlYWRlciwgcmVhZGVyLnVpbnQzMigpKTtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgY2FzZSAxMDpcbiAgICAgICAgICBpZiAodGFnICE9IDgyKSB7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgICAgbWVzc2FnZS52ZXJpZmljYXRpb25SZW1vdmVCb2R5ID0gVmVyaWZpY2F0aW9uUmVtb3ZlQm9keS5kZWNvZGUoXG4gICAgICAgICAgICByZWFkZXIsXG4gICAgICAgICAgICByZWFkZXIudWludDMyKClcbiAgICAgICAgICApO1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICBjYXNlIDEyOlxuICAgICAgICAgIGlmICh0YWcgIT0gOTgpIHtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgICBtZXNzYWdlLnVzZXJEYXRhQm9keSA9IFVzZXJEYXRhQm9keS5kZWNvZGUocmVhZGVyLCByZWFkZXIudWludDMyKCkpO1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICBjYXNlIDE0OlxuICAgICAgICAgIGlmICh0YWcgIT0gMTE0KSB7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgICAgbWVzc2FnZS5saW5rQm9keSA9IExpbmtCb2R5LmRlY29kZShyZWFkZXIsIHJlYWRlci51aW50MzIoKSk7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIGNhc2UgMTU6XG4gICAgICAgICAgaWYgKHRhZyAhPSAxMjIpIHtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgICBtZXNzYWdlLnVzZXJuYW1lUHJvb2ZCb2R5ID0gVXNlck5hbWVQcm9vZi5kZWNvZGUoXG4gICAgICAgICAgICByZWFkZXIsXG4gICAgICAgICAgICByZWFkZXIudWludDMyKClcbiAgICAgICAgICApO1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICBjYXNlIDE2OlxuICAgICAgICAgIGlmICh0YWcgIT0gMTMwKSB7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgICAgbWVzc2FnZS5mcmFtZUFjdGlvbkJvZHkgPSBGcmFtZUFjdGlvbkJvZHkuZGVjb2RlKFxuICAgICAgICAgICAgcmVhZGVyLFxuICAgICAgICAgICAgcmVhZGVyLnVpbnQzMigpXG4gICAgICAgICAgKTtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cbiAgICAgIGlmICgodGFnICYgNykgPT0gNCB8fCB0YWcgPT0gMCkge1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIHJlYWRlci5za2lwVHlwZSh0YWcgJiA3KTtcbiAgICB9XG4gICAgcmV0dXJuIG1lc3NhZ2U7XG4gIH0sXG4gIGZyb21KU09OKG9iamVjdCkge1xuICAgIHJldHVybiB7XG4gICAgICB0eXBlOiBpc1NldChvYmplY3QudHlwZSkgPyBtZXNzYWdlVHlwZUZyb21KU09OKG9iamVjdC50eXBlKSA6IDAsXG4gICAgICBmaWQ6IGlzU2V0KG9iamVjdC5maWQpID8gTnVtYmVyKG9iamVjdC5maWQpIDogMCxcbiAgICAgIHRpbWVzdGFtcDogaXNTZXQob2JqZWN0LnRpbWVzdGFtcCkgPyBOdW1iZXIob2JqZWN0LnRpbWVzdGFtcCkgOiAwLFxuICAgICAgbmV0d29yazogaXNTZXQob2JqZWN0Lm5ldHdvcmspID8gZmFyY2FzdGVyTmV0d29ya0Zyb21KU09OKG9iamVjdC5uZXR3b3JrKSA6IDAsXG4gICAgICBjYXN0QWRkQm9keTogaXNTZXQob2JqZWN0LmNhc3RBZGRCb2R5KSA/IENhc3RBZGRCb2R5LmZyb21KU09OKG9iamVjdC5jYXN0QWRkQm9keSkgOiB2b2lkIDAsXG4gICAgICBjYXN0UmVtb3ZlQm9keTogaXNTZXQob2JqZWN0LmNhc3RSZW1vdmVCb2R5KSA/IENhc3RSZW1vdmVCb2R5LmZyb21KU09OKG9iamVjdC5jYXN0UmVtb3ZlQm9keSkgOiB2b2lkIDAsXG4gICAgICByZWFjdGlvbkJvZHk6IGlzU2V0KG9iamVjdC5yZWFjdGlvbkJvZHkpID8gUmVhY3Rpb25Cb2R5LmZyb21KU09OKG9iamVjdC5yZWFjdGlvbkJvZHkpIDogdm9pZCAwLFxuICAgICAgdmVyaWZpY2F0aW9uQWRkQWRkcmVzc0JvZHk6IGlzU2V0KG9iamVjdC52ZXJpZmljYXRpb25BZGRBZGRyZXNzQm9keSkgPyBWZXJpZmljYXRpb25BZGRBZGRyZXNzQm9keS5mcm9tSlNPTihvYmplY3QudmVyaWZpY2F0aW9uQWRkQWRkcmVzc0JvZHkpIDogdm9pZCAwLFxuICAgICAgdmVyaWZpY2F0aW9uUmVtb3ZlQm9keTogaXNTZXQob2JqZWN0LnZlcmlmaWNhdGlvblJlbW92ZUJvZHkpID8gVmVyaWZpY2F0aW9uUmVtb3ZlQm9keS5mcm9tSlNPTihvYmplY3QudmVyaWZpY2F0aW9uUmVtb3ZlQm9keSkgOiB2b2lkIDAsXG4gICAgICB1c2VyRGF0YUJvZHk6IGlzU2V0KG9iamVjdC51c2VyRGF0YUJvZHkpID8gVXNlckRhdGFCb2R5LmZyb21KU09OKG9iamVjdC51c2VyRGF0YUJvZHkpIDogdm9pZCAwLFxuICAgICAgbGlua0JvZHk6IGlzU2V0KG9iamVjdC5saW5rQm9keSkgPyBMaW5rQm9keS5mcm9tSlNPTihvYmplY3QubGlua0JvZHkpIDogdm9pZCAwLFxuICAgICAgdXNlcm5hbWVQcm9vZkJvZHk6IGlzU2V0KG9iamVjdC51c2VybmFtZVByb29mQm9keSkgPyBVc2VyTmFtZVByb29mLmZyb21KU09OKG9iamVjdC51c2VybmFtZVByb29mQm9keSkgOiB2b2lkIDAsXG4gICAgICBmcmFtZUFjdGlvbkJvZHk6IGlzU2V0KG9iamVjdC5mcmFtZUFjdGlvbkJvZHkpID8gRnJhbWVBY3Rpb25Cb2R5LmZyb21KU09OKG9iamVjdC5mcmFtZUFjdGlvbkJvZHkpIDogdm9pZCAwXG4gICAgfTtcbiAgfSxcbiAgdG9KU09OKG1lc3NhZ2UpIHtcbiAgICBjb25zdCBvYmogPSB7fTtcbiAgICBtZXNzYWdlLnR5cGUgIT09IHZvaWQgMCAmJiAob2JqLnR5cGUgPSBtZXNzYWdlVHlwZVRvSlNPTihtZXNzYWdlLnR5cGUpKTtcbiAgICBtZXNzYWdlLmZpZCAhPT0gdm9pZCAwICYmIChvYmouZmlkID0gTWF0aC5yb3VuZChtZXNzYWdlLmZpZCkpO1xuICAgIG1lc3NhZ2UudGltZXN0YW1wICE9PSB2b2lkIDAgJiYgKG9iai50aW1lc3RhbXAgPSBNYXRoLnJvdW5kKG1lc3NhZ2UudGltZXN0YW1wKSk7XG4gICAgbWVzc2FnZS5uZXR3b3JrICE9PSB2b2lkIDAgJiYgKG9iai5uZXR3b3JrID0gZmFyY2FzdGVyTmV0d29ya1RvSlNPTihtZXNzYWdlLm5ldHdvcmspKTtcbiAgICBtZXNzYWdlLmNhc3RBZGRCb2R5ICE9PSB2b2lkIDAgJiYgKG9iai5jYXN0QWRkQm9keSA9IG1lc3NhZ2UuY2FzdEFkZEJvZHkgPyBDYXN0QWRkQm9keS50b0pTT04obWVzc2FnZS5jYXN0QWRkQm9keSkgOiB2b2lkIDApO1xuICAgIG1lc3NhZ2UuY2FzdFJlbW92ZUJvZHkgIT09IHZvaWQgMCAmJiAob2JqLmNhc3RSZW1vdmVCb2R5ID0gbWVzc2FnZS5jYXN0UmVtb3ZlQm9keSA/IENhc3RSZW1vdmVCb2R5LnRvSlNPTihtZXNzYWdlLmNhc3RSZW1vdmVCb2R5KSA6IHZvaWQgMCk7XG4gICAgbWVzc2FnZS5yZWFjdGlvbkJvZHkgIT09IHZvaWQgMCAmJiAob2JqLnJlYWN0aW9uQm9keSA9IG1lc3NhZ2UucmVhY3Rpb25Cb2R5ID8gUmVhY3Rpb25Cb2R5LnRvSlNPTihtZXNzYWdlLnJlYWN0aW9uQm9keSkgOiB2b2lkIDApO1xuICAgIG1lc3NhZ2UudmVyaWZpY2F0aW9uQWRkQWRkcmVzc0JvZHkgIT09IHZvaWQgMCAmJiAob2JqLnZlcmlmaWNhdGlvbkFkZEFkZHJlc3NCb2R5ID0gbWVzc2FnZS52ZXJpZmljYXRpb25BZGRBZGRyZXNzQm9keSA/IFZlcmlmaWNhdGlvbkFkZEFkZHJlc3NCb2R5LnRvSlNPTihtZXNzYWdlLnZlcmlmaWNhdGlvbkFkZEFkZHJlc3NCb2R5KSA6IHZvaWQgMCk7XG4gICAgbWVzc2FnZS52ZXJpZmljYXRpb25SZW1vdmVCb2R5ICE9PSB2b2lkIDAgJiYgKG9iai52ZXJpZmljYXRpb25SZW1vdmVCb2R5ID0gbWVzc2FnZS52ZXJpZmljYXRpb25SZW1vdmVCb2R5ID8gVmVyaWZpY2F0aW9uUmVtb3ZlQm9keS50b0pTT04obWVzc2FnZS52ZXJpZmljYXRpb25SZW1vdmVCb2R5KSA6IHZvaWQgMCk7XG4gICAgbWVzc2FnZS51c2VyRGF0YUJvZHkgIT09IHZvaWQgMCAmJiAob2JqLnVzZXJEYXRhQm9keSA9IG1lc3NhZ2UudXNlckRhdGFCb2R5ID8gVXNlckRhdGFCb2R5LnRvSlNPTihtZXNzYWdlLnVzZXJEYXRhQm9keSkgOiB2b2lkIDApO1xuICAgIG1lc3NhZ2UubGlua0JvZHkgIT09IHZvaWQgMCAmJiAob2JqLmxpbmtCb2R5ID0gbWVzc2FnZS5saW5rQm9keSA/IExpbmtCb2R5LnRvSlNPTihtZXNzYWdlLmxpbmtCb2R5KSA6IHZvaWQgMCk7XG4gICAgbWVzc2FnZS51c2VybmFtZVByb29mQm9keSAhPT0gdm9pZCAwICYmIChvYmoudXNlcm5hbWVQcm9vZkJvZHkgPSBtZXNzYWdlLnVzZXJuYW1lUHJvb2ZCb2R5ID8gVXNlck5hbWVQcm9vZi50b0pTT04obWVzc2FnZS51c2VybmFtZVByb29mQm9keSkgOiB2b2lkIDApO1xuICAgIG1lc3NhZ2UuZnJhbWVBY3Rpb25Cb2R5ICE9PSB2b2lkIDAgJiYgKG9iai5mcmFtZUFjdGlvbkJvZHkgPSBtZXNzYWdlLmZyYW1lQWN0aW9uQm9keSA/IEZyYW1lQWN0aW9uQm9keS50b0pTT04obWVzc2FnZS5mcmFtZUFjdGlvbkJvZHkpIDogdm9pZCAwKTtcbiAgICByZXR1cm4gb2JqO1xuICB9LFxuICBjcmVhdGUoYmFzZSkge1xuICAgIHJldHVybiBNZXNzYWdlRGF0YS5mcm9tUGFydGlhbChiYXNlID8/IHt9KTtcbiAgfSxcbiAgZnJvbVBhcnRpYWwob2JqZWN0KSB7XG4gICAgY29uc3QgbWVzc2FnZSA9IGNyZWF0ZUJhc2VNZXNzYWdlRGF0YSgpO1xuICAgIG1lc3NhZ2UudHlwZSA9IG9iamVjdC50eXBlID8/IDA7XG4gICAgbWVzc2FnZS5maWQgPSBvYmplY3QuZmlkID8/IDA7XG4gICAgbWVzc2FnZS50aW1lc3RhbXAgPSBvYmplY3QudGltZXN0YW1wID8/IDA7XG4gICAgbWVzc2FnZS5uZXR3b3JrID0gb2JqZWN0Lm5ldHdvcmsgPz8gMDtcbiAgICBtZXNzYWdlLmNhc3RBZGRCb2R5ID0gb2JqZWN0LmNhc3RBZGRCb2R5ICE9PSB2b2lkIDAgJiYgb2JqZWN0LmNhc3RBZGRCb2R5ICE9PSBudWxsID8gQ2FzdEFkZEJvZHkuZnJvbVBhcnRpYWwob2JqZWN0LmNhc3RBZGRCb2R5KSA6IHZvaWQgMDtcbiAgICBtZXNzYWdlLmNhc3RSZW1vdmVCb2R5ID0gb2JqZWN0LmNhc3RSZW1vdmVCb2R5ICE9PSB2b2lkIDAgJiYgb2JqZWN0LmNhc3RSZW1vdmVCb2R5ICE9PSBudWxsID8gQ2FzdFJlbW92ZUJvZHkuZnJvbVBhcnRpYWwob2JqZWN0LmNhc3RSZW1vdmVCb2R5KSA6IHZvaWQgMDtcbiAgICBtZXNzYWdlLnJlYWN0aW9uQm9keSA9IG9iamVjdC5yZWFjdGlvbkJvZHkgIT09IHZvaWQgMCAmJiBvYmplY3QucmVhY3Rpb25Cb2R5ICE9PSBudWxsID8gUmVhY3Rpb25Cb2R5LmZyb21QYXJ0aWFsKG9iamVjdC5yZWFjdGlvbkJvZHkpIDogdm9pZCAwO1xuICAgIG1lc3NhZ2UudmVyaWZpY2F0aW9uQWRkQWRkcmVzc0JvZHkgPSBvYmplY3QudmVyaWZpY2F0aW9uQWRkQWRkcmVzc0JvZHkgIT09IHZvaWQgMCAmJiBvYmplY3QudmVyaWZpY2F0aW9uQWRkQWRkcmVzc0JvZHkgIT09IG51bGwgPyBWZXJpZmljYXRpb25BZGRBZGRyZXNzQm9keS5mcm9tUGFydGlhbChcbiAgICAgIG9iamVjdC52ZXJpZmljYXRpb25BZGRBZGRyZXNzQm9keVxuICAgICkgOiB2b2lkIDA7XG4gICAgbWVzc2FnZS52ZXJpZmljYXRpb25SZW1vdmVCb2R5ID0gb2JqZWN0LnZlcmlmaWNhdGlvblJlbW92ZUJvZHkgIT09IHZvaWQgMCAmJiBvYmplY3QudmVyaWZpY2F0aW9uUmVtb3ZlQm9keSAhPT0gbnVsbCA/IFZlcmlmaWNhdGlvblJlbW92ZUJvZHkuZnJvbVBhcnRpYWwob2JqZWN0LnZlcmlmaWNhdGlvblJlbW92ZUJvZHkpIDogdm9pZCAwO1xuICAgIG1lc3NhZ2UudXNlckRhdGFCb2R5ID0gb2JqZWN0LnVzZXJEYXRhQm9keSAhPT0gdm9pZCAwICYmIG9iamVjdC51c2VyRGF0YUJvZHkgIT09IG51bGwgPyBVc2VyRGF0YUJvZHkuZnJvbVBhcnRpYWwob2JqZWN0LnVzZXJEYXRhQm9keSkgOiB2b2lkIDA7XG4gICAgbWVzc2FnZS5saW5rQm9keSA9IG9iamVjdC5saW5rQm9keSAhPT0gdm9pZCAwICYmIG9iamVjdC5saW5rQm9keSAhPT0gbnVsbCA/IExpbmtCb2R5LmZyb21QYXJ0aWFsKG9iamVjdC5saW5rQm9keSkgOiB2b2lkIDA7XG4gICAgbWVzc2FnZS51c2VybmFtZVByb29mQm9keSA9IG9iamVjdC51c2VybmFtZVByb29mQm9keSAhPT0gdm9pZCAwICYmIG9iamVjdC51c2VybmFtZVByb29mQm9keSAhPT0gbnVsbCA/IFVzZXJOYW1lUHJvb2YuZnJvbVBhcnRpYWwob2JqZWN0LnVzZXJuYW1lUHJvb2ZCb2R5KSA6IHZvaWQgMDtcbiAgICBtZXNzYWdlLmZyYW1lQWN0aW9uQm9keSA9IG9iamVjdC5mcmFtZUFjdGlvbkJvZHkgIT09IHZvaWQgMCAmJiBvYmplY3QuZnJhbWVBY3Rpb25Cb2R5ICE9PSBudWxsID8gRnJhbWVBY3Rpb25Cb2R5LmZyb21QYXJ0aWFsKG9iamVjdC5mcmFtZUFjdGlvbkJvZHkpIDogdm9pZCAwO1xuICAgIHJldHVybiBtZXNzYWdlO1xuICB9XG59O1xuZnVuY3Rpb24gY3JlYXRlQmFzZVVzZXJEYXRhQm9keSgpIHtcbiAgcmV0dXJuIHsgdHlwZTogMCwgdmFsdWU6IFwiXCIgfTtcbn1cbnZhciBVc2VyRGF0YUJvZHkgPSB7XG4gIGVuY29kZShtZXNzYWdlLCB3cml0ZXIgPSBfbTAuV3JpdGVyLmNyZWF0ZSgpKSB7XG4gICAgaWYgKG1lc3NhZ2UudHlwZSAhPT0gMCkge1xuICAgICAgd3JpdGVyLnVpbnQzMig4KS5pbnQzMihtZXNzYWdlLnR5cGUpO1xuICAgIH1cbiAgICBpZiAobWVzc2FnZS52YWx1ZSAhPT0gXCJcIikge1xuICAgICAgd3JpdGVyLnVpbnQzMigxOCkuc3RyaW5nKG1lc3NhZ2UudmFsdWUpO1xuICAgIH1cbiAgICByZXR1cm4gd3JpdGVyO1xuICB9LFxuICBkZWNvZGUoaW5wdXQsIGxlbmd0aCkge1xuICAgIGNvbnN0IHJlYWRlciA9IGlucHV0IGluc3RhbmNlb2YgX20wLlJlYWRlciA/IGlucHV0IDogX20wLlJlYWRlci5jcmVhdGUoaW5wdXQpO1xuICAgIGxldCBlbmQgPSBsZW5ndGggPT09IHZvaWQgMCA/IHJlYWRlci5sZW4gOiByZWFkZXIucG9zICsgbGVuZ3RoO1xuICAgIGNvbnN0IG1lc3NhZ2UgPSBjcmVhdGVCYXNlVXNlckRhdGFCb2R5KCk7XG4gICAgd2hpbGUgKHJlYWRlci5wb3MgPCBlbmQpIHtcbiAgICAgIGNvbnN0IHRhZyA9IHJlYWRlci51aW50MzIoKTtcbiAgICAgIHN3aXRjaCAodGFnID4+PiAzKSB7XG4gICAgICAgIGNhc2UgMTpcbiAgICAgICAgICBpZiAodGFnICE9IDgpIHtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgICBtZXNzYWdlLnR5cGUgPSByZWFkZXIuaW50MzIoKTtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgY2FzZSAyOlxuICAgICAgICAgIGlmICh0YWcgIT0gMTgpIHtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgICBtZXNzYWdlLnZhbHVlID0gcmVhZGVyLnN0cmluZygpO1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuICAgICAgaWYgKCh0YWcgJiA3KSA9PSA0IHx8IHRhZyA9PSAwKSB7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgcmVhZGVyLnNraXBUeXBlKHRhZyAmIDcpO1xuICAgIH1cbiAgICByZXR1cm4gbWVzc2FnZTtcbiAgfSxcbiAgZnJvbUpTT04ob2JqZWN0KSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHR5cGU6IGlzU2V0KG9iamVjdC50eXBlKSA/IHVzZXJEYXRhVHlwZUZyb21KU09OKG9iamVjdC50eXBlKSA6IDAsXG4gICAgICB2YWx1ZTogaXNTZXQob2JqZWN0LnZhbHVlKSA/IFN0cmluZyhvYmplY3QudmFsdWUpIDogXCJcIlxuICAgIH07XG4gIH0sXG4gIHRvSlNPTihtZXNzYWdlKSB7XG4gICAgY29uc3Qgb2JqID0ge307XG4gICAgbWVzc2FnZS50eXBlICE9PSB2b2lkIDAgJiYgKG9iai50eXBlID0gdXNlckRhdGFUeXBlVG9KU09OKG1lc3NhZ2UudHlwZSkpO1xuICAgIG1lc3NhZ2UudmFsdWUgIT09IHZvaWQgMCAmJiAob2JqLnZhbHVlID0gbWVzc2FnZS52YWx1ZSk7XG4gICAgcmV0dXJuIG9iajtcbiAgfSxcbiAgY3JlYXRlKGJhc2UpIHtcbiAgICByZXR1cm4gVXNlckRhdGFCb2R5LmZyb21QYXJ0aWFsKGJhc2UgPz8ge30pO1xuICB9LFxuICBmcm9tUGFydGlhbChvYmplY3QpIHtcbiAgICBjb25zdCBtZXNzYWdlID0gY3JlYXRlQmFzZVVzZXJEYXRhQm9keSgpO1xuICAgIG1lc3NhZ2UudHlwZSA9IG9iamVjdC50eXBlID8/IDA7XG4gICAgbWVzc2FnZS52YWx1ZSA9IG9iamVjdC52YWx1ZSA/PyBcIlwiO1xuICAgIHJldHVybiBtZXNzYWdlO1xuICB9XG59O1xuZnVuY3Rpb24gY3JlYXRlQmFzZUVtYmVkKCkge1xuICByZXR1cm4geyB1cmw6IHZvaWQgMCwgY2FzdElkOiB2b2lkIDAgfTtcbn1cbnZhciBFbWJlZCA9IHtcbiAgZW5jb2RlKG1lc3NhZ2UsIHdyaXRlciA9IF9tMC5Xcml0ZXIuY3JlYXRlKCkpIHtcbiAgICBpZiAobWVzc2FnZS51cmwgIT09IHZvaWQgMCkge1xuICAgICAgd3JpdGVyLnVpbnQzMigxMCkuc3RyaW5nKG1lc3NhZ2UudXJsKTtcbiAgICB9XG4gICAgaWYgKG1lc3NhZ2UuY2FzdElkICE9PSB2b2lkIDApIHtcbiAgICAgIENhc3RJZC5lbmNvZGUobWVzc2FnZS5jYXN0SWQsIHdyaXRlci51aW50MzIoMTgpLmZvcmsoKSkubGRlbGltKCk7XG4gICAgfVxuICAgIHJldHVybiB3cml0ZXI7XG4gIH0sXG4gIGRlY29kZShpbnB1dCwgbGVuZ3RoKSB7XG4gICAgY29uc3QgcmVhZGVyID0gaW5wdXQgaW5zdGFuY2VvZiBfbTAuUmVhZGVyID8gaW5wdXQgOiBfbTAuUmVhZGVyLmNyZWF0ZShpbnB1dCk7XG4gICAgbGV0IGVuZCA9IGxlbmd0aCA9PT0gdm9pZCAwID8gcmVhZGVyLmxlbiA6IHJlYWRlci5wb3MgKyBsZW5ndGg7XG4gICAgY29uc3QgbWVzc2FnZSA9IGNyZWF0ZUJhc2VFbWJlZCgpO1xuICAgIHdoaWxlIChyZWFkZXIucG9zIDwgZW5kKSB7XG4gICAgICBjb25zdCB0YWcgPSByZWFkZXIudWludDMyKCk7XG4gICAgICBzd2l0Y2ggKHRhZyA+Pj4gMykge1xuICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgaWYgKHRhZyAhPSAxMCkge1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICAgIG1lc3NhZ2UudXJsID0gcmVhZGVyLnN0cmluZygpO1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgaWYgKHRhZyAhPSAxOCkge1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICAgIG1lc3NhZ2UuY2FzdElkID0gQ2FzdElkLmRlY29kZShyZWFkZXIsIHJlYWRlci51aW50MzIoKSk7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICB9XG4gICAgICBpZiAoKHRhZyAmIDcpID09IDQgfHwgdGFnID09IDApIHtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICByZWFkZXIuc2tpcFR5cGUodGFnICYgNyk7XG4gICAgfVxuICAgIHJldHVybiBtZXNzYWdlO1xuICB9LFxuICBmcm9tSlNPTihvYmplY3QpIHtcbiAgICByZXR1cm4ge1xuICAgICAgdXJsOiBpc1NldChvYmplY3QudXJsKSA/IFN0cmluZyhvYmplY3QudXJsKSA6IHZvaWQgMCxcbiAgICAgIGNhc3RJZDogaXNTZXQob2JqZWN0LmNhc3RJZCkgPyBDYXN0SWQuZnJvbUpTT04ob2JqZWN0LmNhc3RJZCkgOiB2b2lkIDBcbiAgICB9O1xuICB9LFxuICB0b0pTT04obWVzc2FnZSkge1xuICAgIGNvbnN0IG9iaiA9IHt9O1xuICAgIG1lc3NhZ2UudXJsICE9PSB2b2lkIDAgJiYgKG9iai51cmwgPSBtZXNzYWdlLnVybCk7XG4gICAgbWVzc2FnZS5jYXN0SWQgIT09IHZvaWQgMCAmJiAob2JqLmNhc3RJZCA9IG1lc3NhZ2UuY2FzdElkID8gQ2FzdElkLnRvSlNPTihtZXNzYWdlLmNhc3RJZCkgOiB2b2lkIDApO1xuICAgIHJldHVybiBvYmo7XG4gIH0sXG4gIGNyZWF0ZShiYXNlKSB7XG4gICAgcmV0dXJuIEVtYmVkLmZyb21QYXJ0aWFsKGJhc2UgPz8ge30pO1xuICB9LFxuICBmcm9tUGFydGlhbChvYmplY3QpIHtcbiAgICBjb25zdCBtZXNzYWdlID0gY3JlYXRlQmFzZUVtYmVkKCk7XG4gICAgbWVzc2FnZS51cmwgPSBvYmplY3QudXJsID8/IHZvaWQgMDtcbiAgICBtZXNzYWdlLmNhc3RJZCA9IG9iamVjdC5jYXN0SWQgIT09IHZvaWQgMCAmJiBvYmplY3QuY2FzdElkICE9PSBudWxsID8gQ2FzdElkLmZyb21QYXJ0aWFsKG9iamVjdC5jYXN0SWQpIDogdm9pZCAwO1xuICAgIHJldHVybiBtZXNzYWdlO1xuICB9XG59O1xuZnVuY3Rpb24gY3JlYXRlQmFzZUNhc3RBZGRCb2R5KCkge1xuICByZXR1cm4ge1xuICAgIGVtYmVkc0RlcHJlY2F0ZWQ6IFtdLFxuICAgIG1lbnRpb25zOiBbXSxcbiAgICBwYXJlbnRDYXN0SWQ6IHZvaWQgMCxcbiAgICBwYXJlbnRVcmw6IHZvaWQgMCxcbiAgICB0ZXh0OiBcIlwiLFxuICAgIG1lbnRpb25zUG9zaXRpb25zOiBbXSxcbiAgICBlbWJlZHM6IFtdXG4gIH07XG59XG52YXIgQ2FzdEFkZEJvZHkgPSB7XG4gIGVuY29kZShtZXNzYWdlLCB3cml0ZXIgPSBfbTAuV3JpdGVyLmNyZWF0ZSgpKSB7XG4gICAgZm9yIChjb25zdCB2IG9mIG1lc3NhZ2UuZW1iZWRzRGVwcmVjYXRlZCkge1xuICAgICAgd3JpdGVyLnVpbnQzMigxMCkuc3RyaW5nKHYpO1xuICAgIH1cbiAgICB3cml0ZXIudWludDMyKDE4KS5mb3JrKCk7XG4gICAgZm9yIChjb25zdCB2IG9mIG1lc3NhZ2UubWVudGlvbnMpIHtcbiAgICAgIHdyaXRlci51aW50NjQodik7XG4gICAgfVxuICAgIHdyaXRlci5sZGVsaW0oKTtcbiAgICBpZiAobWVzc2FnZS5wYXJlbnRDYXN0SWQgIT09IHZvaWQgMCkge1xuICAgICAgQ2FzdElkLmVuY29kZShtZXNzYWdlLnBhcmVudENhc3RJZCwgd3JpdGVyLnVpbnQzMigyNikuZm9yaygpKS5sZGVsaW0oKTtcbiAgICB9XG4gICAgaWYgKG1lc3NhZ2UucGFyZW50VXJsICE9PSB2b2lkIDApIHtcbiAgICAgIHdyaXRlci51aW50MzIoNTgpLnN0cmluZyhtZXNzYWdlLnBhcmVudFVybCk7XG4gICAgfVxuICAgIGlmIChtZXNzYWdlLnRleHQgIT09IFwiXCIpIHtcbiAgICAgIHdyaXRlci51aW50MzIoMzQpLnN0cmluZyhtZXNzYWdlLnRleHQpO1xuICAgIH1cbiAgICB3cml0ZXIudWludDMyKDQyKS5mb3JrKCk7XG4gICAgZm9yIChjb25zdCB2IG9mIG1lc3NhZ2UubWVudGlvbnNQb3NpdGlvbnMpIHtcbiAgICAgIHdyaXRlci51aW50MzIodik7XG4gICAgfVxuICAgIHdyaXRlci5sZGVsaW0oKTtcbiAgICBmb3IgKGNvbnN0IHYgb2YgbWVzc2FnZS5lbWJlZHMpIHtcbiAgICAgIEVtYmVkLmVuY29kZSh2LCB3cml0ZXIudWludDMyKDUwKS5mb3JrKCkpLmxkZWxpbSgpO1xuICAgIH1cbiAgICByZXR1cm4gd3JpdGVyO1xuICB9LFxuICBkZWNvZGUoaW5wdXQsIGxlbmd0aCkge1xuICAgIGNvbnN0IHJlYWRlciA9IGlucHV0IGluc3RhbmNlb2YgX20wLlJlYWRlciA/IGlucHV0IDogX20wLlJlYWRlci5jcmVhdGUoaW5wdXQpO1xuICAgIGxldCBlbmQgPSBsZW5ndGggPT09IHZvaWQgMCA/IHJlYWRlci5sZW4gOiByZWFkZXIucG9zICsgbGVuZ3RoO1xuICAgIGNvbnN0IG1lc3NhZ2UgPSBjcmVhdGVCYXNlQ2FzdEFkZEJvZHkoKTtcbiAgICB3aGlsZSAocmVhZGVyLnBvcyA8IGVuZCkge1xuICAgICAgY29uc3QgdGFnID0gcmVhZGVyLnVpbnQzMigpO1xuICAgICAgc3dpdGNoICh0YWcgPj4+IDMpIHtcbiAgICAgICAgY2FzZSAxOlxuICAgICAgICAgIGlmICh0YWcgIT0gMTApIHtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgICBtZXNzYWdlLmVtYmVkc0RlcHJlY2F0ZWQucHVzaChyZWFkZXIuc3RyaW5nKCkpO1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgaWYgKHRhZyA9PSAxNikge1xuICAgICAgICAgICAgbWVzc2FnZS5tZW50aW9ucy5wdXNoKGxvbmdUb051bWJlcihyZWFkZXIudWludDY0KCkpKTtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAodGFnID09IDE4KSB7XG4gICAgICAgICAgICBjb25zdCBlbmQyID0gcmVhZGVyLnVpbnQzMigpICsgcmVhZGVyLnBvcztcbiAgICAgICAgICAgIHdoaWxlIChyZWFkZXIucG9zIDwgZW5kMikge1xuICAgICAgICAgICAgICBtZXNzYWdlLm1lbnRpb25zLnB1c2gobG9uZ1RvTnVtYmVyKHJlYWRlci51aW50NjQoKSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgfVxuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgaWYgKHRhZyAhPSAyNikge1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICAgIG1lc3NhZ2UucGFyZW50Q2FzdElkID0gQ2FzdElkLmRlY29kZShyZWFkZXIsIHJlYWRlci51aW50MzIoKSk7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIGNhc2UgNzpcbiAgICAgICAgICBpZiAodGFnICE9IDU4KSB7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgICAgbWVzc2FnZS5wYXJlbnRVcmwgPSByZWFkZXIuc3RyaW5nKCk7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIGNhc2UgNDpcbiAgICAgICAgICBpZiAodGFnICE9IDM0KSB7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgICAgbWVzc2FnZS50ZXh0ID0gcmVhZGVyLnN0cmluZygpO1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICBjYXNlIDU6XG4gICAgICAgICAgaWYgKHRhZyA9PSA0MCkge1xuICAgICAgICAgICAgbWVzc2FnZS5tZW50aW9uc1Bvc2l0aW9ucy5wdXNoKHJlYWRlci51aW50MzIoKSk7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKHRhZyA9PSA0Mikge1xuICAgICAgICAgICAgY29uc3QgZW5kMiA9IHJlYWRlci51aW50MzIoKSArIHJlYWRlci5wb3M7XG4gICAgICAgICAgICB3aGlsZSAocmVhZGVyLnBvcyA8IGVuZDIpIHtcbiAgICAgICAgICAgICAgbWVzc2FnZS5tZW50aW9uc1Bvc2l0aW9ucy5wdXNoKHJlYWRlci51aW50MzIoKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICB9XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgNjpcbiAgICAgICAgICBpZiAodGFnICE9IDUwKSB7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgICAgbWVzc2FnZS5lbWJlZHMucHVzaChFbWJlZC5kZWNvZGUocmVhZGVyLCByZWFkZXIudWludDMyKCkpKTtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cbiAgICAgIGlmICgodGFnICYgNykgPT0gNCB8fCB0YWcgPT0gMCkge1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIHJlYWRlci5za2lwVHlwZSh0YWcgJiA3KTtcbiAgICB9XG4gICAgcmV0dXJuIG1lc3NhZ2U7XG4gIH0sXG4gIGZyb21KU09OKG9iamVjdCkge1xuICAgIHJldHVybiB7XG4gICAgICBlbWJlZHNEZXByZWNhdGVkOiBBcnJheS5pc0FycmF5KG9iamVjdD8uZW1iZWRzRGVwcmVjYXRlZCkgPyBvYmplY3QuZW1iZWRzRGVwcmVjYXRlZC5tYXAoKGUpID0+IFN0cmluZyhlKSkgOiBbXSxcbiAgICAgIG1lbnRpb25zOiBBcnJheS5pc0FycmF5KG9iamVjdD8ubWVudGlvbnMpID8gb2JqZWN0Lm1lbnRpb25zLm1hcCgoZSkgPT4gTnVtYmVyKGUpKSA6IFtdLFxuICAgICAgcGFyZW50Q2FzdElkOiBpc1NldChvYmplY3QucGFyZW50Q2FzdElkKSA/IENhc3RJZC5mcm9tSlNPTihvYmplY3QucGFyZW50Q2FzdElkKSA6IHZvaWQgMCxcbiAgICAgIHBhcmVudFVybDogaXNTZXQob2JqZWN0LnBhcmVudFVybCkgPyBTdHJpbmcob2JqZWN0LnBhcmVudFVybCkgOiB2b2lkIDAsXG4gICAgICB0ZXh0OiBpc1NldChvYmplY3QudGV4dCkgPyBTdHJpbmcob2JqZWN0LnRleHQpIDogXCJcIixcbiAgICAgIG1lbnRpb25zUG9zaXRpb25zOiBBcnJheS5pc0FycmF5KG9iamVjdD8ubWVudGlvbnNQb3NpdGlvbnMpID8gb2JqZWN0Lm1lbnRpb25zUG9zaXRpb25zLm1hcCgoZSkgPT4gTnVtYmVyKGUpKSA6IFtdLFxuICAgICAgZW1iZWRzOiBBcnJheS5pc0FycmF5KG9iamVjdD8uZW1iZWRzKSA/IG9iamVjdC5lbWJlZHMubWFwKChlKSA9PiBFbWJlZC5mcm9tSlNPTihlKSkgOiBbXVxuICAgIH07XG4gIH0sXG4gIHRvSlNPTihtZXNzYWdlKSB7XG4gICAgY29uc3Qgb2JqID0ge307XG4gICAgaWYgKG1lc3NhZ2UuZW1iZWRzRGVwcmVjYXRlZCkge1xuICAgICAgb2JqLmVtYmVkc0RlcHJlY2F0ZWQgPSBtZXNzYWdlLmVtYmVkc0RlcHJlY2F0ZWQubWFwKChlKSA9PiBlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgb2JqLmVtYmVkc0RlcHJlY2F0ZWQgPSBbXTtcbiAgICB9XG4gICAgaWYgKG1lc3NhZ2UubWVudGlvbnMpIHtcbiAgICAgIG9iai5tZW50aW9ucyA9IG1lc3NhZ2UubWVudGlvbnMubWFwKChlKSA9PiBNYXRoLnJvdW5kKGUpKTtcbiAgICB9IGVsc2Uge1xuICAgICAgb2JqLm1lbnRpb25zID0gW107XG4gICAgfVxuICAgIG1lc3NhZ2UucGFyZW50Q2FzdElkICE9PSB2b2lkIDAgJiYgKG9iai5wYXJlbnRDYXN0SWQgPSBtZXNzYWdlLnBhcmVudENhc3RJZCA/IENhc3RJZC50b0pTT04obWVzc2FnZS5wYXJlbnRDYXN0SWQpIDogdm9pZCAwKTtcbiAgICBtZXNzYWdlLnBhcmVudFVybCAhPT0gdm9pZCAwICYmIChvYmoucGFyZW50VXJsID0gbWVzc2FnZS5wYXJlbnRVcmwpO1xuICAgIG1lc3NhZ2UudGV4dCAhPT0gdm9pZCAwICYmIChvYmoudGV4dCA9IG1lc3NhZ2UudGV4dCk7XG4gICAgaWYgKG1lc3NhZ2UubWVudGlvbnNQb3NpdGlvbnMpIHtcbiAgICAgIG9iai5tZW50aW9uc1Bvc2l0aW9ucyA9IG1lc3NhZ2UubWVudGlvbnNQb3NpdGlvbnMubWFwKFxuICAgICAgICAoZSkgPT4gTWF0aC5yb3VuZChlKVxuICAgICAgKTtcbiAgICB9IGVsc2Uge1xuICAgICAgb2JqLm1lbnRpb25zUG9zaXRpb25zID0gW107XG4gICAgfVxuICAgIGlmIChtZXNzYWdlLmVtYmVkcykge1xuICAgICAgb2JqLmVtYmVkcyA9IG1lc3NhZ2UuZW1iZWRzLm1hcCgoZSkgPT4gZSA/IEVtYmVkLnRvSlNPTihlKSA6IHZvaWQgMCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIG9iai5lbWJlZHMgPSBbXTtcbiAgICB9XG4gICAgcmV0dXJuIG9iajtcbiAgfSxcbiAgY3JlYXRlKGJhc2UpIHtcbiAgICByZXR1cm4gQ2FzdEFkZEJvZHkuZnJvbVBhcnRpYWwoYmFzZSA/PyB7fSk7XG4gIH0sXG4gIGZyb21QYXJ0aWFsKG9iamVjdCkge1xuICAgIGNvbnN0IG1lc3NhZ2UgPSBjcmVhdGVCYXNlQ2FzdEFkZEJvZHkoKTtcbiAgICBtZXNzYWdlLmVtYmVkc0RlcHJlY2F0ZWQgPSBvYmplY3QuZW1iZWRzRGVwcmVjYXRlZD8ubWFwKChlKSA9PiBlKSB8fCBbXTtcbiAgICBtZXNzYWdlLm1lbnRpb25zID0gb2JqZWN0Lm1lbnRpb25zPy5tYXAoKGUpID0+IGUpIHx8IFtdO1xuICAgIG1lc3NhZ2UucGFyZW50Q2FzdElkID0gb2JqZWN0LnBhcmVudENhc3RJZCAhPT0gdm9pZCAwICYmIG9iamVjdC5wYXJlbnRDYXN0SWQgIT09IG51bGwgPyBDYXN0SWQuZnJvbVBhcnRpYWwob2JqZWN0LnBhcmVudENhc3RJZCkgOiB2b2lkIDA7XG4gICAgbWVzc2FnZS5wYXJlbnRVcmwgPSBvYmplY3QucGFyZW50VXJsID8/IHZvaWQgMDtcbiAgICBtZXNzYWdlLnRleHQgPSBvYmplY3QudGV4dCA/PyBcIlwiO1xuICAgIG1lc3NhZ2UubWVudGlvbnNQb3NpdGlvbnMgPSBvYmplY3QubWVudGlvbnNQb3NpdGlvbnM/Lm1hcCgoZSkgPT4gZSkgfHwgW107XG4gICAgbWVzc2FnZS5lbWJlZHMgPSBvYmplY3QuZW1iZWRzPy5tYXAoKGUpID0+IEVtYmVkLmZyb21QYXJ0aWFsKGUpKSB8fCBbXTtcbiAgICByZXR1cm4gbWVzc2FnZTtcbiAgfVxufTtcbmZ1bmN0aW9uIGNyZWF0ZUJhc2VDYXN0UmVtb3ZlQm9keSgpIHtcbiAgcmV0dXJuIHsgdGFyZ2V0SGFzaDogbmV3IFVpbnQ4QXJyYXkoKSB9O1xufVxudmFyIENhc3RSZW1vdmVCb2R5ID0ge1xuICBlbmNvZGUobWVzc2FnZSwgd3JpdGVyID0gX20wLldyaXRlci5jcmVhdGUoKSkge1xuICAgIGlmIChtZXNzYWdlLnRhcmdldEhhc2gubGVuZ3RoICE9PSAwKSB7XG4gICAgICB3cml0ZXIudWludDMyKDEwKS5ieXRlcyhtZXNzYWdlLnRhcmdldEhhc2gpO1xuICAgIH1cbiAgICByZXR1cm4gd3JpdGVyO1xuICB9LFxuICBkZWNvZGUoaW5wdXQsIGxlbmd0aCkge1xuICAgIGNvbnN0IHJlYWRlciA9IGlucHV0IGluc3RhbmNlb2YgX20wLlJlYWRlciA/IGlucHV0IDogX20wLlJlYWRlci5jcmVhdGUoaW5wdXQpO1xuICAgIGxldCBlbmQgPSBsZW5ndGggPT09IHZvaWQgMCA/IHJlYWRlci5sZW4gOiByZWFkZXIucG9zICsgbGVuZ3RoO1xuICAgIGNvbnN0IG1lc3NhZ2UgPSBjcmVhdGVCYXNlQ2FzdFJlbW92ZUJvZHkoKTtcbiAgICB3aGlsZSAocmVhZGVyLnBvcyA8IGVuZCkge1xuICAgICAgY29uc3QgdGFnID0gcmVhZGVyLnVpbnQzMigpO1xuICAgICAgc3dpdGNoICh0YWcgPj4+IDMpIHtcbiAgICAgICAgY2FzZSAxOlxuICAgICAgICAgIGlmICh0YWcgIT0gMTApIHtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgICBtZXNzYWdlLnRhcmdldEhhc2ggPSByZWFkZXIuYnl0ZXMoKTtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cbiAgICAgIGlmICgodGFnICYgNykgPT0gNCB8fCB0YWcgPT0gMCkge1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIHJlYWRlci5za2lwVHlwZSh0YWcgJiA3KTtcbiAgICB9XG4gICAgcmV0dXJuIG1lc3NhZ2U7XG4gIH0sXG4gIGZyb21KU09OKG9iamVjdCkge1xuICAgIHJldHVybiB7XG4gICAgICB0YXJnZXRIYXNoOiBpc1NldChvYmplY3QudGFyZ2V0SGFzaCkgPyBieXRlc0Zyb21CYXNlNjQob2JqZWN0LnRhcmdldEhhc2gpIDogbmV3IFVpbnQ4QXJyYXkoKVxuICAgIH07XG4gIH0sXG4gIHRvSlNPTihtZXNzYWdlKSB7XG4gICAgY29uc3Qgb2JqID0ge307XG4gICAgbWVzc2FnZS50YXJnZXRIYXNoICE9PSB2b2lkIDAgJiYgKG9iai50YXJnZXRIYXNoID0gYmFzZTY0RnJvbUJ5dGVzKFxuICAgICAgbWVzc2FnZS50YXJnZXRIYXNoICE9PSB2b2lkIDAgPyBtZXNzYWdlLnRhcmdldEhhc2ggOiBuZXcgVWludDhBcnJheSgpXG4gICAgKSk7XG4gICAgcmV0dXJuIG9iajtcbiAgfSxcbiAgY3JlYXRlKGJhc2UpIHtcbiAgICByZXR1cm4gQ2FzdFJlbW92ZUJvZHkuZnJvbVBhcnRpYWwoYmFzZSA/PyB7fSk7XG4gIH0sXG4gIGZyb21QYXJ0aWFsKG9iamVjdCkge1xuICAgIGNvbnN0IG1lc3NhZ2UgPSBjcmVhdGVCYXNlQ2FzdFJlbW92ZUJvZHkoKTtcbiAgICBtZXNzYWdlLnRhcmdldEhhc2ggPSBvYmplY3QudGFyZ2V0SGFzaCA/PyBuZXcgVWludDhBcnJheSgpO1xuICAgIHJldHVybiBtZXNzYWdlO1xuICB9XG59O1xuZnVuY3Rpb24gY3JlYXRlQmFzZUNhc3RJZCgpIHtcbiAgcmV0dXJuIHsgZmlkOiAwLCBoYXNoOiBuZXcgVWludDhBcnJheSgpIH07XG59XG52YXIgQ2FzdElkID0ge1xuICBlbmNvZGUobWVzc2FnZSwgd3JpdGVyID0gX20wLldyaXRlci5jcmVhdGUoKSkge1xuICAgIGlmIChtZXNzYWdlLmZpZCAhPT0gMCkge1xuICAgICAgd3JpdGVyLnVpbnQzMig4KS51aW50NjQobWVzc2FnZS5maWQpO1xuICAgIH1cbiAgICBpZiAobWVzc2FnZS5oYXNoLmxlbmd0aCAhPT0gMCkge1xuICAgICAgd3JpdGVyLnVpbnQzMigxOCkuYnl0ZXMobWVzc2FnZS5oYXNoKTtcbiAgICB9XG4gICAgcmV0dXJuIHdyaXRlcjtcbiAgfSxcbiAgZGVjb2RlKGlucHV0LCBsZW5ndGgpIHtcbiAgICBjb25zdCByZWFkZXIgPSBpbnB1dCBpbnN0YW5jZW9mIF9tMC5SZWFkZXIgPyBpbnB1dCA6IF9tMC5SZWFkZXIuY3JlYXRlKGlucHV0KTtcbiAgICBsZXQgZW5kID0gbGVuZ3RoID09PSB2b2lkIDAgPyByZWFkZXIubGVuIDogcmVhZGVyLnBvcyArIGxlbmd0aDtcbiAgICBjb25zdCBtZXNzYWdlID0gY3JlYXRlQmFzZUNhc3RJZCgpO1xuICAgIHdoaWxlIChyZWFkZXIucG9zIDwgZW5kKSB7XG4gICAgICBjb25zdCB0YWcgPSByZWFkZXIudWludDMyKCk7XG4gICAgICBzd2l0Y2ggKHRhZyA+Pj4gMykge1xuICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgaWYgKHRhZyAhPSA4KSB7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgICAgbWVzc2FnZS5maWQgPSBsb25nVG9OdW1iZXIocmVhZGVyLnVpbnQ2NCgpKTtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgY2FzZSAyOlxuICAgICAgICAgIGlmICh0YWcgIT0gMTgpIHtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgICBtZXNzYWdlLmhhc2ggPSByZWFkZXIuYnl0ZXMoKTtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cbiAgICAgIGlmICgodGFnICYgNykgPT0gNCB8fCB0YWcgPT0gMCkge1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIHJlYWRlci5za2lwVHlwZSh0YWcgJiA3KTtcbiAgICB9XG4gICAgcmV0dXJuIG1lc3NhZ2U7XG4gIH0sXG4gIGZyb21KU09OKG9iamVjdCkge1xuICAgIHJldHVybiB7XG4gICAgICBmaWQ6IGlzU2V0KG9iamVjdC5maWQpID8gTnVtYmVyKG9iamVjdC5maWQpIDogMCxcbiAgICAgIGhhc2g6IGlzU2V0KG9iamVjdC5oYXNoKSA/IGJ5dGVzRnJvbUJhc2U2NChvYmplY3QuaGFzaCkgOiBuZXcgVWludDhBcnJheSgpXG4gICAgfTtcbiAgfSxcbiAgdG9KU09OKG1lc3NhZ2UpIHtcbiAgICBjb25zdCBvYmogPSB7fTtcbiAgICBtZXNzYWdlLmZpZCAhPT0gdm9pZCAwICYmIChvYmouZmlkID0gTWF0aC5yb3VuZChtZXNzYWdlLmZpZCkpO1xuICAgIG1lc3NhZ2UuaGFzaCAhPT0gdm9pZCAwICYmIChvYmouaGFzaCA9IGJhc2U2NEZyb21CeXRlcyhcbiAgICAgIG1lc3NhZ2UuaGFzaCAhPT0gdm9pZCAwID8gbWVzc2FnZS5oYXNoIDogbmV3IFVpbnQ4QXJyYXkoKVxuICAgICkpO1xuICAgIHJldHVybiBvYmo7XG4gIH0sXG4gIGNyZWF0ZShiYXNlKSB7XG4gICAgcmV0dXJuIENhc3RJZC5mcm9tUGFydGlhbChiYXNlID8/IHt9KTtcbiAgfSxcbiAgZnJvbVBhcnRpYWwob2JqZWN0KSB7XG4gICAgY29uc3QgbWVzc2FnZSA9IGNyZWF0ZUJhc2VDYXN0SWQoKTtcbiAgICBtZXNzYWdlLmZpZCA9IG9iamVjdC5maWQgPz8gMDtcbiAgICBtZXNzYWdlLmhhc2ggPSBvYmplY3QuaGFzaCA/PyBuZXcgVWludDhBcnJheSgpO1xuICAgIHJldHVybiBtZXNzYWdlO1xuICB9XG59O1xuZnVuY3Rpb24gY3JlYXRlQmFzZVJlYWN0aW9uQm9keSgpIHtcbiAgcmV0dXJuIHsgdHlwZTogMCwgdGFyZ2V0Q2FzdElkOiB2b2lkIDAsIHRhcmdldFVybDogdm9pZCAwIH07XG59XG52YXIgUmVhY3Rpb25Cb2R5ID0ge1xuICBlbmNvZGUobWVzc2FnZSwgd3JpdGVyID0gX20wLldyaXRlci5jcmVhdGUoKSkge1xuICAgIGlmIChtZXNzYWdlLnR5cGUgIT09IDApIHtcbiAgICAgIHdyaXRlci51aW50MzIoOCkuaW50MzIobWVzc2FnZS50eXBlKTtcbiAgICB9XG4gICAgaWYgKG1lc3NhZ2UudGFyZ2V0Q2FzdElkICE9PSB2b2lkIDApIHtcbiAgICAgIENhc3RJZC5lbmNvZGUobWVzc2FnZS50YXJnZXRDYXN0SWQsIHdyaXRlci51aW50MzIoMTgpLmZvcmsoKSkubGRlbGltKCk7XG4gICAgfVxuICAgIGlmIChtZXNzYWdlLnRhcmdldFVybCAhPT0gdm9pZCAwKSB7XG4gICAgICB3cml0ZXIudWludDMyKDI2KS5zdHJpbmcobWVzc2FnZS50YXJnZXRVcmwpO1xuICAgIH1cbiAgICByZXR1cm4gd3JpdGVyO1xuICB9LFxuICBkZWNvZGUoaW5wdXQsIGxlbmd0aCkge1xuICAgIGNvbnN0IHJlYWRlciA9IGlucHV0IGluc3RhbmNlb2YgX20wLlJlYWRlciA/IGlucHV0IDogX20wLlJlYWRlci5jcmVhdGUoaW5wdXQpO1xuICAgIGxldCBlbmQgPSBsZW5ndGggPT09IHZvaWQgMCA/IHJlYWRlci5sZW4gOiByZWFkZXIucG9zICsgbGVuZ3RoO1xuICAgIGNvbnN0IG1lc3NhZ2UgPSBjcmVhdGVCYXNlUmVhY3Rpb25Cb2R5KCk7XG4gICAgd2hpbGUgKHJlYWRlci5wb3MgPCBlbmQpIHtcbiAgICAgIGNvbnN0IHRhZyA9IHJlYWRlci51aW50MzIoKTtcbiAgICAgIHN3aXRjaCAodGFnID4+PiAzKSB7XG4gICAgICAgIGNhc2UgMTpcbiAgICAgICAgICBpZiAodGFnICE9IDgpIHtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgICBtZXNzYWdlLnR5cGUgPSByZWFkZXIuaW50MzIoKTtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgY2FzZSAyOlxuICAgICAgICAgIGlmICh0YWcgIT0gMTgpIHtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgICBtZXNzYWdlLnRhcmdldENhc3RJZCA9IENhc3RJZC5kZWNvZGUocmVhZGVyLCByZWFkZXIudWludDMyKCkpO1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgaWYgKHRhZyAhPSAyNikge1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICAgIG1lc3NhZ2UudGFyZ2V0VXJsID0gcmVhZGVyLnN0cmluZygpO1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuICAgICAgaWYgKCh0YWcgJiA3KSA9PSA0IHx8IHRhZyA9PSAwKSB7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgcmVhZGVyLnNraXBUeXBlKHRhZyAmIDcpO1xuICAgIH1cbiAgICByZXR1cm4gbWVzc2FnZTtcbiAgfSxcbiAgZnJvbUpTT04ob2JqZWN0KSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHR5cGU6IGlzU2V0KG9iamVjdC50eXBlKSA/IHJlYWN0aW9uVHlwZUZyb21KU09OKG9iamVjdC50eXBlKSA6IDAsXG4gICAgICB0YXJnZXRDYXN0SWQ6IGlzU2V0KG9iamVjdC50YXJnZXRDYXN0SWQpID8gQ2FzdElkLmZyb21KU09OKG9iamVjdC50YXJnZXRDYXN0SWQpIDogdm9pZCAwLFxuICAgICAgdGFyZ2V0VXJsOiBpc1NldChvYmplY3QudGFyZ2V0VXJsKSA/IFN0cmluZyhvYmplY3QudGFyZ2V0VXJsKSA6IHZvaWQgMFxuICAgIH07XG4gIH0sXG4gIHRvSlNPTihtZXNzYWdlKSB7XG4gICAgY29uc3Qgb2JqID0ge307XG4gICAgbWVzc2FnZS50eXBlICE9PSB2b2lkIDAgJiYgKG9iai50eXBlID0gcmVhY3Rpb25UeXBlVG9KU09OKG1lc3NhZ2UudHlwZSkpO1xuICAgIG1lc3NhZ2UudGFyZ2V0Q2FzdElkICE9PSB2b2lkIDAgJiYgKG9iai50YXJnZXRDYXN0SWQgPSBtZXNzYWdlLnRhcmdldENhc3RJZCA/IENhc3RJZC50b0pTT04obWVzc2FnZS50YXJnZXRDYXN0SWQpIDogdm9pZCAwKTtcbiAgICBtZXNzYWdlLnRhcmdldFVybCAhPT0gdm9pZCAwICYmIChvYmoudGFyZ2V0VXJsID0gbWVzc2FnZS50YXJnZXRVcmwpO1xuICAgIHJldHVybiBvYmo7XG4gIH0sXG4gIGNyZWF0ZShiYXNlKSB7XG4gICAgcmV0dXJuIFJlYWN0aW9uQm9keS5mcm9tUGFydGlhbChiYXNlID8/IHt9KTtcbiAgfSxcbiAgZnJvbVBhcnRpYWwob2JqZWN0KSB7XG4gICAgY29uc3QgbWVzc2FnZSA9IGNyZWF0ZUJhc2VSZWFjdGlvbkJvZHkoKTtcbiAgICBtZXNzYWdlLnR5cGUgPSBvYmplY3QudHlwZSA/PyAwO1xuICAgIG1lc3NhZ2UudGFyZ2V0Q2FzdElkID0gb2JqZWN0LnRhcmdldENhc3RJZCAhPT0gdm9pZCAwICYmIG9iamVjdC50YXJnZXRDYXN0SWQgIT09IG51bGwgPyBDYXN0SWQuZnJvbVBhcnRpYWwob2JqZWN0LnRhcmdldENhc3RJZCkgOiB2b2lkIDA7XG4gICAgbWVzc2FnZS50YXJnZXRVcmwgPSBvYmplY3QudGFyZ2V0VXJsID8/IHZvaWQgMDtcbiAgICByZXR1cm4gbWVzc2FnZTtcbiAgfVxufTtcbmZ1bmN0aW9uIGNyZWF0ZUJhc2VWZXJpZmljYXRpb25BZGRBZGRyZXNzQm9keSgpIHtcbiAgcmV0dXJuIHtcbiAgICBhZGRyZXNzOiBuZXcgVWludDhBcnJheSgpLFxuICAgIGNsYWltU2lnbmF0dXJlOiBuZXcgVWludDhBcnJheSgpLFxuICAgIGJsb2NrSGFzaDogbmV3IFVpbnQ4QXJyYXkoKSxcbiAgICB2ZXJpZmljYXRpb25UeXBlOiAwLFxuICAgIGNoYWluSWQ6IDAsXG4gICAgcHJvdG9jb2w6IDBcbiAgfTtcbn1cbnZhciBWZXJpZmljYXRpb25BZGRBZGRyZXNzQm9keSA9IHtcbiAgZW5jb2RlKG1lc3NhZ2UsIHdyaXRlciA9IF9tMC5Xcml0ZXIuY3JlYXRlKCkpIHtcbiAgICBpZiAobWVzc2FnZS5hZGRyZXNzLmxlbmd0aCAhPT0gMCkge1xuICAgICAgd3JpdGVyLnVpbnQzMigxMCkuYnl0ZXMobWVzc2FnZS5hZGRyZXNzKTtcbiAgICB9XG4gICAgaWYgKG1lc3NhZ2UuY2xhaW1TaWduYXR1cmUubGVuZ3RoICE9PSAwKSB7XG4gICAgICB3cml0ZXIudWludDMyKDE4KS5ieXRlcyhtZXNzYWdlLmNsYWltU2lnbmF0dXJlKTtcbiAgICB9XG4gICAgaWYgKG1lc3NhZ2UuYmxvY2tIYXNoLmxlbmd0aCAhPT0gMCkge1xuICAgICAgd3JpdGVyLnVpbnQzMigyNikuYnl0ZXMobWVzc2FnZS5ibG9ja0hhc2gpO1xuICAgIH1cbiAgICBpZiAobWVzc2FnZS52ZXJpZmljYXRpb25UeXBlICE9PSAwKSB7XG4gICAgICB3cml0ZXIudWludDMyKDMyKS51aW50MzIobWVzc2FnZS52ZXJpZmljYXRpb25UeXBlKTtcbiAgICB9XG4gICAgaWYgKG1lc3NhZ2UuY2hhaW5JZCAhPT0gMCkge1xuICAgICAgd3JpdGVyLnVpbnQzMig0MCkudWludDMyKG1lc3NhZ2UuY2hhaW5JZCk7XG4gICAgfVxuICAgIGlmIChtZXNzYWdlLnByb3RvY29sICE9PSAwKSB7XG4gICAgICB3cml0ZXIudWludDMyKDU2KS5pbnQzMihtZXNzYWdlLnByb3RvY29sKTtcbiAgICB9XG4gICAgcmV0dXJuIHdyaXRlcjtcbiAgfSxcbiAgZGVjb2RlKGlucHV0LCBsZW5ndGgpIHtcbiAgICBjb25zdCByZWFkZXIgPSBpbnB1dCBpbnN0YW5jZW9mIF9tMC5SZWFkZXIgPyBpbnB1dCA6IF9tMC5SZWFkZXIuY3JlYXRlKGlucHV0KTtcbiAgICBsZXQgZW5kID0gbGVuZ3RoID09PSB2b2lkIDAgPyByZWFkZXIubGVuIDogcmVhZGVyLnBvcyArIGxlbmd0aDtcbiAgICBjb25zdCBtZXNzYWdlID0gY3JlYXRlQmFzZVZlcmlmaWNhdGlvbkFkZEFkZHJlc3NCb2R5KCk7XG4gICAgd2hpbGUgKHJlYWRlci5wb3MgPCBlbmQpIHtcbiAgICAgIGNvbnN0IHRhZyA9IHJlYWRlci51aW50MzIoKTtcbiAgICAgIHN3aXRjaCAodGFnID4+PiAzKSB7XG4gICAgICAgIGNhc2UgMTpcbiAgICAgICAgICBpZiAodGFnICE9IDEwKSB7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgICAgbWVzc2FnZS5hZGRyZXNzID0gcmVhZGVyLmJ5dGVzKCk7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIGNhc2UgMjpcbiAgICAgICAgICBpZiAodGFnICE9IDE4KSB7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgICAgbWVzc2FnZS5jbGFpbVNpZ25hdHVyZSA9IHJlYWRlci5ieXRlcygpO1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgaWYgKHRhZyAhPSAyNikge1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICAgIG1lc3NhZ2UuYmxvY2tIYXNoID0gcmVhZGVyLmJ5dGVzKCk7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIGNhc2UgNDpcbiAgICAgICAgICBpZiAodGFnICE9IDMyKSB7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgICAgbWVzc2FnZS52ZXJpZmljYXRpb25UeXBlID0gcmVhZGVyLnVpbnQzMigpO1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICBjYXNlIDU6XG4gICAgICAgICAgaWYgKHRhZyAhPSA0MCkge1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICAgIG1lc3NhZ2UuY2hhaW5JZCA9IHJlYWRlci51aW50MzIoKTtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgY2FzZSA3OlxuICAgICAgICAgIGlmICh0YWcgIT0gNTYpIHtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgICBtZXNzYWdlLnByb3RvY29sID0gcmVhZGVyLmludDMyKCk7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICB9XG4gICAgICBpZiAoKHRhZyAmIDcpID09IDQgfHwgdGFnID09IDApIHtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICByZWFkZXIuc2tpcFR5cGUodGFnICYgNyk7XG4gICAgfVxuICAgIHJldHVybiBtZXNzYWdlO1xuICB9LFxuICBmcm9tSlNPTihvYmplY3QpIHtcbiAgICByZXR1cm4ge1xuICAgICAgYWRkcmVzczogaXNTZXQob2JqZWN0LmFkZHJlc3MpID8gYnl0ZXNGcm9tQmFzZTY0KG9iamVjdC5hZGRyZXNzKSA6IG5ldyBVaW50OEFycmF5KCksXG4gICAgICBjbGFpbVNpZ25hdHVyZTogaXNTZXQob2JqZWN0LmNsYWltU2lnbmF0dXJlKSA/IGJ5dGVzRnJvbUJhc2U2NChvYmplY3QuY2xhaW1TaWduYXR1cmUpIDogbmV3IFVpbnQ4QXJyYXkoKSxcbiAgICAgIGJsb2NrSGFzaDogaXNTZXQob2JqZWN0LmJsb2NrSGFzaCkgPyBieXRlc0Zyb21CYXNlNjQob2JqZWN0LmJsb2NrSGFzaCkgOiBuZXcgVWludDhBcnJheSgpLFxuICAgICAgdmVyaWZpY2F0aW9uVHlwZTogaXNTZXQob2JqZWN0LnZlcmlmaWNhdGlvblR5cGUpID8gTnVtYmVyKG9iamVjdC52ZXJpZmljYXRpb25UeXBlKSA6IDAsXG4gICAgICBjaGFpbklkOiBpc1NldChvYmplY3QuY2hhaW5JZCkgPyBOdW1iZXIob2JqZWN0LmNoYWluSWQpIDogMCxcbiAgICAgIHByb3RvY29sOiBpc1NldChvYmplY3QucHJvdG9jb2wpID8gcHJvdG9jb2xGcm9tSlNPTihvYmplY3QucHJvdG9jb2wpIDogMFxuICAgIH07XG4gIH0sXG4gIHRvSlNPTihtZXNzYWdlKSB7XG4gICAgY29uc3Qgb2JqID0ge307XG4gICAgbWVzc2FnZS5hZGRyZXNzICE9PSB2b2lkIDAgJiYgKG9iai5hZGRyZXNzID0gYmFzZTY0RnJvbUJ5dGVzKFxuICAgICAgbWVzc2FnZS5hZGRyZXNzICE9PSB2b2lkIDAgPyBtZXNzYWdlLmFkZHJlc3MgOiBuZXcgVWludDhBcnJheSgpXG4gICAgKSk7XG4gICAgbWVzc2FnZS5jbGFpbVNpZ25hdHVyZSAhPT0gdm9pZCAwICYmIChvYmouY2xhaW1TaWduYXR1cmUgPSBiYXNlNjRGcm9tQnl0ZXMoXG4gICAgICBtZXNzYWdlLmNsYWltU2lnbmF0dXJlICE9PSB2b2lkIDAgPyBtZXNzYWdlLmNsYWltU2lnbmF0dXJlIDogbmV3IFVpbnQ4QXJyYXkoKVxuICAgICkpO1xuICAgIG1lc3NhZ2UuYmxvY2tIYXNoICE9PSB2b2lkIDAgJiYgKG9iai5ibG9ja0hhc2ggPSBiYXNlNjRGcm9tQnl0ZXMoXG4gICAgICBtZXNzYWdlLmJsb2NrSGFzaCAhPT0gdm9pZCAwID8gbWVzc2FnZS5ibG9ja0hhc2ggOiBuZXcgVWludDhBcnJheSgpXG4gICAgKSk7XG4gICAgbWVzc2FnZS52ZXJpZmljYXRpb25UeXBlICE9PSB2b2lkIDAgJiYgKG9iai52ZXJpZmljYXRpb25UeXBlID0gTWF0aC5yb3VuZChtZXNzYWdlLnZlcmlmaWNhdGlvblR5cGUpKTtcbiAgICBtZXNzYWdlLmNoYWluSWQgIT09IHZvaWQgMCAmJiAob2JqLmNoYWluSWQgPSBNYXRoLnJvdW5kKG1lc3NhZ2UuY2hhaW5JZCkpO1xuICAgIG1lc3NhZ2UucHJvdG9jb2wgIT09IHZvaWQgMCAmJiAob2JqLnByb3RvY29sID0gcHJvdG9jb2xUb0pTT04obWVzc2FnZS5wcm90b2NvbCkpO1xuICAgIHJldHVybiBvYmo7XG4gIH0sXG4gIGNyZWF0ZShiYXNlKSB7XG4gICAgcmV0dXJuIFZlcmlmaWNhdGlvbkFkZEFkZHJlc3NCb2R5LmZyb21QYXJ0aWFsKGJhc2UgPz8ge30pO1xuICB9LFxuICBmcm9tUGFydGlhbChvYmplY3QpIHtcbiAgICBjb25zdCBtZXNzYWdlID0gY3JlYXRlQmFzZVZlcmlmaWNhdGlvbkFkZEFkZHJlc3NCb2R5KCk7XG4gICAgbWVzc2FnZS5hZGRyZXNzID0gb2JqZWN0LmFkZHJlc3MgPz8gbmV3IFVpbnQ4QXJyYXkoKTtcbiAgICBtZXNzYWdlLmNsYWltU2lnbmF0dXJlID0gb2JqZWN0LmNsYWltU2lnbmF0dXJlID8/IG5ldyBVaW50OEFycmF5KCk7XG4gICAgbWVzc2FnZS5ibG9ja0hhc2ggPSBvYmplY3QuYmxvY2tIYXNoID8/IG5ldyBVaW50OEFycmF5KCk7XG4gICAgbWVzc2FnZS52ZXJpZmljYXRpb25UeXBlID0gb2JqZWN0LnZlcmlmaWNhdGlvblR5cGUgPz8gMDtcbiAgICBtZXNzYWdlLmNoYWluSWQgPSBvYmplY3QuY2hhaW5JZCA/PyAwO1xuICAgIG1lc3NhZ2UucHJvdG9jb2wgPSBvYmplY3QucHJvdG9jb2wgPz8gMDtcbiAgICByZXR1cm4gbWVzc2FnZTtcbiAgfVxufTtcbmZ1bmN0aW9uIGNyZWF0ZUJhc2VWZXJpZmljYXRpb25SZW1vdmVCb2R5KCkge1xuICByZXR1cm4geyBhZGRyZXNzOiBuZXcgVWludDhBcnJheSgpLCBwcm90b2NvbDogMCB9O1xufVxudmFyIFZlcmlmaWNhdGlvblJlbW92ZUJvZHkgPSB7XG4gIGVuY29kZShtZXNzYWdlLCB3cml0ZXIgPSBfbTAuV3JpdGVyLmNyZWF0ZSgpKSB7XG4gICAgaWYgKG1lc3NhZ2UuYWRkcmVzcy5sZW5ndGggIT09IDApIHtcbiAgICAgIHdyaXRlci51aW50MzIoMTApLmJ5dGVzKG1lc3NhZ2UuYWRkcmVzcyk7XG4gICAgfVxuICAgIGlmIChtZXNzYWdlLnByb3RvY29sICE9PSAwKSB7XG4gICAgICB3cml0ZXIudWludDMyKDE2KS5pbnQzMihtZXNzYWdlLnByb3RvY29sKTtcbiAgICB9XG4gICAgcmV0dXJuIHdyaXRlcjtcbiAgfSxcbiAgZGVjb2RlKGlucHV0LCBsZW5ndGgpIHtcbiAgICBjb25zdCByZWFkZXIgPSBpbnB1dCBpbnN0YW5jZW9mIF9tMC5SZWFkZXIgPyBpbnB1dCA6IF9tMC5SZWFkZXIuY3JlYXRlKGlucHV0KTtcbiAgICBsZXQgZW5kID0gbGVuZ3RoID09PSB2b2lkIDAgPyByZWFkZXIubGVuIDogcmVhZGVyLnBvcyArIGxlbmd0aDtcbiAgICBjb25zdCBtZXNzYWdlID0gY3JlYXRlQmFzZVZlcmlmaWNhdGlvblJlbW92ZUJvZHkoKTtcbiAgICB3aGlsZSAocmVhZGVyLnBvcyA8IGVuZCkge1xuICAgICAgY29uc3QgdGFnID0gcmVhZGVyLnVpbnQzMigpO1xuICAgICAgc3dpdGNoICh0YWcgPj4+IDMpIHtcbiAgICAgICAgY2FzZSAxOlxuICAgICAgICAgIGlmICh0YWcgIT0gMTApIHtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgICBtZXNzYWdlLmFkZHJlc3MgPSByZWFkZXIuYnl0ZXMoKTtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgY2FzZSAyOlxuICAgICAgICAgIGlmICh0YWcgIT0gMTYpIHtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgICBtZXNzYWdlLnByb3RvY29sID0gcmVhZGVyLmludDMyKCk7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICB9XG4gICAgICBpZiAoKHRhZyAmIDcpID09IDQgfHwgdGFnID09IDApIHtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICByZWFkZXIuc2tpcFR5cGUodGFnICYgNyk7XG4gICAgfVxuICAgIHJldHVybiBtZXNzYWdlO1xuICB9LFxuICBmcm9tSlNPTihvYmplY3QpIHtcbiAgICByZXR1cm4ge1xuICAgICAgYWRkcmVzczogaXNTZXQob2JqZWN0LmFkZHJlc3MpID8gYnl0ZXNGcm9tQmFzZTY0KG9iamVjdC5hZGRyZXNzKSA6IG5ldyBVaW50OEFycmF5KCksXG4gICAgICBwcm90b2NvbDogaXNTZXQob2JqZWN0LnByb3RvY29sKSA/IHByb3RvY29sRnJvbUpTT04ob2JqZWN0LnByb3RvY29sKSA6IDBcbiAgICB9O1xuICB9LFxuICB0b0pTT04obWVzc2FnZSkge1xuICAgIGNvbnN0IG9iaiA9IHt9O1xuICAgIG1lc3NhZ2UuYWRkcmVzcyAhPT0gdm9pZCAwICYmIChvYmouYWRkcmVzcyA9IGJhc2U2NEZyb21CeXRlcyhcbiAgICAgIG1lc3NhZ2UuYWRkcmVzcyAhPT0gdm9pZCAwID8gbWVzc2FnZS5hZGRyZXNzIDogbmV3IFVpbnQ4QXJyYXkoKVxuICAgICkpO1xuICAgIG1lc3NhZ2UucHJvdG9jb2wgIT09IHZvaWQgMCAmJiAob2JqLnByb3RvY29sID0gcHJvdG9jb2xUb0pTT04obWVzc2FnZS5wcm90b2NvbCkpO1xuICAgIHJldHVybiBvYmo7XG4gIH0sXG4gIGNyZWF0ZShiYXNlKSB7XG4gICAgcmV0dXJuIFZlcmlmaWNhdGlvblJlbW92ZUJvZHkuZnJvbVBhcnRpYWwoYmFzZSA/PyB7fSk7XG4gIH0sXG4gIGZyb21QYXJ0aWFsKG9iamVjdCkge1xuICAgIGNvbnN0IG1lc3NhZ2UgPSBjcmVhdGVCYXNlVmVyaWZpY2F0aW9uUmVtb3ZlQm9keSgpO1xuICAgIG1lc3NhZ2UuYWRkcmVzcyA9IG9iamVjdC5hZGRyZXNzID8/IG5ldyBVaW50OEFycmF5KCk7XG4gICAgbWVzc2FnZS5wcm90b2NvbCA9IG9iamVjdC5wcm90b2NvbCA/PyAwO1xuICAgIHJldHVybiBtZXNzYWdlO1xuICB9XG59O1xuZnVuY3Rpb24gY3JlYXRlQmFzZUxpbmtCb2R5KCkge1xuICByZXR1cm4geyB0eXBlOiBcIlwiLCBkaXNwbGF5VGltZXN0YW1wOiB2b2lkIDAsIHRhcmdldEZpZDogdm9pZCAwIH07XG59XG52YXIgTGlua0JvZHkgPSB7XG4gIGVuY29kZShtZXNzYWdlLCB3cml0ZXIgPSBfbTAuV3JpdGVyLmNyZWF0ZSgpKSB7XG4gICAgaWYgKG1lc3NhZ2UudHlwZSAhPT0gXCJcIikge1xuICAgICAgd3JpdGVyLnVpbnQzMigxMCkuc3RyaW5nKG1lc3NhZ2UudHlwZSk7XG4gICAgfVxuICAgIGlmIChtZXNzYWdlLmRpc3BsYXlUaW1lc3RhbXAgIT09IHZvaWQgMCkge1xuICAgICAgd3JpdGVyLnVpbnQzMigxNikudWludDMyKG1lc3NhZ2UuZGlzcGxheVRpbWVzdGFtcCk7XG4gICAgfVxuICAgIGlmIChtZXNzYWdlLnRhcmdldEZpZCAhPT0gdm9pZCAwKSB7XG4gICAgICB3cml0ZXIudWludDMyKDI0KS51aW50NjQobWVzc2FnZS50YXJnZXRGaWQpO1xuICAgIH1cbiAgICByZXR1cm4gd3JpdGVyO1xuICB9LFxuICBkZWNvZGUoaW5wdXQsIGxlbmd0aCkge1xuICAgIGNvbnN0IHJlYWRlciA9IGlucHV0IGluc3RhbmNlb2YgX20wLlJlYWRlciA/IGlucHV0IDogX20wLlJlYWRlci5jcmVhdGUoaW5wdXQpO1xuICAgIGxldCBlbmQgPSBsZW5ndGggPT09IHZvaWQgMCA/IHJlYWRlci5sZW4gOiByZWFkZXIucG9zICsgbGVuZ3RoO1xuICAgIGNvbnN0IG1lc3NhZ2UgPSBjcmVhdGVCYXNlTGlua0JvZHkoKTtcbiAgICB3aGlsZSAocmVhZGVyLnBvcyA8IGVuZCkge1xuICAgICAgY29uc3QgdGFnID0gcmVhZGVyLnVpbnQzMigpO1xuICAgICAgc3dpdGNoICh0YWcgPj4+IDMpIHtcbiAgICAgICAgY2FzZSAxOlxuICAgICAgICAgIGlmICh0YWcgIT0gMTApIHtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgICBtZXNzYWdlLnR5cGUgPSByZWFkZXIuc3RyaW5nKCk7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIGNhc2UgMjpcbiAgICAgICAgICBpZiAodGFnICE9IDE2KSB7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgICAgbWVzc2FnZS5kaXNwbGF5VGltZXN0YW1wID0gcmVhZGVyLnVpbnQzMigpO1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgaWYgKHRhZyAhPSAyNCkge1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICAgIG1lc3NhZ2UudGFyZ2V0RmlkID0gbG9uZ1RvTnVtYmVyKHJlYWRlci51aW50NjQoKSk7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICB9XG4gICAgICBpZiAoKHRhZyAmIDcpID09IDQgfHwgdGFnID09IDApIHtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICByZWFkZXIuc2tpcFR5cGUodGFnICYgNyk7XG4gICAgfVxuICAgIHJldHVybiBtZXNzYWdlO1xuICB9LFxuICBmcm9tSlNPTihvYmplY3QpIHtcbiAgICByZXR1cm4ge1xuICAgICAgdHlwZTogaXNTZXQob2JqZWN0LnR5cGUpID8gU3RyaW5nKG9iamVjdC50eXBlKSA6IFwiXCIsXG4gICAgICBkaXNwbGF5VGltZXN0YW1wOiBpc1NldChvYmplY3QuZGlzcGxheVRpbWVzdGFtcCkgPyBOdW1iZXIob2JqZWN0LmRpc3BsYXlUaW1lc3RhbXApIDogdm9pZCAwLFxuICAgICAgdGFyZ2V0RmlkOiBpc1NldChvYmplY3QudGFyZ2V0RmlkKSA/IE51bWJlcihvYmplY3QudGFyZ2V0RmlkKSA6IHZvaWQgMFxuICAgIH07XG4gIH0sXG4gIHRvSlNPTihtZXNzYWdlKSB7XG4gICAgY29uc3Qgb2JqID0ge307XG4gICAgbWVzc2FnZS50eXBlICE9PSB2b2lkIDAgJiYgKG9iai50eXBlID0gbWVzc2FnZS50eXBlKTtcbiAgICBtZXNzYWdlLmRpc3BsYXlUaW1lc3RhbXAgIT09IHZvaWQgMCAmJiAob2JqLmRpc3BsYXlUaW1lc3RhbXAgPSBNYXRoLnJvdW5kKG1lc3NhZ2UuZGlzcGxheVRpbWVzdGFtcCkpO1xuICAgIG1lc3NhZ2UudGFyZ2V0RmlkICE9PSB2b2lkIDAgJiYgKG9iai50YXJnZXRGaWQgPSBNYXRoLnJvdW5kKG1lc3NhZ2UudGFyZ2V0RmlkKSk7XG4gICAgcmV0dXJuIG9iajtcbiAgfSxcbiAgY3JlYXRlKGJhc2UpIHtcbiAgICByZXR1cm4gTGlua0JvZHkuZnJvbVBhcnRpYWwoYmFzZSA/PyB7fSk7XG4gIH0sXG4gIGZyb21QYXJ0aWFsKG9iamVjdCkge1xuICAgIGNvbnN0IG1lc3NhZ2UgPSBjcmVhdGVCYXNlTGlua0JvZHkoKTtcbiAgICBtZXNzYWdlLnR5cGUgPSBvYmplY3QudHlwZSA/PyBcIlwiO1xuICAgIG1lc3NhZ2UuZGlzcGxheVRpbWVzdGFtcCA9IG9iamVjdC5kaXNwbGF5VGltZXN0YW1wID8/IHZvaWQgMDtcbiAgICBtZXNzYWdlLnRhcmdldEZpZCA9IG9iamVjdC50YXJnZXRGaWQgPz8gdm9pZCAwO1xuICAgIHJldHVybiBtZXNzYWdlO1xuICB9XG59O1xuZnVuY3Rpb24gY3JlYXRlQmFzZUZyYW1lQWN0aW9uQm9keSgpIHtcbiAgcmV0dXJuIHtcbiAgICB1cmw6IG5ldyBVaW50OEFycmF5KCksXG4gICAgYnV0dG9uSW5kZXg6IDAsXG4gICAgY2FzdElkOiB2b2lkIDAsXG4gICAgaW5wdXRUZXh0OiBuZXcgVWludDhBcnJheSgpLFxuICAgIHN0YXRlOiBuZXcgVWludDhBcnJheSgpLFxuICAgIHRyYW5zYWN0aW9uSWQ6IG5ldyBVaW50OEFycmF5KCksXG4gICAgYWRkcmVzczogbmV3IFVpbnQ4QXJyYXkoKVxuICB9O1xufVxudmFyIEZyYW1lQWN0aW9uQm9keSA9IHtcbiAgZW5jb2RlKG1lc3NhZ2UsIHdyaXRlciA9IF9tMC5Xcml0ZXIuY3JlYXRlKCkpIHtcbiAgICBpZiAobWVzc2FnZS51cmwubGVuZ3RoICE9PSAwKSB7XG4gICAgICB3cml0ZXIudWludDMyKDEwKS5ieXRlcyhtZXNzYWdlLnVybCk7XG4gICAgfVxuICAgIGlmIChtZXNzYWdlLmJ1dHRvbkluZGV4ICE9PSAwKSB7XG4gICAgICB3cml0ZXIudWludDMyKDE2KS51aW50MzIobWVzc2FnZS5idXR0b25JbmRleCk7XG4gICAgfVxuICAgIGlmIChtZXNzYWdlLmNhc3RJZCAhPT0gdm9pZCAwKSB7XG4gICAgICBDYXN0SWQuZW5jb2RlKG1lc3NhZ2UuY2FzdElkLCB3cml0ZXIudWludDMyKDI2KS5mb3JrKCkpLmxkZWxpbSgpO1xuICAgIH1cbiAgICBpZiAobWVzc2FnZS5pbnB1dFRleHQubGVuZ3RoICE9PSAwKSB7XG4gICAgICB3cml0ZXIudWludDMyKDM0KS5ieXRlcyhtZXNzYWdlLmlucHV0VGV4dCk7XG4gICAgfVxuICAgIGlmIChtZXNzYWdlLnN0YXRlLmxlbmd0aCAhPT0gMCkge1xuICAgICAgd3JpdGVyLnVpbnQzMig0MikuYnl0ZXMobWVzc2FnZS5zdGF0ZSk7XG4gICAgfVxuICAgIGlmIChtZXNzYWdlLnRyYW5zYWN0aW9uSWQubGVuZ3RoICE9PSAwKSB7XG4gICAgICB3cml0ZXIudWludDMyKDUwKS5ieXRlcyhtZXNzYWdlLnRyYW5zYWN0aW9uSWQpO1xuICAgIH1cbiAgICBpZiAobWVzc2FnZS5hZGRyZXNzLmxlbmd0aCAhPT0gMCkge1xuICAgICAgd3JpdGVyLnVpbnQzMig1OCkuYnl0ZXMobWVzc2FnZS5hZGRyZXNzKTtcbiAgICB9XG4gICAgcmV0dXJuIHdyaXRlcjtcbiAgfSxcbiAgZGVjb2RlKGlucHV0LCBsZW5ndGgpIHtcbiAgICBjb25zdCByZWFkZXIgPSBpbnB1dCBpbnN0YW5jZW9mIF9tMC5SZWFkZXIgPyBpbnB1dCA6IF9tMC5SZWFkZXIuY3JlYXRlKGlucHV0KTtcbiAgICBsZXQgZW5kID0gbGVuZ3RoID09PSB2b2lkIDAgPyByZWFkZXIubGVuIDogcmVhZGVyLnBvcyArIGxlbmd0aDtcbiAgICBjb25zdCBtZXNzYWdlID0gY3JlYXRlQmFzZUZyYW1lQWN0aW9uQm9keSgpO1xuICAgIHdoaWxlIChyZWFkZXIucG9zIDwgZW5kKSB7XG4gICAgICBjb25zdCB0YWcgPSByZWFkZXIudWludDMyKCk7XG4gICAgICBzd2l0Y2ggKHRhZyA+Pj4gMykge1xuICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgaWYgKHRhZyAhPSAxMCkge1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICAgIG1lc3NhZ2UudXJsID0gcmVhZGVyLmJ5dGVzKCk7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIGNhc2UgMjpcbiAgICAgICAgICBpZiAodGFnICE9IDE2KSB7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgICAgbWVzc2FnZS5idXR0b25JbmRleCA9IHJlYWRlci51aW50MzIoKTtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgY2FzZSAzOlxuICAgICAgICAgIGlmICh0YWcgIT0gMjYpIHtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgICBtZXNzYWdlLmNhc3RJZCA9IENhc3RJZC5kZWNvZGUocmVhZGVyLCByZWFkZXIudWludDMyKCkpO1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICBjYXNlIDQ6XG4gICAgICAgICAgaWYgKHRhZyAhPSAzNCkge1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICAgIG1lc3NhZ2UuaW5wdXRUZXh0ID0gcmVhZGVyLmJ5dGVzKCk7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIGNhc2UgNTpcbiAgICAgICAgICBpZiAodGFnICE9IDQyKSB7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgICAgbWVzc2FnZS5zdGF0ZSA9IHJlYWRlci5ieXRlcygpO1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICBjYXNlIDY6XG4gICAgICAgICAgaWYgKHRhZyAhPSA1MCkge1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICAgIG1lc3NhZ2UudHJhbnNhY3Rpb25JZCA9IHJlYWRlci5ieXRlcygpO1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICBjYXNlIDc6XG4gICAgICAgICAgaWYgKHRhZyAhPSA1OCkge1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICAgIG1lc3NhZ2UuYWRkcmVzcyA9IHJlYWRlci5ieXRlcygpO1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuICAgICAgaWYgKCh0YWcgJiA3KSA9PSA0IHx8IHRhZyA9PSAwKSB7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgcmVhZGVyLnNraXBUeXBlKHRhZyAmIDcpO1xuICAgIH1cbiAgICByZXR1cm4gbWVzc2FnZTtcbiAgfSxcbiAgZnJvbUpTT04ob2JqZWN0KSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHVybDogaXNTZXQob2JqZWN0LnVybCkgPyBieXRlc0Zyb21CYXNlNjQob2JqZWN0LnVybCkgOiBuZXcgVWludDhBcnJheSgpLFxuICAgICAgYnV0dG9uSW5kZXg6IGlzU2V0KG9iamVjdC5idXR0b25JbmRleCkgPyBOdW1iZXIob2JqZWN0LmJ1dHRvbkluZGV4KSA6IDAsXG4gICAgICBjYXN0SWQ6IGlzU2V0KG9iamVjdC5jYXN0SWQpID8gQ2FzdElkLmZyb21KU09OKG9iamVjdC5jYXN0SWQpIDogdm9pZCAwLFxuICAgICAgaW5wdXRUZXh0OiBpc1NldChvYmplY3QuaW5wdXRUZXh0KSA/IGJ5dGVzRnJvbUJhc2U2NChvYmplY3QuaW5wdXRUZXh0KSA6IG5ldyBVaW50OEFycmF5KCksXG4gICAgICBzdGF0ZTogaXNTZXQob2JqZWN0LnN0YXRlKSA/IGJ5dGVzRnJvbUJhc2U2NChvYmplY3Quc3RhdGUpIDogbmV3IFVpbnQ4QXJyYXkoKSxcbiAgICAgIHRyYW5zYWN0aW9uSWQ6IGlzU2V0KG9iamVjdC50cmFuc2FjdGlvbklkKSA/IGJ5dGVzRnJvbUJhc2U2NChvYmplY3QudHJhbnNhY3Rpb25JZCkgOiBuZXcgVWludDhBcnJheSgpLFxuICAgICAgYWRkcmVzczogaXNTZXQob2JqZWN0LmFkZHJlc3MpID8gYnl0ZXNGcm9tQmFzZTY0KG9iamVjdC5hZGRyZXNzKSA6IG5ldyBVaW50OEFycmF5KClcbiAgICB9O1xuICB9LFxuICB0b0pTT04obWVzc2FnZSkge1xuICAgIGNvbnN0IG9iaiA9IHt9O1xuICAgIG1lc3NhZ2UudXJsICE9PSB2b2lkIDAgJiYgKG9iai51cmwgPSBiYXNlNjRGcm9tQnl0ZXMoXG4gICAgICBtZXNzYWdlLnVybCAhPT0gdm9pZCAwID8gbWVzc2FnZS51cmwgOiBuZXcgVWludDhBcnJheSgpXG4gICAgKSk7XG4gICAgbWVzc2FnZS5idXR0b25JbmRleCAhPT0gdm9pZCAwICYmIChvYmouYnV0dG9uSW5kZXggPSBNYXRoLnJvdW5kKG1lc3NhZ2UuYnV0dG9uSW5kZXgpKTtcbiAgICBtZXNzYWdlLmNhc3RJZCAhPT0gdm9pZCAwICYmIChvYmouY2FzdElkID0gbWVzc2FnZS5jYXN0SWQgPyBDYXN0SWQudG9KU09OKG1lc3NhZ2UuY2FzdElkKSA6IHZvaWQgMCk7XG4gICAgbWVzc2FnZS5pbnB1dFRleHQgIT09IHZvaWQgMCAmJiAob2JqLmlucHV0VGV4dCA9IGJhc2U2NEZyb21CeXRlcyhcbiAgICAgIG1lc3NhZ2UuaW5wdXRUZXh0ICE9PSB2b2lkIDAgPyBtZXNzYWdlLmlucHV0VGV4dCA6IG5ldyBVaW50OEFycmF5KClcbiAgICApKTtcbiAgICBtZXNzYWdlLnN0YXRlICE9PSB2b2lkIDAgJiYgKG9iai5zdGF0ZSA9IGJhc2U2NEZyb21CeXRlcyhcbiAgICAgIG1lc3NhZ2Uuc3RhdGUgIT09IHZvaWQgMCA/IG1lc3NhZ2Uuc3RhdGUgOiBuZXcgVWludDhBcnJheSgpXG4gICAgKSk7XG4gICAgbWVzc2FnZS50cmFuc2FjdGlvbklkICE9PSB2b2lkIDAgJiYgKG9iai50cmFuc2FjdGlvbklkID0gYmFzZTY0RnJvbUJ5dGVzKFxuICAgICAgbWVzc2FnZS50cmFuc2FjdGlvbklkICE9PSB2b2lkIDAgPyBtZXNzYWdlLnRyYW5zYWN0aW9uSWQgOiBuZXcgVWludDhBcnJheSgpXG4gICAgKSk7XG4gICAgbWVzc2FnZS5hZGRyZXNzICE9PSB2b2lkIDAgJiYgKG9iai5hZGRyZXNzID0gYmFzZTY0RnJvbUJ5dGVzKFxuICAgICAgbWVzc2FnZS5hZGRyZXNzICE9PSB2b2lkIDAgPyBtZXNzYWdlLmFkZHJlc3MgOiBuZXcgVWludDhBcnJheSgpXG4gICAgKSk7XG4gICAgcmV0dXJuIG9iajtcbiAgfSxcbiAgY3JlYXRlKGJhc2UpIHtcbiAgICByZXR1cm4gRnJhbWVBY3Rpb25Cb2R5LmZyb21QYXJ0aWFsKGJhc2UgPz8ge30pO1xuICB9LFxuICBmcm9tUGFydGlhbChvYmplY3QpIHtcbiAgICBjb25zdCBtZXNzYWdlID0gY3JlYXRlQmFzZUZyYW1lQWN0aW9uQm9keSgpO1xuICAgIG1lc3NhZ2UudXJsID0gb2JqZWN0LnVybCA/PyBuZXcgVWludDhBcnJheSgpO1xuICAgIG1lc3NhZ2UuYnV0dG9uSW5kZXggPSBvYmplY3QuYnV0dG9uSW5kZXggPz8gMDtcbiAgICBtZXNzYWdlLmNhc3RJZCA9IG9iamVjdC5jYXN0SWQgIT09IHZvaWQgMCAmJiBvYmplY3QuY2FzdElkICE9PSBudWxsID8gQ2FzdElkLmZyb21QYXJ0aWFsKG9iamVjdC5jYXN0SWQpIDogdm9pZCAwO1xuICAgIG1lc3NhZ2UuaW5wdXRUZXh0ID0gb2JqZWN0LmlucHV0VGV4dCA/PyBuZXcgVWludDhBcnJheSgpO1xuICAgIG1lc3NhZ2Uuc3RhdGUgPSBvYmplY3Quc3RhdGUgPz8gbmV3IFVpbnQ4QXJyYXkoKTtcbiAgICBtZXNzYWdlLnRyYW5zYWN0aW9uSWQgPSBvYmplY3QudHJhbnNhY3Rpb25JZCA/PyBuZXcgVWludDhBcnJheSgpO1xuICAgIG1lc3NhZ2UuYWRkcmVzcyA9IG9iamVjdC5hZGRyZXNzID8/IG5ldyBVaW50OEFycmF5KCk7XG4gICAgcmV0dXJuIG1lc3NhZ2U7XG4gIH1cbn07XG52YXIgdHNQcm90b0dsb2JhbFRoaXMgPSAoKCkgPT4ge1xuICBpZiAodHlwZW9mIGdsb2JhbFRoaXMgIT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICByZXR1cm4gZ2xvYmFsVGhpcztcbiAgfVxuICBpZiAodHlwZW9mIHNlbGYgIT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICByZXR1cm4gc2VsZjtcbiAgfVxuICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gXCJ1bmRlZmluZWRcIikge1xuICAgIHJldHVybiB3aW5kb3c7XG4gIH1cbiAgaWYgKHR5cGVvZiBnbG9iYWwgIT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICByZXR1cm4gZ2xvYmFsO1xuICB9XG4gIHRocm93IFwiVW5hYmxlIHRvIGxvY2F0ZSBnbG9iYWwgb2JqZWN0XCI7XG59KSgpO1xuZnVuY3Rpb24gYnl0ZXNGcm9tQmFzZTY0KGI2NCkge1xuICBpZiAodHNQcm90b0dsb2JhbFRoaXMuQnVmZmVyKSB7XG4gICAgcmV0dXJuIFVpbnQ4QXJyYXkuZnJvbSh0c1Byb3RvR2xvYmFsVGhpcy5CdWZmZXIuZnJvbShiNjQsIFwiYmFzZTY0XCIpKTtcbiAgfSBlbHNlIHtcbiAgICBjb25zdCBiaW4gPSB0c1Byb3RvR2xvYmFsVGhpcy5hdG9iKGI2NCk7XG4gICAgY29uc3QgYXJyID0gbmV3IFVpbnQ4QXJyYXkoYmluLmxlbmd0aCk7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBiaW4ubGVuZ3RoOyArK2kpIHtcbiAgICAgIGFycltpXSA9IGJpbi5jaGFyQ29kZUF0KGkpO1xuICAgIH1cbiAgICByZXR1cm4gYXJyO1xuICB9XG59XG5mdW5jdGlvbiBiYXNlNjRGcm9tQnl0ZXMoYXJyKSB7XG4gIGlmICh0c1Byb3RvR2xvYmFsVGhpcy5CdWZmZXIpIHtcbiAgICByZXR1cm4gdHNQcm90b0dsb2JhbFRoaXMuQnVmZmVyLmZyb20oYXJyKS50b1N0cmluZyhcImJhc2U2NFwiKTtcbiAgfSBlbHNlIHtcbiAgICBjb25zdCBiaW4gPSBbXTtcbiAgICBhcnIuZm9yRWFjaCgoYnl0ZSkgPT4ge1xuICAgICAgYmluLnB1c2goU3RyaW5nLmZyb21DaGFyQ29kZShieXRlKSk7XG4gICAgfSk7XG4gICAgcmV0dXJuIHRzUHJvdG9HbG9iYWxUaGlzLmJ0b2EoYmluLmpvaW4oXCJcIikpO1xuICB9XG59XG5mdW5jdGlvbiBsb25nVG9OdW1iZXIobG9uZykge1xuICBpZiAobG9uZy5ndChOdW1iZXIuTUFYX1NBRkVfSU5URUdFUikpIHtcbiAgICB0aHJvdyBuZXcgdHNQcm90b0dsb2JhbFRoaXMuRXJyb3IoXG4gICAgICBcIlZhbHVlIGlzIGxhcmdlciB0aGFuIE51bWJlci5NQVhfU0FGRV9JTlRFR0VSXCJcbiAgICApO1xuICB9XG4gIHJldHVybiBsb25nLnRvTnVtYmVyKCk7XG59XG5pZiAoX20wLnV0aWwuTG9uZyAhPT0gbG9uZ19kZWZhdWx0KSB7XG4gIF9tMC51dGlsLkxvbmcgPSBsb25nX2RlZmF1bHQ7XG4gIF9tMC5jb25maWd1cmUoKTtcbn1cbmZ1bmN0aW9uIGlzU2V0KHZhbHVlKSB7XG4gIHJldHVybiB2YWx1ZSAhPT0gbnVsbCAmJiB2YWx1ZSAhPT0gdm9pZCAwO1xufVxuXG5leHBvcnQge1xuICBIYXNoU2NoZW1lLFxuICBoYXNoU2NoZW1lRnJvbUpTT04sXG4gIGhhc2hTY2hlbWVUb0pTT04sXG4gIFNpZ25hdHVyZVNjaGVtZSxcbiAgc2lnbmF0dXJlU2NoZW1lRnJvbUpTT04sXG4gIHNpZ25hdHVyZVNjaGVtZVRvSlNPTixcbiAgTWVzc2FnZVR5cGUsXG4gIG1lc3NhZ2VUeXBlRnJvbUpTT04sXG4gIG1lc3NhZ2VUeXBlVG9KU09OLFxuICBGYXJjYXN0ZXJOZXR3b3JrLFxuICBmYXJjYXN0ZXJOZXR3b3JrRnJvbUpTT04sXG4gIGZhcmNhc3Rlck5ldHdvcmtUb0pTT04sXG4gIFVzZXJEYXRhVHlwZSxcbiAgdXNlckRhdGFUeXBlRnJvbUpTT04sXG4gIHVzZXJEYXRhVHlwZVRvSlNPTixcbiAgUmVhY3Rpb25UeXBlLFxuICByZWFjdGlvblR5cGVGcm9tSlNPTixcbiAgcmVhY3Rpb25UeXBlVG9KU09OLFxuICBQcm90b2NvbCxcbiAgcHJvdG9jb2xGcm9tSlNPTixcbiAgcHJvdG9jb2xUb0pTT04sXG4gIE1lc3NhZ2UsXG4gIE1lc3NhZ2VEYXRhLFxuICBVc2VyRGF0YUJvZHksXG4gIEVtYmVkLFxuICBDYXN0QWRkQm9keSxcbiAgQ2FzdFJlbW92ZUJvZHksXG4gIENhc3RJZCxcbiAgUmVhY3Rpb25Cb2R5LFxuICBWZXJpZmljYXRpb25BZGRBZGRyZXNzQm9keSxcbiAgVmVyaWZpY2F0aW9uUmVtb3ZlQm9keSxcbiAgTGlua0JvZHksXG4gIEZyYW1lQWN0aW9uQm9keVxufTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/frames.js/dist/chunk-MI43JRER.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/frames.js/dist/chunk-NKQ3BL6M.js":
/*!*******************************************************!*\
  !*** ./node_modules/frames.js/dist/chunk-NKQ3BL6M.js ***!
  \*******************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   concurrentMiddleware: () => (/* binding */ concurrentMiddleware)\n/* harmony export */ });\n// src/middleware/concurrentMiddleware.ts\nfunction concurrentMiddleware(...middlewares) {\n  if (middlewares.length === 0) {\n    throw new Error(\"No middlewares provided\");\n  }\n  if (middlewares.length === 1 && middlewares[0]) {\n    return middlewares[0];\n  }\n  return async (context, next) => {\n    const ctx = context;\n    const newContexts = [];\n    await Promise.all(\n      middlewares.map(\n        (middleware) => (\n          // @ts-expect-error this is not 100% correct because next should return a valid result, but since parallel middleware cannot call next middleware in chain, it's fine\n          middleware(context, (newCtx) => {\n            if (newCtx) {\n              newContexts.push(newCtx);\n            }\n          })\n        )\n      )\n    );\n    let finalCtx = ctx;\n    for (const newCtx of newContexts) {\n      finalCtx = { ...finalCtx, ...newCtx };\n    }\n    return next(finalCtx);\n  };\n}\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvZnJhbWVzLmpzL2Rpc3QvY2h1bmstTktRM0JMNk0uanMiLCJtYXBwaW5ncyI6Ijs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQkFBbUI7QUFDbkI7QUFDQTtBQUNBO0FBQ0E7O0FBSUUiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9wbGViLWZpbmRlci8uL25vZGVfbW9kdWxlcy9mcmFtZXMuanMvZGlzdC9jaHVuay1OS1EzQkw2TS5qcz9jMDQ2Il0sInNvdXJjZXNDb250ZW50IjpbIi8vIHNyYy9taWRkbGV3YXJlL2NvbmN1cnJlbnRNaWRkbGV3YXJlLnRzXG5mdW5jdGlvbiBjb25jdXJyZW50TWlkZGxld2FyZSguLi5taWRkbGV3YXJlcykge1xuICBpZiAobWlkZGxld2FyZXMubGVuZ3RoID09PSAwKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiTm8gbWlkZGxld2FyZXMgcHJvdmlkZWRcIik7XG4gIH1cbiAgaWYgKG1pZGRsZXdhcmVzLmxlbmd0aCA9PT0gMSAmJiBtaWRkbGV3YXJlc1swXSkge1xuICAgIHJldHVybiBtaWRkbGV3YXJlc1swXTtcbiAgfVxuICByZXR1cm4gYXN5bmMgKGNvbnRleHQsIG5leHQpID0+IHtcbiAgICBjb25zdCBjdHggPSBjb250ZXh0O1xuICAgIGNvbnN0IG5ld0NvbnRleHRzID0gW107XG4gICAgYXdhaXQgUHJvbWlzZS5hbGwoXG4gICAgICBtaWRkbGV3YXJlcy5tYXAoXG4gICAgICAgIChtaWRkbGV3YXJlKSA9PiAoXG4gICAgICAgICAgLy8gQHRzLWV4cGVjdC1lcnJvciB0aGlzIGlzIG5vdCAxMDAlIGNvcnJlY3QgYmVjYXVzZSBuZXh0IHNob3VsZCByZXR1cm4gYSB2YWxpZCByZXN1bHQsIGJ1dCBzaW5jZSBwYXJhbGxlbCBtaWRkbGV3YXJlIGNhbm5vdCBjYWxsIG5leHQgbWlkZGxld2FyZSBpbiBjaGFpbiwgaXQncyBmaW5lXG4gICAgICAgICAgbWlkZGxld2FyZShjb250ZXh0LCAobmV3Q3R4KSA9PiB7XG4gICAgICAgICAgICBpZiAobmV3Q3R4KSB7XG4gICAgICAgICAgICAgIG5ld0NvbnRleHRzLnB1c2gobmV3Q3R4KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KVxuICAgICAgICApXG4gICAgICApXG4gICAgKTtcbiAgICBsZXQgZmluYWxDdHggPSBjdHg7XG4gICAgZm9yIChjb25zdCBuZXdDdHggb2YgbmV3Q29udGV4dHMpIHtcbiAgICAgIGZpbmFsQ3R4ID0geyAuLi5maW5hbEN0eCwgLi4ubmV3Q3R4IH07XG4gICAgfVxuICAgIHJldHVybiBuZXh0KGZpbmFsQ3R4KTtcbiAgfTtcbn1cblxuZXhwb3J0IHtcbiAgY29uY3VycmVudE1pZGRsZXdhcmVcbn07XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/frames.js/dist/chunk-NKQ3BL6M.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/frames.js/dist/chunk-NPHRKC5O.js":
/*!*******************************************************!*\
  !*** ./node_modules/frames.js/dist/chunk-NPHRKC5O.js ***!
  \*******************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getFrameFlattened: () => (/* binding */ getFrameFlattened)\n/* harmony export */ });\n// package.json\nvar version = \"0.15.1\";\n\n// src/getFrameFlattened.ts\nfunction getFrameFlattened(frame) {\n  const openFrames = frame.accepts && Boolean(frame.accepts.length) ? {\n    // custom of tags\n    \"of:version\": frame.version,\n    ...frame.accepts.reduce(\n      (acc, { id, version: version2 }) => {\n        acc[`of:accepts:${id}`] = version2;\n        return acc;\n      },\n      {}\n    ),\n    // same as fc:frame tags\n    \"of:image\": frame.image,\n    \"og:image\": frame.ogImage || frame.image,\n    \"of:post_url\": frame.postUrl,\n    \"of:input:text\": frame.inputText,\n    ...frame.state ? { \"of:state\": frame.state } : {},\n    ...frame.imageAspectRatio ? { \"of:image:aspect_ratio\": frame.imageAspectRatio } : {},\n    ...frame.buttons?.reduce(\n      (acc, button, index) => ({\n        ...acc,\n        [`of:button:${index + 1}`]: button.label,\n        [`of:button:${index + 1}:action`]: button.action,\n        [`of:button:${index + 1}:target`]: button.target,\n        ...button.action === \"tx\" ? { [`of:button:${index + 1}:post_url`]: button.post_url } : {}\n      }),\n      {}\n    )\n  } : {};\n  const metadata = {\n    \"fc:frame\": frame.version,\n    \"fc:frame:image\": frame.image,\n    \"og:image\": frame.ogImage || frame.image,\n    \"fc:frame:post_url\": frame.postUrl,\n    \"fc:frame:input:text\": frame.inputText,\n    ...frame.state ? { \"fc:frame:state\": frame.state } : {},\n    ...frame.imageAspectRatio ? { \"fc:frame:image:aspect_ratio\": frame.imageAspectRatio } : {},\n    ...frame.buttons?.reduce(\n      (acc, button, index) => ({\n        ...acc,\n        [`fc:frame:button:${index + 1}`]: button.label,\n        [`fc:frame:button:${index + 1}:action`]: button.action,\n        [`fc:frame:button:${index + 1}:target`]: button.target,\n        ...button.action === \"tx\" ? { [`fc:frame:button:${index + 1}:post_url`]: button.post_url } : {}\n      }),\n      {}\n    ),\n    ...openFrames,\n    [`frames.js:version`]: version\n  };\n  return metadata;\n}\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvZnJhbWVzLmpzL2Rpc3QvY2h1bmstTlBIUktDNU8uanMiLCJtYXBwaW5ncyI6Ijs7OztBQUFBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYyx1QkFBdUI7QUFDckMsMEJBQTBCLEdBQUc7QUFDN0I7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1QkFBdUIsMEJBQTBCLElBQUk7QUFDckQsa0NBQWtDLGtEQUFrRCxJQUFJO0FBQ3hGO0FBQ0E7QUFDQTtBQUNBLHNCQUFzQixVQUFVO0FBQ2hDLHNCQUFzQixVQUFVO0FBQ2hDLHNCQUFzQixVQUFVO0FBQ2hDLHNDQUFzQyxjQUFjLFVBQVUsK0JBQStCO0FBQzdGLE9BQU87QUFDUDtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVCQUF1QixnQ0FBZ0MsSUFBSTtBQUMzRCxrQ0FBa0Msd0RBQXdELElBQUk7QUFDOUY7QUFDQTtBQUNBO0FBQ0EsNEJBQTRCLFVBQVU7QUFDdEMsNEJBQTRCLFVBQVU7QUFDdEMsNEJBQTRCLFVBQVU7QUFDdEMsc0NBQXNDLG9CQUFvQixVQUFVLCtCQUErQjtBQUNuRyxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBSUUiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9wbGViLWZpbmRlci8uL25vZGVfbW9kdWxlcy9mcmFtZXMuanMvZGlzdC9jaHVuay1OUEhSS0M1Ty5qcz9jODBmIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIHBhY2thZ2UuanNvblxudmFyIHZlcnNpb24gPSBcIjAuMTUuMVwiO1xuXG4vLyBzcmMvZ2V0RnJhbWVGbGF0dGVuZWQudHNcbmZ1bmN0aW9uIGdldEZyYW1lRmxhdHRlbmVkKGZyYW1lKSB7XG4gIGNvbnN0IG9wZW5GcmFtZXMgPSBmcmFtZS5hY2NlcHRzICYmIEJvb2xlYW4oZnJhbWUuYWNjZXB0cy5sZW5ndGgpID8ge1xuICAgIC8vIGN1c3RvbSBvZiB0YWdzXG4gICAgXCJvZjp2ZXJzaW9uXCI6IGZyYW1lLnZlcnNpb24sXG4gICAgLi4uZnJhbWUuYWNjZXB0cy5yZWR1Y2UoXG4gICAgICAoYWNjLCB7IGlkLCB2ZXJzaW9uOiB2ZXJzaW9uMiB9KSA9PiB7XG4gICAgICAgIGFjY1tgb2Y6YWNjZXB0czoke2lkfWBdID0gdmVyc2lvbjI7XG4gICAgICAgIHJldHVybiBhY2M7XG4gICAgICB9LFxuICAgICAge31cbiAgICApLFxuICAgIC8vIHNhbWUgYXMgZmM6ZnJhbWUgdGFnc1xuICAgIFwib2Y6aW1hZ2VcIjogZnJhbWUuaW1hZ2UsXG4gICAgXCJvZzppbWFnZVwiOiBmcmFtZS5vZ0ltYWdlIHx8IGZyYW1lLmltYWdlLFxuICAgIFwib2Y6cG9zdF91cmxcIjogZnJhbWUucG9zdFVybCxcbiAgICBcIm9mOmlucHV0OnRleHRcIjogZnJhbWUuaW5wdXRUZXh0LFxuICAgIC4uLmZyYW1lLnN0YXRlID8geyBcIm9mOnN0YXRlXCI6IGZyYW1lLnN0YXRlIH0gOiB7fSxcbiAgICAuLi5mcmFtZS5pbWFnZUFzcGVjdFJhdGlvID8geyBcIm9mOmltYWdlOmFzcGVjdF9yYXRpb1wiOiBmcmFtZS5pbWFnZUFzcGVjdFJhdGlvIH0gOiB7fSxcbiAgICAuLi5mcmFtZS5idXR0b25zPy5yZWR1Y2UoXG4gICAgICAoYWNjLCBidXR0b24sIGluZGV4KSA9PiAoe1xuICAgICAgICAuLi5hY2MsXG4gICAgICAgIFtgb2Y6YnV0dG9uOiR7aW5kZXggKyAxfWBdOiBidXR0b24ubGFiZWwsXG4gICAgICAgIFtgb2Y6YnV0dG9uOiR7aW5kZXggKyAxfTphY3Rpb25gXTogYnV0dG9uLmFjdGlvbixcbiAgICAgICAgW2BvZjpidXR0b246JHtpbmRleCArIDF9OnRhcmdldGBdOiBidXR0b24udGFyZ2V0LFxuICAgICAgICAuLi5idXR0b24uYWN0aW9uID09PSBcInR4XCIgPyB7IFtgb2Y6YnV0dG9uOiR7aW5kZXggKyAxfTpwb3N0X3VybGBdOiBidXR0b24ucG9zdF91cmwgfSA6IHt9XG4gICAgICB9KSxcbiAgICAgIHt9XG4gICAgKVxuICB9IDoge307XG4gIGNvbnN0IG1ldGFkYXRhID0ge1xuICAgIFwiZmM6ZnJhbWVcIjogZnJhbWUudmVyc2lvbixcbiAgICBcImZjOmZyYW1lOmltYWdlXCI6IGZyYW1lLmltYWdlLFxuICAgIFwib2c6aW1hZ2VcIjogZnJhbWUub2dJbWFnZSB8fCBmcmFtZS5pbWFnZSxcbiAgICBcImZjOmZyYW1lOnBvc3RfdXJsXCI6IGZyYW1lLnBvc3RVcmwsXG4gICAgXCJmYzpmcmFtZTppbnB1dDp0ZXh0XCI6IGZyYW1lLmlucHV0VGV4dCxcbiAgICAuLi5mcmFtZS5zdGF0ZSA/IHsgXCJmYzpmcmFtZTpzdGF0ZVwiOiBmcmFtZS5zdGF0ZSB9IDoge30sXG4gICAgLi4uZnJhbWUuaW1hZ2VBc3BlY3RSYXRpbyA/IHsgXCJmYzpmcmFtZTppbWFnZTphc3BlY3RfcmF0aW9cIjogZnJhbWUuaW1hZ2VBc3BlY3RSYXRpbyB9IDoge30sXG4gICAgLi4uZnJhbWUuYnV0dG9ucz8ucmVkdWNlKFxuICAgICAgKGFjYywgYnV0dG9uLCBpbmRleCkgPT4gKHtcbiAgICAgICAgLi4uYWNjLFxuICAgICAgICBbYGZjOmZyYW1lOmJ1dHRvbjoke2luZGV4ICsgMX1gXTogYnV0dG9uLmxhYmVsLFxuICAgICAgICBbYGZjOmZyYW1lOmJ1dHRvbjoke2luZGV4ICsgMX06YWN0aW9uYF06IGJ1dHRvbi5hY3Rpb24sXG4gICAgICAgIFtgZmM6ZnJhbWU6YnV0dG9uOiR7aW5kZXggKyAxfTp0YXJnZXRgXTogYnV0dG9uLnRhcmdldCxcbiAgICAgICAgLi4uYnV0dG9uLmFjdGlvbiA9PT0gXCJ0eFwiID8geyBbYGZjOmZyYW1lOmJ1dHRvbjoke2luZGV4ICsgMX06cG9zdF91cmxgXTogYnV0dG9uLnBvc3RfdXJsIH0gOiB7fVxuICAgICAgfSksXG4gICAgICB7fVxuICAgICksXG4gICAgLi4ub3BlbkZyYW1lcyxcbiAgICBbYGZyYW1lcy5qczp2ZXJzaW9uYF06IHZlcnNpb25cbiAgfTtcbiAgcmV0dXJuIG1ldGFkYXRhO1xufVxuXG5leHBvcnQge1xuICBnZXRGcmFtZUZsYXR0ZW5lZFxufTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/frames.js/dist/chunk-NPHRKC5O.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/frames.js/dist/chunk-NYM7O7IG.js":
/*!*******************************************************!*\
  !*** ./node_modules/frames.js/dist/chunk-NYM7O7IG.js ***!
  \*******************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getUserDataForFid: () => (/* binding */ getUserDataForFid)\n/* harmony export */ });\n/* harmony import */ var _chunk_T2UQQRTL_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./chunk-T2UQQRTL.js */ \"(rsc)/./node_modules/frames.js/dist/chunk-T2UQQRTL.js\");\n/* harmony import */ var _chunk_MI43JRER_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./chunk-MI43JRER.js */ \"(rsc)/./node_modules/frames.js/dist/chunk-MI43JRER.js\");\n\n\n// src/getUserDataForFid.ts\nasync function getUserDataForFid({ fid, options = {} }) {\n    const { hubHttpUrl = _chunk_T2UQQRTL_js__WEBPACK_IMPORTED_MODULE_0__.DEFAULT_HUB_API_URL, hubRequestOptions = {\n        headers: {\n            api_key: _chunk_T2UQQRTL_js__WEBPACK_IMPORTED_MODULE_0__.DEFAULT_HUB_API_KEY\n        }\n    } } = options;\n    const userDataResponse = await fetch(`${hubHttpUrl}/v1/userDataByFid?fid=${fid}`, hubRequestOptions);\n    const { messages } = await userDataResponse.clone().json().catch(async ()=>{\n        throw new Error(`Failed to parse response body as JSON because server hub returned response with status \"${userDataResponse.status}\" and body \"${await userDataResponse.clone().text()}\"`);\n    });\n    if (messages && messages.length > 0) {\n        const valuesByType = messages.reduce((acc, messageJson)=>{\n            const message = _chunk_MI43JRER_js__WEBPACK_IMPORTED_MODULE_1__.Message.fromJSON(messageJson);\n            if (message.data?.type !== 11 /* USER_DATA_ADD */ ) {\n                return acc;\n            }\n            if (!message.data.userDataBody) {\n                return acc;\n            }\n            const timestamp = message.data.timestamp;\n            const { type, value } = message.data.userDataBody;\n            const foundValue = acc[type];\n            if (foundValue && foundValue.timestamp < timestamp) {\n                acc[type] = {\n                    value,\n                    timestamp\n                };\n            } else {\n                acc[type] = {\n                    value,\n                    timestamp\n                };\n            }\n            return acc;\n        }, {});\n        return {\n            profileImage: valuesByType[1 /* PFP */ ]?.value,\n            displayName: valuesByType[2 /* DISPLAY */ ]?.value,\n            username: valuesByType[6 /* USERNAME */ ]?.value,\n            bio: valuesByType[3 /* BIO */ ]?.value\n        };\n    }\n    return null;\n}\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvZnJhbWVzLmpzL2Rpc3QvY2h1bmstTllNN083SUcuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBRzZCO0FBR0E7QUFFN0IsMkJBQTJCO0FBQzNCLGVBQWVHLGtCQUFrQixFQUMvQkMsR0FBRyxFQUNIQyxVQUFVLENBQUMsQ0FBQyxFQUNiO0lBQ0MsTUFBTSxFQUNKQyxhQUFhTCxtRUFBbUIsRUFDaENNLG9CQUFvQjtRQUNsQkMsU0FBUztZQUNQQyxTQUFTVCxtRUFBbUJBO1FBQzlCO0lBQ0YsQ0FBQyxFQUNGLEdBQUdLO0lBQ0osTUFBTUssbUJBQW1CLE1BQU1DLE1BQzdCLENBQUMsRUFBRUwsV0FBVyxzQkFBc0IsRUFBRUYsSUFBSSxDQUFDLEVBQzNDRztJQUVGLE1BQU0sRUFBRUssUUFBUSxFQUFFLEdBQUcsTUFBTUYsaUJBQWlCRyxLQUFLLEdBQUdDLElBQUksR0FBR0MsS0FBSyxDQUFDO1FBQy9ELE1BQU0sSUFBSUMsTUFDUixDQUFDLHdGQUF3RixFQUFFTixpQkFBaUJPLE1BQU0sQ0FBQyxZQUFZLEVBQUUsTUFBTVAsaUJBQWlCRyxLQUFLLEdBQUdLLElBQUksR0FBRyxDQUFDLENBQUM7SUFFN0s7SUFDQSxJQUFJTixZQUFZQSxTQUFTTyxNQUFNLEdBQUcsR0FBRztRQUNuQyxNQUFNQyxlQUFlUixTQUFTUyxNQUFNLENBQUMsQ0FBQ0MsS0FBS0M7WUFDekMsTUFBTUMsVUFBVXRCLHVEQUFPQSxDQUFDdUIsUUFBUSxDQUFDRjtZQUNqQyxJQUFJQyxRQUFRRSxJQUFJLEVBQUVDLFNBQVMsR0FBRyxpQkFBaUIsS0FBSTtnQkFDakQsT0FBT0w7WUFDVDtZQUNBLElBQUksQ0FBQ0UsUUFBUUUsSUFBSSxDQUFDRSxZQUFZLEVBQUU7Z0JBQzlCLE9BQU9OO1lBQ1Q7WUFDQSxNQUFNTyxZQUFZTCxRQUFRRSxJQUFJLENBQUNHLFNBQVM7WUFDeEMsTUFBTSxFQUFFRixJQUFJLEVBQUVHLEtBQUssRUFBRSxHQUFHTixRQUFRRSxJQUFJLENBQUNFLFlBQVk7WUFDakQsTUFBTUcsYUFBYVQsR0FBRyxDQUFDSyxLQUFLO1lBQzVCLElBQUlJLGNBQWNBLFdBQVdGLFNBQVMsR0FBR0EsV0FBVztnQkFDbERQLEdBQUcsQ0FBQ0ssS0FBSyxHQUFHO29CQUFFRztvQkFBT0Q7Z0JBQVU7WUFDakMsT0FBTztnQkFDTFAsR0FBRyxDQUFDSyxLQUFLLEdBQUc7b0JBQUVHO29CQUFPRDtnQkFBVTtZQUNqQztZQUNBLE9BQU9QO1FBQ1QsR0FBRyxDQUFDO1FBQ0osT0FBTztZQUNMVSxjQUFjWixZQUFZLENBQUMsRUFBRSxPQUFPLElBQUcsRUFBRVU7WUFDekNHLGFBQWFiLFlBQVksQ0FBQyxFQUFFLFdBQVcsSUFBRyxFQUFFVTtZQUM1Q0ksVUFBVWQsWUFBWSxDQUFDLEVBQUUsWUFBWSxJQUFHLEVBQUVVO1lBQzFDSyxLQUFLZixZQUFZLENBQUMsRUFBRSxPQUFPLElBQUcsRUFBRVU7UUFDbEM7SUFDRjtJQUNBLE9BQU87QUFDVDtBQUlFIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcGxlYi1maW5kZXIvLi9ub2RlX21vZHVsZXMvZnJhbWVzLmpzL2Rpc3QvY2h1bmstTllNN083SUcuanM/NWQxMiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge1xuICBERUZBVUxUX0hVQl9BUElfS0VZLFxuICBERUZBVUxUX0hVQl9BUElfVVJMXG59IGZyb20gXCIuL2NodW5rLVQyVVFRUlRMLmpzXCI7XG5pbXBvcnQge1xuICBNZXNzYWdlXG59IGZyb20gXCIuL2NodW5rLU1JNDNKUkVSLmpzXCI7XG5cbi8vIHNyYy9nZXRVc2VyRGF0YUZvckZpZC50c1xuYXN5bmMgZnVuY3Rpb24gZ2V0VXNlckRhdGFGb3JGaWQoe1xuICBmaWQsXG4gIG9wdGlvbnMgPSB7fVxufSkge1xuICBjb25zdCB7XG4gICAgaHViSHR0cFVybCA9IERFRkFVTFRfSFVCX0FQSV9VUkwsXG4gICAgaHViUmVxdWVzdE9wdGlvbnMgPSB7XG4gICAgICBoZWFkZXJzOiB7XG4gICAgICAgIGFwaV9rZXk6IERFRkFVTFRfSFVCX0FQSV9LRVlcbiAgICAgIH1cbiAgICB9XG4gIH0gPSBvcHRpb25zO1xuICBjb25zdCB1c2VyRGF0YVJlc3BvbnNlID0gYXdhaXQgZmV0Y2goXG4gICAgYCR7aHViSHR0cFVybH0vdjEvdXNlckRhdGFCeUZpZD9maWQ9JHtmaWR9YCxcbiAgICBodWJSZXF1ZXN0T3B0aW9uc1xuICApO1xuICBjb25zdCB7IG1lc3NhZ2VzIH0gPSBhd2FpdCB1c2VyRGF0YVJlc3BvbnNlLmNsb25lKCkuanNvbigpLmNhdGNoKGFzeW5jICgpID0+IHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICBgRmFpbGVkIHRvIHBhcnNlIHJlc3BvbnNlIGJvZHkgYXMgSlNPTiBiZWNhdXNlIHNlcnZlciBodWIgcmV0dXJuZWQgcmVzcG9uc2Ugd2l0aCBzdGF0dXMgXCIke3VzZXJEYXRhUmVzcG9uc2Uuc3RhdHVzfVwiIGFuZCBib2R5IFwiJHthd2FpdCB1c2VyRGF0YVJlc3BvbnNlLmNsb25lKCkudGV4dCgpfVwiYFxuICAgICk7XG4gIH0pO1xuICBpZiAobWVzc2FnZXMgJiYgbWVzc2FnZXMubGVuZ3RoID4gMCkge1xuICAgIGNvbnN0IHZhbHVlc0J5VHlwZSA9IG1lc3NhZ2VzLnJlZHVjZSgoYWNjLCBtZXNzYWdlSnNvbikgPT4ge1xuICAgICAgY29uc3QgbWVzc2FnZSA9IE1lc3NhZ2UuZnJvbUpTT04obWVzc2FnZUpzb24pO1xuICAgICAgaWYgKG1lc3NhZ2UuZGF0YT8udHlwZSAhPT0gMTEgLyogVVNFUl9EQVRBX0FERCAqLykge1xuICAgICAgICByZXR1cm4gYWNjO1xuICAgICAgfVxuICAgICAgaWYgKCFtZXNzYWdlLmRhdGEudXNlckRhdGFCb2R5KSB7XG4gICAgICAgIHJldHVybiBhY2M7XG4gICAgICB9XG4gICAgICBjb25zdCB0aW1lc3RhbXAgPSBtZXNzYWdlLmRhdGEudGltZXN0YW1wO1xuICAgICAgY29uc3QgeyB0eXBlLCB2YWx1ZSB9ID0gbWVzc2FnZS5kYXRhLnVzZXJEYXRhQm9keTtcbiAgICAgIGNvbnN0IGZvdW5kVmFsdWUgPSBhY2NbdHlwZV07XG4gICAgICBpZiAoZm91bmRWYWx1ZSAmJiBmb3VuZFZhbHVlLnRpbWVzdGFtcCA8IHRpbWVzdGFtcCkge1xuICAgICAgICBhY2NbdHlwZV0gPSB7IHZhbHVlLCB0aW1lc3RhbXAgfTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGFjY1t0eXBlXSA9IHsgdmFsdWUsIHRpbWVzdGFtcCB9O1xuICAgICAgfVxuICAgICAgcmV0dXJuIGFjYztcbiAgICB9LCB7fSk7XG4gICAgcmV0dXJuIHtcbiAgICAgIHByb2ZpbGVJbWFnZTogdmFsdWVzQnlUeXBlWzEgLyogUEZQICovXT8udmFsdWUsXG4gICAgICBkaXNwbGF5TmFtZTogdmFsdWVzQnlUeXBlWzIgLyogRElTUExBWSAqL10/LnZhbHVlLFxuICAgICAgdXNlcm5hbWU6IHZhbHVlc0J5VHlwZVs2IC8qIFVTRVJOQU1FICovXT8udmFsdWUsXG4gICAgICBiaW86IHZhbHVlc0J5VHlwZVszIC8qIEJJTyAqL10/LnZhbHVlXG4gICAgfTtcbiAgfVxuICByZXR1cm4gbnVsbDtcbn1cblxuZXhwb3J0IHtcbiAgZ2V0VXNlckRhdGFGb3JGaWRcbn07XG4iXSwibmFtZXMiOlsiREVGQVVMVF9IVUJfQVBJX0tFWSIsIkRFRkFVTFRfSFVCX0FQSV9VUkwiLCJNZXNzYWdlIiwiZ2V0VXNlckRhdGFGb3JGaWQiLCJmaWQiLCJvcHRpb25zIiwiaHViSHR0cFVybCIsImh1YlJlcXVlc3RPcHRpb25zIiwiaGVhZGVycyIsImFwaV9rZXkiLCJ1c2VyRGF0YVJlc3BvbnNlIiwiZmV0Y2giLCJtZXNzYWdlcyIsImNsb25lIiwianNvbiIsImNhdGNoIiwiRXJyb3IiLCJzdGF0dXMiLCJ0ZXh0IiwibGVuZ3RoIiwidmFsdWVzQnlUeXBlIiwicmVkdWNlIiwiYWNjIiwibWVzc2FnZUpzb24iLCJtZXNzYWdlIiwiZnJvbUpTT04iLCJkYXRhIiwidHlwZSIsInVzZXJEYXRhQm9keSIsInRpbWVzdGFtcCIsInZhbHVlIiwiZm91bmRWYWx1ZSIsInByb2ZpbGVJbWFnZSIsImRpc3BsYXlOYW1lIiwidXNlcm5hbWUiLCJiaW8iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/frames.js/dist/chunk-NYM7O7IG.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/frames.js/dist/chunk-PX7ZYZY7.js":
/*!*******************************************************!*\
  !*** ./node_modules/frames.js/dist/chunk-PX7ZYZY7.js ***!
  \*******************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Button: () => (/* binding */ Button)\n/* harmony export */ });\n// src/core/components.ts\nfunction Button(_) {\n  return null;\n}\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvZnJhbWVzLmpzL2Rpc3QvY2h1bmstUFg3WllaWTcuanMiLCJtYXBwaW5ncyI6Ijs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBOztBQUlFIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcGxlYi1maW5kZXIvLi9ub2RlX21vZHVsZXMvZnJhbWVzLmpzL2Rpc3QvY2h1bmstUFg3WllaWTcuanM/YmE2ZiJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBzcmMvY29yZS9jb21wb25lbnRzLnRzXG5mdW5jdGlvbiBCdXR0b24oXykge1xuICByZXR1cm4gbnVsbDtcbn1cblxuZXhwb3J0IHtcbiAgQnV0dG9uXG59O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/frames.js/dist/chunk-PX7ZYZY7.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/frames.js/dist/chunk-QHDQPHLF.js":
/*!*******************************************************!*\
  !*** ./node_modules/frames.js/dist/chunk-QHDQPHLF.js ***!
  \*******************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   types_exports: () => (/* binding */ types_exports)\n/* harmony export */ });\n// src/core/types.ts\nvar types_exports = {};\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvZnJhbWVzLmpzL2Rpc3QvY2h1bmstUUhEUVBITEYuanMiLCJtYXBwaW5ncyI6Ijs7OztBQUFBO0FBQ0E7O0FBSUUiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9wbGViLWZpbmRlci8uL25vZGVfbW9kdWxlcy9mcmFtZXMuanMvZGlzdC9jaHVuay1RSERRUEhMRi5qcz84Mjg4Il0sInNvdXJjZXNDb250ZW50IjpbIi8vIHNyYy9jb3JlL3R5cGVzLnRzXG52YXIgdHlwZXNfZXhwb3J0cyA9IHt9O1xuXG5leHBvcnQge1xuICB0eXBlc19leHBvcnRzXG59O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/frames.js/dist/chunk-QHDQPHLF.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/frames.js/dist/chunk-SUN5RYRE.js":
/*!*******************************************************!*\
  !*** ./node_modules/frames.js/dist/chunk-SUN5RYRE.js ***!
  \*******************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getAddressesForFid: () => (/* binding */ getAddressesForFid)\n/* harmony export */ });\n/* harmony import */ var _chunk_T2UQQRTL_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./chunk-T2UQQRTL.js */ \"(rsc)/./node_modules/frames.js/dist/chunk-T2UQQRTL.js\");\n/* harmony import */ var _chunk_CGGPX3ON_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./chunk-CGGPX3ON.js */ \"(rsc)/./node_modules/frames.js/dist/chunk-CGGPX3ON.js\");\n/* harmony import */ var viem__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! viem */ \"(rsc)/./node_modules/viem/_esm/clients/createPublicClient.js\");\n/* harmony import */ var viem__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! viem */ \"(rsc)/./node_modules/viem/_esm/clients/transports/http.js\");\n/* harmony import */ var viem__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! viem */ \"(rsc)/./node_modules/abitype/dist/esm/human-readable/parseAbi.js\");\n/* harmony import */ var viem_chains__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! viem/chains */ \"(rsc)/./node_modules/viem/_esm/chains/definitions/optimism.js\");\n\n\n// src/getAddressesForFid.ts\n\n\nasync function getCustodyAddressForFid(fid) {\n    const publicClient = (0,viem__WEBPACK_IMPORTED_MODULE_2__.createPublicClient)({\n        transport: (0,viem__WEBPACK_IMPORTED_MODULE_3__.http)(),\n        chain: viem_chains__WEBPACK_IMPORTED_MODULE_4__.optimism\n    });\n    const address = await publicClient.readContract({\n        abi: (0,viem__WEBPACK_IMPORTED_MODULE_5__.parseAbi)([\n            \"function custodyOf(uint256 fid) view returns (address)\"\n        ]),\n        // IdRegistry contract address\n        address: \"0x00000000fc6c5f01fc30151999387bb99a9f489b\",\n        functionName: \"custodyOf\",\n        args: [\n            BigInt(fid)\n        ]\n    });\n    return {\n        address,\n        type: \"custody\"\n    };\n}\nasync function getAddressesForFid({ fid, options = {} }) {\n    const { hubHttpUrl = _chunk_T2UQQRTL_js__WEBPACK_IMPORTED_MODULE_0__.DEFAULT_HUB_API_URL, hubRequestOptions = {\n        headers: {\n            api_key: _chunk_T2UQQRTL_js__WEBPACK_IMPORTED_MODULE_0__.DEFAULT_HUB_API_KEY\n        }\n    } } = options;\n    const [verificationsResponse, custodyAddress] = await Promise.all([\n        fetch(`${hubHttpUrl}/v1/verificationsByFid?fid=${fid}`, hubRequestOptions),\n        getCustodyAddressForFid(fid)\n    ]);\n    const { messages } = await verificationsResponse.clone().json().catch(async ()=>{\n        throw new Error(`Failed to parse response body as JSON because server hub returned response with status \"${verificationsResponse.status}\" and body \"${await verificationsResponse.clone().text()}\"`);\n    });\n    if (messages) {\n        const verifiedAddresses = messages.map((message)=>{\n            const address = (0,_chunk_CGGPX3ON_js__WEBPACK_IMPORTED_MODULE_1__.extractAddressFromJSONMessage)(message);\n            if (!address) {\n                return null;\n            }\n            return {\n                address: (0,_chunk_CGGPX3ON_js__WEBPACK_IMPORTED_MODULE_1__.extractAddressFromJSONMessage)(message),\n                type: \"verified\"\n            };\n        }).filter((val)=>val !== null);\n        return [\n            ...verifiedAddresses,\n            custodyAddress\n        ];\n    }\n    return [\n        custodyAddress\n    ];\n}\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvZnJhbWVzLmpzL2Rpc3QvY2h1bmstU1VONVJZUkUuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7OztBQUc2QjtBQUdBO0FBRTdCLDRCQUE0QjtBQUM4QjtBQUNuQjtBQUN2QyxlQUFlTyx3QkFBd0JDLEdBQUc7SUFDeEMsTUFBTUMsZUFBZU4sd0RBQWtCQSxDQUFDO1FBQ3RDTyxXQUFXTiwwQ0FBSUE7UUFDZk8sT0FBT0wsaURBQVFBO0lBQ2pCO0lBQ0EsTUFBTU0sVUFBVSxNQUFNSCxhQUFhSSxZQUFZLENBQUM7UUFDOUNDLEtBQUtULDhDQUFRQSxDQUFDO1lBQUM7U0FBeUQ7UUFDeEUsOEJBQThCO1FBQzlCTyxTQUFTO1FBQ1RHLGNBQWM7UUFDZEMsTUFBTTtZQUFDQyxPQUFPVDtTQUFLO0lBQ3JCO0lBQ0EsT0FBTztRQUFFSTtRQUFTTSxNQUFNO0lBQVU7QUFDcEM7QUFDQSxlQUFlQyxtQkFBbUIsRUFDaENYLEdBQUcsRUFDSFksVUFBVSxDQUFDLENBQUMsRUFDYjtJQUNDLE1BQU0sRUFDSkMsYUFBYXBCLG1FQUFtQixFQUNoQ3FCLG9CQUFvQjtRQUNsQkMsU0FBUztZQUNQQyxTQUFTeEIsbUVBQW1CQTtRQUM5QjtJQUNGLENBQUMsRUFDRixHQUFHb0I7SUFDSixNQUFNLENBQUNLLHVCQUF1QkMsZUFBZSxHQUFHLE1BQU1DLFFBQVFDLEdBQUcsQ0FBQztRQUNoRUMsTUFBTSxDQUFDLEVBQUVSLFdBQVcsMkJBQTJCLEVBQUViLElBQUksQ0FBQyxFQUFFYztRQUN4RGYsd0JBQXdCQztLQUN6QjtJQUNELE1BQU0sRUFBRXNCLFFBQVEsRUFBRSxHQUFHLE1BQU1MLHNCQUFzQk0sS0FBSyxHQUFHQyxJQUFJLEdBQUdDLEtBQUssQ0FBQztRQUNwRSxNQUFNLElBQUlDLE1BQ1IsQ0FBQyx3RkFBd0YsRUFBRVQsc0JBQXNCVSxNQUFNLENBQUMsWUFBWSxFQUFFLE1BQU1WLHNCQUFzQk0sS0FBSyxHQUFHSyxJQUFJLEdBQUcsQ0FBQyxDQUFDO0lBRXZMO0lBQ0EsSUFBSU4sVUFBVTtRQUNaLE1BQU1PLG9CQUFvQlAsU0FBU1EsR0FBRyxDQUFDLENBQUNDO1lBQ3RDLE1BQU0zQixVQUFVVixpRkFBNkJBLENBQUNxQztZQUM5QyxJQUFJLENBQUMzQixTQUFTO2dCQUNaLE9BQU87WUFDVDtZQUNBLE9BQU87Z0JBQ0xBLFNBQVNWLGlGQUE2QkEsQ0FBQ3FDO2dCQUN2Q3JCLE1BQU07WUFDUjtRQUNGLEdBQUdzQixNQUFNLENBQUMsQ0FBQ0MsTUFBUUEsUUFBUTtRQUMzQixPQUFPO2VBQUlKO1lBQW1CWDtTQUFlO0lBQy9DO0lBQ0EsT0FBTztRQUFDQTtLQUFlO0FBQ3pCO0FBSUUiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9wbGViLWZpbmRlci8uL25vZGVfbW9kdWxlcy9mcmFtZXMuanMvZGlzdC9jaHVuay1TVU41UllSRS5qcz9iNDkwIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7XG4gIERFRkFVTFRfSFVCX0FQSV9LRVksXG4gIERFRkFVTFRfSFVCX0FQSV9VUkxcbn0gZnJvbSBcIi4vY2h1bmstVDJVUVFSVEwuanNcIjtcbmltcG9ydCB7XG4gIGV4dHJhY3RBZGRyZXNzRnJvbUpTT05NZXNzYWdlXG59IGZyb20gXCIuL2NodW5rLUNHR1BYM09OLmpzXCI7XG5cbi8vIHNyYy9nZXRBZGRyZXNzZXNGb3JGaWQudHNcbmltcG9ydCB7IGNyZWF0ZVB1YmxpY0NsaWVudCwgaHR0cCwgcGFyc2VBYmkgfSBmcm9tIFwidmllbVwiO1xuaW1wb3J0IHsgb3B0aW1pc20gfSBmcm9tIFwidmllbS9jaGFpbnNcIjtcbmFzeW5jIGZ1bmN0aW9uIGdldEN1c3RvZHlBZGRyZXNzRm9yRmlkKGZpZCkge1xuICBjb25zdCBwdWJsaWNDbGllbnQgPSBjcmVhdGVQdWJsaWNDbGllbnQoe1xuICAgIHRyYW5zcG9ydDogaHR0cCgpLFxuICAgIGNoYWluOiBvcHRpbWlzbVxuICB9KTtcbiAgY29uc3QgYWRkcmVzcyA9IGF3YWl0IHB1YmxpY0NsaWVudC5yZWFkQ29udHJhY3Qoe1xuICAgIGFiaTogcGFyc2VBYmkoW1wiZnVuY3Rpb24gY3VzdG9keU9mKHVpbnQyNTYgZmlkKSB2aWV3IHJldHVybnMgKGFkZHJlc3MpXCJdKSxcbiAgICAvLyBJZFJlZ2lzdHJ5IGNvbnRyYWN0IGFkZHJlc3NcbiAgICBhZGRyZXNzOiBcIjB4MDAwMDAwMDBmYzZjNWYwMWZjMzAxNTE5OTkzODdiYjk5YTlmNDg5YlwiLFxuICAgIGZ1bmN0aW9uTmFtZTogXCJjdXN0b2R5T2ZcIixcbiAgICBhcmdzOiBbQmlnSW50KGZpZCldXG4gIH0pO1xuICByZXR1cm4geyBhZGRyZXNzLCB0eXBlOiBcImN1c3RvZHlcIiB9O1xufVxuYXN5bmMgZnVuY3Rpb24gZ2V0QWRkcmVzc2VzRm9yRmlkKHtcbiAgZmlkLFxuICBvcHRpb25zID0ge31cbn0pIHtcbiAgY29uc3Qge1xuICAgIGh1Ykh0dHBVcmwgPSBERUZBVUxUX0hVQl9BUElfVVJMLFxuICAgIGh1YlJlcXVlc3RPcHRpb25zID0ge1xuICAgICAgaGVhZGVyczoge1xuICAgICAgICBhcGlfa2V5OiBERUZBVUxUX0hVQl9BUElfS0VZXG4gICAgICB9XG4gICAgfVxuICB9ID0gb3B0aW9ucztcbiAgY29uc3QgW3ZlcmlmaWNhdGlvbnNSZXNwb25zZSwgY3VzdG9keUFkZHJlc3NdID0gYXdhaXQgUHJvbWlzZS5hbGwoW1xuICAgIGZldGNoKGAke2h1Ykh0dHBVcmx9L3YxL3ZlcmlmaWNhdGlvbnNCeUZpZD9maWQ9JHtmaWR9YCwgaHViUmVxdWVzdE9wdGlvbnMpLFxuICAgIGdldEN1c3RvZHlBZGRyZXNzRm9yRmlkKGZpZClcbiAgXSk7XG4gIGNvbnN0IHsgbWVzc2FnZXMgfSA9IGF3YWl0IHZlcmlmaWNhdGlvbnNSZXNwb25zZS5jbG9uZSgpLmpzb24oKS5jYXRjaChhc3luYyAoKSA9PiB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgYEZhaWxlZCB0byBwYXJzZSByZXNwb25zZSBib2R5IGFzIEpTT04gYmVjYXVzZSBzZXJ2ZXIgaHViIHJldHVybmVkIHJlc3BvbnNlIHdpdGggc3RhdHVzIFwiJHt2ZXJpZmljYXRpb25zUmVzcG9uc2Uuc3RhdHVzfVwiIGFuZCBib2R5IFwiJHthd2FpdCB2ZXJpZmljYXRpb25zUmVzcG9uc2UuY2xvbmUoKS50ZXh0KCl9XCJgXG4gICAgKTtcbiAgfSk7XG4gIGlmIChtZXNzYWdlcykge1xuICAgIGNvbnN0IHZlcmlmaWVkQWRkcmVzc2VzID0gbWVzc2FnZXMubWFwKChtZXNzYWdlKSA9PiB7XG4gICAgICBjb25zdCBhZGRyZXNzID0gZXh0cmFjdEFkZHJlc3NGcm9tSlNPTk1lc3NhZ2UobWVzc2FnZSk7XG4gICAgICBpZiAoIWFkZHJlc3MpIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9XG4gICAgICByZXR1cm4ge1xuICAgICAgICBhZGRyZXNzOiBleHRyYWN0QWRkcmVzc0Zyb21KU09OTWVzc2FnZShtZXNzYWdlKSxcbiAgICAgICAgdHlwZTogXCJ2ZXJpZmllZFwiXG4gICAgICB9O1xuICAgIH0pLmZpbHRlcigodmFsKSA9PiB2YWwgIT09IG51bGwpO1xuICAgIHJldHVybiBbLi4udmVyaWZpZWRBZGRyZXNzZXMsIGN1c3RvZHlBZGRyZXNzXTtcbiAgfVxuICByZXR1cm4gW2N1c3RvZHlBZGRyZXNzXTtcbn1cblxuZXhwb3J0IHtcbiAgZ2V0QWRkcmVzc2VzRm9yRmlkXG59O1xuIl0sIm5hbWVzIjpbIkRFRkFVTFRfSFVCX0FQSV9LRVkiLCJERUZBVUxUX0hVQl9BUElfVVJMIiwiZXh0cmFjdEFkZHJlc3NGcm9tSlNPTk1lc3NhZ2UiLCJjcmVhdGVQdWJsaWNDbGllbnQiLCJodHRwIiwicGFyc2VBYmkiLCJvcHRpbWlzbSIsImdldEN1c3RvZHlBZGRyZXNzRm9yRmlkIiwiZmlkIiwicHVibGljQ2xpZW50IiwidHJhbnNwb3J0IiwiY2hhaW4iLCJhZGRyZXNzIiwicmVhZENvbnRyYWN0IiwiYWJpIiwiZnVuY3Rpb25OYW1lIiwiYXJncyIsIkJpZ0ludCIsInR5cGUiLCJnZXRBZGRyZXNzZXNGb3JGaWQiLCJvcHRpb25zIiwiaHViSHR0cFVybCIsImh1YlJlcXVlc3RPcHRpb25zIiwiaGVhZGVycyIsImFwaV9rZXkiLCJ2ZXJpZmljYXRpb25zUmVzcG9uc2UiLCJjdXN0b2R5QWRkcmVzcyIsIlByb21pc2UiLCJhbGwiLCJmZXRjaCIsIm1lc3NhZ2VzIiwiY2xvbmUiLCJqc29uIiwiY2F0Y2giLCJFcnJvciIsInN0YXR1cyIsInRleHQiLCJ2ZXJpZmllZEFkZHJlc3NlcyIsIm1hcCIsIm1lc3NhZ2UiLCJmaWx0ZXIiLCJ2YWwiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/frames.js/dist/chunk-SUN5RYRE.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/frames.js/dist/chunk-T2UQQRTL.js":
/*!*******************************************************!*\
  !*** ./node_modules/frames.js/dist/chunk-T2UQQRTL.js ***!
  \*******************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   DEFAULT_HUB_API_KEY: () => (/* binding */ DEFAULT_HUB_API_KEY),\n/* harmony export */   DEFAULT_HUB_API_URL: () => (/* binding */ DEFAULT_HUB_API_URL)\n/* harmony export */ });\n// src/default.ts\nvar DEFAULT_HUB_API_URL = \"https://hub-api.neynar.com\";\nvar DEFAULT_HUB_API_KEY = \"NEYNAR_FRAMES_JS\";\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvZnJhbWVzLmpzL2Rpc3QvY2h1bmstVDJVUVFSVEwuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBQTtBQUNBO0FBQ0E7O0FBS0UiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9wbGViLWZpbmRlci8uL25vZGVfbW9kdWxlcy9mcmFtZXMuanMvZGlzdC9jaHVuay1UMlVRUVJUTC5qcz9lNGM0Il0sInNvdXJjZXNDb250ZW50IjpbIi8vIHNyYy9kZWZhdWx0LnRzXG52YXIgREVGQVVMVF9IVUJfQVBJX1VSTCA9IFwiaHR0cHM6Ly9odWItYXBpLm5leW5hci5jb21cIjtcbnZhciBERUZBVUxUX0hVQl9BUElfS0VZID0gXCJORVlOQVJfRlJBTUVTX0pTXCI7XG5cbmV4cG9ydCB7XG4gIERFRkFVTFRfSFVCX0FQSV9VUkwsXG4gIERFRkFVTFRfSFVCX0FQSV9LRVlcbn07XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/frames.js/dist/chunk-T2UQQRTL.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/frames.js/dist/chunk-U4LCIGWM.js":
/*!*******************************************************!*\
  !*** ./node_modules/frames.js/dist/chunk-U4LCIGWM.js ***!
  \*******************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   FRAMES_META_TAGS_HEADER: () => (/* binding */ FRAMES_META_TAGS_HEADER)\n/* harmony export */ });\n// src/core/constants.ts\nvar FRAMES_META_TAGS_HEADER = \"application/frames.js+metatags\";\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvZnJhbWVzLmpzL2Rpc3QvY2h1bmstVTRMQ0lHV00uanMiLCJtYXBwaW5ncyI6Ijs7OztBQUFBO0FBQ0E7O0FBSUUiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9wbGViLWZpbmRlci8uL25vZGVfbW9kdWxlcy9mcmFtZXMuanMvZGlzdC9jaHVuay1VNExDSUdXTS5qcz9jZGY2Il0sInNvdXJjZXNDb250ZW50IjpbIi8vIHNyYy9jb3JlL2NvbnN0YW50cy50c1xudmFyIEZSQU1FU19NRVRBX1RBR1NfSEVBREVSID0gXCJhcHBsaWNhdGlvbi9mcmFtZXMuanMrbWV0YXRhZ3NcIjtcblxuZXhwb3J0IHtcbiAgRlJBTUVTX01FVEFfVEFHU19IRUFERVJcbn07XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/frames.js/dist/chunk-U4LCIGWM.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/frames.js/dist/chunk-VJ4W2HLT.js":
/*!*******************************************************!*\
  !*** ./node_modules/frames.js/dist/chunk-VJ4W2HLT.js ***!
  \*******************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   farcaster: () => (/* binding */ farcaster)\n/* harmony export */ });\n/* harmony import */ var _chunk_3G7JIAWO_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./chunk-3G7JIAWO.js */ \"(rsc)/./node_modules/frames.js/dist/chunk-3G7JIAWO.js\");\n/* harmony import */ var _chunk_5TLR47X5_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./chunk-5TLR47X5.js */ \"(rsc)/./node_modules/frames.js/dist/chunk-5TLR47X5.js\");\n\n\n\n// src/middleware/farcaster.ts\nfunction isValidFrameActionPayload(value) {\n  return typeof value === \"object\" && value !== null && \"trustedData\" in value && \"untrustedData\" in value;\n}\nasync function decodeFrameActionPayloadFromRequest(request) {\n  try {\n    const body = await request.clone().json().catch(() => {\n      throw new _chunk_3G7JIAWO_js__WEBPACK_IMPORTED_MODULE_0__.RequestBodyNotJSONError();\n    });\n    if (!isValidFrameActionPayload(body)) {\n      throw new _chunk_3G7JIAWO_js__WEBPACK_IMPORTED_MODULE_0__.InvalidFrameActionPayloadError();\n    }\n    return body;\n  } catch (e) {\n    if (e instanceof _chunk_3G7JIAWO_js__WEBPACK_IMPORTED_MODULE_0__.RequestBodyNotJSONError || e instanceof _chunk_3G7JIAWO_js__WEBPACK_IMPORTED_MODULE_0__.InvalidFrameActionPayloadError) {\n      return void 0;\n    }\n    console.error(e);\n    return void 0;\n  }\n}\nfunction farcaster() {\n  return async (context, next) => {\n    if (context.request.method !== \"POST\") {\n      return next();\n    }\n    const payload = await decodeFrameActionPayloadFromRequest(context.request);\n    if (!payload) {\n      return next();\n    }\n    try {\n      const message = await (0,_chunk_5TLR47X5_js__WEBPACK_IMPORTED_MODULE_1__.getFrameMessage)(payload, {\n        fetchHubContext: false\n      });\n      return next({\n        message,\n        clientProtocol: {\n          id: \"farcaster\",\n          version: \"vNext\"\n        }\n      });\n    } catch (error) {\n      console.info(\n        \"farcaster middleware: could not decode farcaster message from payload, calling next.\"\n      );\n      return next();\n    }\n  };\n}\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvZnJhbWVzLmpzL2Rpc3QvY2h1bmstVko0VzJITFQuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBRzZCO0FBR0E7O0FBRTdCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCLHVFQUF1QjtBQUN2QyxLQUFLO0FBQ0w7QUFDQSxnQkFBZ0IsOEVBQThCO0FBQzlDO0FBQ0E7QUFDQSxJQUFJO0FBQ0oscUJBQXFCLHVFQUF1QixpQkFBaUIsOEVBQThCO0FBQzNGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNEJBQTRCLG1FQUFlO0FBQzNDO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUCxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBSUUiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9wbGViLWZpbmRlci8uL25vZGVfbW9kdWxlcy9mcmFtZXMuanMvZGlzdC9jaHVuay1WSjRXMkhMVC5qcz84NzY2Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7XG4gIEludmFsaWRGcmFtZUFjdGlvblBheWxvYWRFcnJvcixcbiAgUmVxdWVzdEJvZHlOb3RKU09ORXJyb3Jcbn0gZnJvbSBcIi4vY2h1bmstM0c3SklBV08uanNcIjtcbmltcG9ydCB7XG4gIGdldEZyYW1lTWVzc2FnZVxufSBmcm9tIFwiLi9jaHVuay01VExSNDdYNS5qc1wiO1xuXG4vLyBzcmMvbWlkZGxld2FyZS9mYXJjYXN0ZXIudHNcbmZ1bmN0aW9uIGlzVmFsaWRGcmFtZUFjdGlvblBheWxvYWQodmFsdWUpIHtcbiAgcmV0dXJuIHR5cGVvZiB2YWx1ZSA9PT0gXCJvYmplY3RcIiAmJiB2YWx1ZSAhPT0gbnVsbCAmJiBcInRydXN0ZWREYXRhXCIgaW4gdmFsdWUgJiYgXCJ1bnRydXN0ZWREYXRhXCIgaW4gdmFsdWU7XG59XG5hc3luYyBmdW5jdGlvbiBkZWNvZGVGcmFtZUFjdGlvblBheWxvYWRGcm9tUmVxdWVzdChyZXF1ZXN0KSB7XG4gIHRyeSB7XG4gICAgY29uc3QgYm9keSA9IGF3YWl0IHJlcXVlc3QuY2xvbmUoKS5qc29uKCkuY2F0Y2goKCkgPT4ge1xuICAgICAgdGhyb3cgbmV3IFJlcXVlc3RCb2R5Tm90SlNPTkVycm9yKCk7XG4gICAgfSk7XG4gICAgaWYgKCFpc1ZhbGlkRnJhbWVBY3Rpb25QYXlsb2FkKGJvZHkpKSB7XG4gICAgICB0aHJvdyBuZXcgSW52YWxpZEZyYW1lQWN0aW9uUGF5bG9hZEVycm9yKCk7XG4gICAgfVxuICAgIHJldHVybiBib2R5O1xuICB9IGNhdGNoIChlKSB7XG4gICAgaWYgKGUgaW5zdGFuY2VvZiBSZXF1ZXN0Qm9keU5vdEpTT05FcnJvciB8fCBlIGluc3RhbmNlb2YgSW52YWxpZEZyYW1lQWN0aW9uUGF5bG9hZEVycm9yKSB7XG4gICAgICByZXR1cm4gdm9pZCAwO1xuICAgIH1cbiAgICBjb25zb2xlLmVycm9yKGUpO1xuICAgIHJldHVybiB2b2lkIDA7XG4gIH1cbn1cbmZ1bmN0aW9uIGZhcmNhc3RlcigpIHtcbiAgcmV0dXJuIGFzeW5jIChjb250ZXh0LCBuZXh0KSA9PiB7XG4gICAgaWYgKGNvbnRleHQucmVxdWVzdC5tZXRob2QgIT09IFwiUE9TVFwiKSB7XG4gICAgICByZXR1cm4gbmV4dCgpO1xuICAgIH1cbiAgICBjb25zdCBwYXlsb2FkID0gYXdhaXQgZGVjb2RlRnJhbWVBY3Rpb25QYXlsb2FkRnJvbVJlcXVlc3QoY29udGV4dC5yZXF1ZXN0KTtcbiAgICBpZiAoIXBheWxvYWQpIHtcbiAgICAgIHJldHVybiBuZXh0KCk7XG4gICAgfVxuICAgIHRyeSB7XG4gICAgICBjb25zdCBtZXNzYWdlID0gYXdhaXQgZ2V0RnJhbWVNZXNzYWdlKHBheWxvYWQsIHtcbiAgICAgICAgZmV0Y2hIdWJDb250ZXh0OiBmYWxzZVxuICAgICAgfSk7XG4gICAgICByZXR1cm4gbmV4dCh7XG4gICAgICAgIG1lc3NhZ2UsXG4gICAgICAgIGNsaWVudFByb3RvY29sOiB7XG4gICAgICAgICAgaWQ6IFwiZmFyY2FzdGVyXCIsXG4gICAgICAgICAgdmVyc2lvbjogXCJ2TmV4dFwiXG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmluZm8oXG4gICAgICAgIFwiZmFyY2FzdGVyIG1pZGRsZXdhcmU6IGNvdWxkIG5vdCBkZWNvZGUgZmFyY2FzdGVyIG1lc3NhZ2UgZnJvbSBwYXlsb2FkLCBjYWxsaW5nIG5leHQuXCJcbiAgICAgICk7XG4gICAgICByZXR1cm4gbmV4dCgpO1xuICAgIH1cbiAgfTtcbn1cblxuZXhwb3J0IHtcbiAgZmFyY2FzdGVyXG59O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/frames.js/dist/chunk-VJ4W2HLT.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/frames.js/dist/chunk-WGMHF7ZM.js":
/*!*******************************************************!*\
  !*** ./node_modules/frames.js/dist/chunk-WGMHF7ZM.js ***!
  \*******************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);


/***/ }),

/***/ "(rsc)/./node_modules/frames.js/dist/chunk-YKS4YA2Z.js":
/*!*******************************************************!*\
  !*** ./node_modules/frames.js/dist/chunk-YKS4YA2Z.js ***!
  \*******************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createFrames: () => (/* binding */ createFrames)\n/* harmony export */ });\n/* harmony import */ var _chunk_KVBPJHKH_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./chunk-KVBPJHKH.js */ \"(rsc)/./node_modules/frames.js/dist/chunk-KVBPJHKH.js\");\n/* harmony import */ var _chunk_LVR5UZAS_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./chunk-LVR5UZAS.js */ \"(rsc)/./node_modules/frames.js/dist/chunk-LVR5UZAS.js\");\n/* harmony import */ var _chunk_CAY3YIQE_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./chunk-CAY3YIQE.js */ \"(rsc)/./node_modules/frames.js/dist/chunk-CAY3YIQE.js\");\n/* harmony import */ var _chunk_LVMQ4PXS_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./chunk-LVMQ4PXS.js */ \"(rsc)/./node_modules/frames.js/dist/chunk-LVMQ4PXS.js\");\n\n\n\n\n\n// src/core/createFrames.ts\nfunction createFrames({\n  basePath = \"/\",\n  initialState,\n  middleware,\n  baseUrl\n} = {}) {\n  const globalMiddleware = middleware || [];\n  let url;\n  if (typeof baseUrl === \"string\") {\n    try {\n      url = new URL(baseUrl);\n    } catch (e) {\n      throw new Error(`Invalid baseUrl: ${e.message}`);\n    }\n  } else {\n    url = baseUrl;\n  }\n  return function createFramesRequestHandler(handler, options = {}) {\n    const perRouteMiddleware = Array.isArray(options.middleware) ? options.middleware : [];\n    const composedMiddleware = (0,_chunk_LVMQ4PXS_js__WEBPACK_IMPORTED_MODULE_3__.composeMiddleware)([\n      ..._chunk_LVR5UZAS_js__WEBPACK_IMPORTED_MODULE_1__.coreMiddleware,\n      // @ts-expect-error hard to type internally so skipping for now\n      ...globalMiddleware,\n      // @ts-expect-error hard to type internally so skipping for now\n      (0,_chunk_KVBPJHKH_js__WEBPACK_IMPORTED_MODULE_0__.stateMiddleware)(),\n      // @ts-expect-error hard to type internally so skipping for now\n      ...perRouteMiddleware,\n      // @ts-expect-error hard to type internally so skipping for now\n      async function handlerMiddleware(ctx) {\n        return handler(ctx);\n      }\n    ]);\n    return async function handleFramesRequest(request) {\n      const context = {\n        basePath,\n        initialState,\n        request,\n        url: new URL(request.url),\n        baseUrl: (0,_chunk_CAY3YIQE_js__WEBPACK_IMPORTED_MODULE_2__.resolveBaseUrl)(request, url, basePath)\n      };\n      const result = await composedMiddleware(context);\n      if (!(result instanceof Response)) {\n        throw new Error(\n          \"Please provide a middleware that returns a Response as first middleware in order.\"\n        );\n      }\n      return result;\n    };\n  };\n}\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvZnJhbWVzLmpzL2Rpc3QvY2h1bmstWUtTNFlBMlouanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFFNkI7QUFHQTtBQUdBO0FBR0E7O0FBRTdCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUUsSUFBSTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ04sMENBQTBDLFVBQVU7QUFDcEQ7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBLGtFQUFrRTtBQUNsRTtBQUNBLCtCQUErQixxRUFBaUI7QUFDaEQsU0FBUyw4REFBYztBQUN2QjtBQUNBO0FBQ0E7QUFDQSxNQUFNLG1FQUFlO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCLGtFQUFjO0FBQy9CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBSUUiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9wbGViLWZpbmRlci8uL25vZGVfbW9kdWxlcy9mcmFtZXMuanMvZGlzdC9jaHVuay1ZS1M0WUEyWi5qcz84MjYxIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7XG4gIHN0YXRlTWlkZGxld2FyZVxufSBmcm9tIFwiLi9jaHVuay1LVkJQSkhLSC5qc1wiO1xuaW1wb3J0IHtcbiAgY29yZU1pZGRsZXdhcmVcbn0gZnJvbSBcIi4vY2h1bmstTFZSNVVaQVMuanNcIjtcbmltcG9ydCB7XG4gIHJlc29sdmVCYXNlVXJsXG59IGZyb20gXCIuL2NodW5rLUNBWTNZSVFFLmpzXCI7XG5pbXBvcnQge1xuICBjb21wb3NlTWlkZGxld2FyZVxufSBmcm9tIFwiLi9jaHVuay1MVk1RNFBYUy5qc1wiO1xuXG4vLyBzcmMvY29yZS9jcmVhdGVGcmFtZXMudHNcbmZ1bmN0aW9uIGNyZWF0ZUZyYW1lcyh7XG4gIGJhc2VQYXRoID0gXCIvXCIsXG4gIGluaXRpYWxTdGF0ZSxcbiAgbWlkZGxld2FyZSxcbiAgYmFzZVVybFxufSA9IHt9KSB7XG4gIGNvbnN0IGdsb2JhbE1pZGRsZXdhcmUgPSBtaWRkbGV3YXJlIHx8IFtdO1xuICBsZXQgdXJsO1xuICBpZiAodHlwZW9mIGJhc2VVcmwgPT09IFwic3RyaW5nXCIpIHtcbiAgICB0cnkge1xuICAgICAgdXJsID0gbmV3IFVSTChiYXNlVXJsKTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYEludmFsaWQgYmFzZVVybDogJHtlLm1lc3NhZ2V9YCk7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIHVybCA9IGJhc2VVcmw7XG4gIH1cbiAgcmV0dXJuIGZ1bmN0aW9uIGNyZWF0ZUZyYW1lc1JlcXVlc3RIYW5kbGVyKGhhbmRsZXIsIG9wdGlvbnMgPSB7fSkge1xuICAgIGNvbnN0IHBlclJvdXRlTWlkZGxld2FyZSA9IEFycmF5LmlzQXJyYXkob3B0aW9ucy5taWRkbGV3YXJlKSA/IG9wdGlvbnMubWlkZGxld2FyZSA6IFtdO1xuICAgIGNvbnN0IGNvbXBvc2VkTWlkZGxld2FyZSA9IGNvbXBvc2VNaWRkbGV3YXJlKFtcbiAgICAgIC4uLmNvcmVNaWRkbGV3YXJlLFxuICAgICAgLy8gQHRzLWV4cGVjdC1lcnJvciBoYXJkIHRvIHR5cGUgaW50ZXJuYWxseSBzbyBza2lwcGluZyBmb3Igbm93XG4gICAgICAuLi5nbG9iYWxNaWRkbGV3YXJlLFxuICAgICAgLy8gQHRzLWV4cGVjdC1lcnJvciBoYXJkIHRvIHR5cGUgaW50ZXJuYWxseSBzbyBza2lwcGluZyBmb3Igbm93XG4gICAgICBzdGF0ZU1pZGRsZXdhcmUoKSxcbiAgICAgIC8vIEB0cy1leHBlY3QtZXJyb3IgaGFyZCB0byB0eXBlIGludGVybmFsbHkgc28gc2tpcHBpbmcgZm9yIG5vd1xuICAgICAgLi4ucGVyUm91dGVNaWRkbGV3YXJlLFxuICAgICAgLy8gQHRzLWV4cGVjdC1lcnJvciBoYXJkIHRvIHR5cGUgaW50ZXJuYWxseSBzbyBza2lwcGluZyBmb3Igbm93XG4gICAgICBhc3luYyBmdW5jdGlvbiBoYW5kbGVyTWlkZGxld2FyZShjdHgpIHtcbiAgICAgICAgcmV0dXJuIGhhbmRsZXIoY3R4KTtcbiAgICAgIH1cbiAgICBdKTtcbiAgICByZXR1cm4gYXN5bmMgZnVuY3Rpb24gaGFuZGxlRnJhbWVzUmVxdWVzdChyZXF1ZXN0KSB7XG4gICAgICBjb25zdCBjb250ZXh0ID0ge1xuICAgICAgICBiYXNlUGF0aCxcbiAgICAgICAgaW5pdGlhbFN0YXRlLFxuICAgICAgICByZXF1ZXN0LFxuICAgICAgICB1cmw6IG5ldyBVUkwocmVxdWVzdC51cmwpLFxuICAgICAgICBiYXNlVXJsOiByZXNvbHZlQmFzZVVybChyZXF1ZXN0LCB1cmwsIGJhc2VQYXRoKVxuICAgICAgfTtcbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGNvbXBvc2VkTWlkZGxld2FyZShjb250ZXh0KTtcbiAgICAgIGlmICghKHJlc3VsdCBpbnN0YW5jZW9mIFJlc3BvbnNlKSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICAgXCJQbGVhc2UgcHJvdmlkZSBhIG1pZGRsZXdhcmUgdGhhdCByZXR1cm5zIGEgUmVzcG9uc2UgYXMgZmlyc3QgbWlkZGxld2FyZSBpbiBvcmRlci5cIlxuICAgICAgICApO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9O1xuICB9O1xufVxuXG5leHBvcnQge1xuICBjcmVhdGVGcmFtZXNcbn07XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/frames.js/dist/chunk-YKS4YA2Z.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/frames.js/dist/next/index.js":
/*!***************************************************!*\
  !*** ./node_modules/frames.js/dist/next/index.js ***!
  \***************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Button: () => (/* reexport safe */ _chunk_PX7ZYZY7_js__WEBPACK_IMPORTED_MODULE_5__.Button),\n/* harmony export */   createFrames: () => (/* binding */ createFrames2),\n/* harmony export */   fetchMetadata: () => (/* reexport safe */ _chunk_JCSPSRFC_js__WEBPACK_IMPORTED_MODULE_0__.fetchMetadata)\n/* harmony export */ });\n/* harmony import */ var _chunk_JCSPSRFC_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../chunk-JCSPSRFC.js */ \"(rsc)/./node_modules/frames.js/dist/chunk-JCSPSRFC.js\");\n/* harmony import */ var _chunk_WGMHF7ZM_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../chunk-WGMHF7ZM.js */ \"(rsc)/./node_modules/frames.js/dist/chunk-WGMHF7ZM.js\");\n/* harmony import */ var _chunk_NKQ3BL6M_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../chunk-NKQ3BL6M.js */ \"(rsc)/./node_modules/frames.js/dist/chunk-NKQ3BL6M.js\");\n/* harmony import */ var _chunk_CTUE6VWY_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../chunk-CTUE6VWY.js */ \"(rsc)/./node_modules/frames.js/dist/chunk-CTUE6VWY.js\");\n/* harmony import */ var _chunk_QHDQPHLF_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../chunk-QHDQPHLF.js */ \"(rsc)/./node_modules/frames.js/dist/chunk-QHDQPHLF.js\");\n/* harmony import */ var _chunk_PX7ZYZY7_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../chunk-PX7ZYZY7.js */ \"(rsc)/./node_modules/frames.js/dist/chunk-PX7ZYZY7.js\");\n/* harmony import */ var _chunk_YKS4YA2Z_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../chunk-YKS4YA2Z.js */ \"(rsc)/./node_modules/frames.js/dist/chunk-YKS4YA2Z.js\");\n/* harmony import */ var _chunk_KVBPJHKH_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../chunk-KVBPJHKH.js */ \"(rsc)/./node_modules/frames.js/dist/chunk-KVBPJHKH.js\");\n/* harmony import */ var _chunk_LVR5UZAS_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../chunk-LVR5UZAS.js */ \"(rsc)/./node_modules/frames.js/dist/chunk-LVR5UZAS.js\");\n/* harmony import */ var _chunk_VJ4W2HLT_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../chunk-VJ4W2HLT.js */ \"(rsc)/./node_modules/frames.js/dist/chunk-VJ4W2HLT.js\");\n/* harmony import */ var _chunk_22POH47P_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../chunk-22POH47P.js */ \"(rsc)/./node_modules/frames.js/dist/chunk-22POH47P.js\");\n/* harmony import */ var _chunk_IOQ2GY4V_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../chunk-IOQ2GY4V.js */ \"(rsc)/./node_modules/frames.js/dist/chunk-IOQ2GY4V.js\");\n/* harmony import */ var _chunk_CAY3YIQE_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../chunk-CAY3YIQE.js */ \"(rsc)/./node_modules/frames.js/dist/chunk-CAY3YIQE.js\");\n/* harmony import */ var _chunk_LVMQ4PXS_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../chunk-LVMQ4PXS.js */ \"(rsc)/./node_modules/frames.js/dist/chunk-LVMQ4PXS.js\");\n/* harmony import */ var _chunk_U4LCIGWM_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../chunk-U4LCIGWM.js */ \"(rsc)/./node_modules/frames.js/dist/chunk-U4LCIGWM.js\");\n/* harmony import */ var _chunk_I6EK4OTN_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../chunk-I6EK4OTN.js */ \"(rsc)/./node_modules/frames.js/dist/chunk-I6EK4OTN.js\");\n/* harmony import */ var _chunk_3G7JIAWO_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../chunk-3G7JIAWO.js */ \"(rsc)/./node_modules/frames.js/dist/chunk-3G7JIAWO.js\");\n/* harmony import */ var _chunk_CPDJUXZV_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../chunk-CPDJUXZV.js */ \"(rsc)/./node_modules/frames.js/dist/chunk-CPDJUXZV.js\");\n/* harmony import */ var _chunk_A7DY5J6N_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../chunk-A7DY5J6N.js */ \"(rsc)/./node_modules/frames.js/dist/chunk-A7DY5J6N.js\");\n/* harmony import */ var _chunk_NPHRKC5O_js__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../chunk-NPHRKC5O.js */ \"(rsc)/./node_modules/frames.js/dist/chunk-NPHRKC5O.js\");\n/* harmony import */ var _chunk_5TLR47X5_js__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ../chunk-5TLR47X5.js */ \"(rsc)/./node_modules/frames.js/dist/chunk-5TLR47X5.js\");\n/* harmony import */ var _chunk_NYM7O7IG_js__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ../chunk-NYM7O7IG.js */ \"(rsc)/./node_modules/frames.js/dist/chunk-NYM7O7IG.js\");\n/* harmony import */ var _chunk_HKQGGRBN_js__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ../chunk-HKQGGRBN.js */ \"(rsc)/./node_modules/frames.js/dist/chunk-HKQGGRBN.js\");\n/* harmony import */ var _chunk_SUN5RYRE_js__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ../chunk-SUN5RYRE.js */ \"(rsc)/./node_modules/frames.js/dist/chunk-SUN5RYRE.js\");\n/* harmony import */ var _chunk_T2UQQRTL_js__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ../chunk-T2UQQRTL.js */ \"(rsc)/./node_modules/frames.js/dist/chunk-T2UQQRTL.js\");\n/* harmony import */ var _chunk_CGGPX3ON_js__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ../chunk-CGGPX3ON.js */ \"(rsc)/./node_modules/frames.js/dist/chunk-CGGPX3ON.js\");\n/* harmony import */ var _chunk_HCF7TXMO_js__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! ../chunk-HCF7TXMO.js */ \"(rsc)/./node_modules/frames.js/dist/chunk-HCF7TXMO.js\");\n/* harmony import */ var _chunk_MI43JRER_js__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! ../chunk-MI43JRER.js */ \"(rsc)/./node_modules/frames.js/dist/chunk-MI43JRER.js\");\n/* harmony import */ var _chunk_JGTH2ANC_js__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! ../chunk-JGTH2ANC.js */ \"(rsc)/./node_modules/frames.js/dist/chunk-JGTH2ANC.js\");\n/* harmony import */ var _chunk_IDQTRI32_js__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__(/*! ../chunk-IDQTRI32.js */ \"(rsc)/./node_modules/frames.js/dist/chunk-IDQTRI32.js\");\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n// src/next/index.ts\nvar createFrames2 = function createFramesForNextJS(options) {\n  const frames = (0,_chunk_YKS4YA2Z_js__WEBPACK_IMPORTED_MODULE_6__.createFrames)(options);\n  return function createHandler(handler, handlerOptions) {\n    const handleRequest = frames(handler, handlerOptions);\n    return (req) => {\n      return handleRequest(new Request(req.nextUrl.toString(), req));\n    };\n  };\n};\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvZnJhbWVzLmpzL2Rpc3QvbmV4dC9pbmRleC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFFOEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUU5QjtBQUNBO0FBQ0EsaUJBQWlCLGdFQUFZO0FBQzdCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBS0UiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9wbGViLWZpbmRlci8uL25vZGVfbW9kdWxlcy9mcmFtZXMuanMvZGlzdC9uZXh0L2luZGV4LmpzP2IzYmIiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtcbiAgZmV0Y2hNZXRhZGF0YVxufSBmcm9tIFwiLi4vY2h1bmstSkNTUFNSRkMuanNcIjtcbmltcG9ydCBcIi4uL2NodW5rLVdHTUhGN1pNLmpzXCI7XG5pbXBvcnQgXCIuLi9jaHVuay1OS1EzQkw2TS5qc1wiO1xuaW1wb3J0IFwiLi4vY2h1bmstQ1RVRTZWV1kuanNcIjtcbmltcG9ydCBcIi4uL2NodW5rLVFIRFFQSExGLmpzXCI7XG5pbXBvcnQge1xuICBCdXR0b25cbn0gZnJvbSBcIi4uL2NodW5rLVBYN1pZWlk3LmpzXCI7XG5pbXBvcnQge1xuICBjcmVhdGVGcmFtZXNcbn0gZnJvbSBcIi4uL2NodW5rLVlLUzRZQTJaLmpzXCI7XG5pbXBvcnQgXCIuLi9jaHVuay1LVkJQSkhLSC5qc1wiO1xuaW1wb3J0IFwiLi4vY2h1bmstTFZSNVVaQVMuanNcIjtcbmltcG9ydCBcIi4uL2NodW5rLVZKNFcySExULmpzXCI7XG5pbXBvcnQgXCIuLi9jaHVuay0yMlBPSDQ3UC5qc1wiO1xuaW1wb3J0IFwiLi4vY2h1bmstSU9RMkdZNFYuanNcIjtcbmltcG9ydCBcIi4uL2NodW5rLUNBWTNZSVFFLmpzXCI7XG5pbXBvcnQgXCIuLi9jaHVuay1MVk1RNFBYUy5qc1wiO1xuaW1wb3J0IFwiLi4vY2h1bmstVTRMQ0lHV00uanNcIjtcbmltcG9ydCBcIi4uL2NodW5rLUk2RUs0T1ROLmpzXCI7XG5pbXBvcnQgXCIuLi9jaHVuay0zRzdKSUFXTy5qc1wiO1xuaW1wb3J0IFwiLi4vY2h1bmstQ1BESlVYWlYuanNcIjtcbmltcG9ydCBcIi4uL2NodW5rLUE3RFk1SjZOLmpzXCI7XG5pbXBvcnQgXCIuLi9jaHVuay1OUEhSS0M1Ty5qc1wiO1xuaW1wb3J0IFwiLi4vY2h1bmstNVRMUjQ3WDUuanNcIjtcbmltcG9ydCBcIi4uL2NodW5rLU5ZTTdPN0lHLmpzXCI7XG5pbXBvcnQgXCIuLi9jaHVuay1IS1FHR1JCTi5qc1wiO1xuaW1wb3J0IFwiLi4vY2h1bmstU1VONVJZUkUuanNcIjtcbmltcG9ydCBcIi4uL2NodW5rLVQyVVFRUlRMLmpzXCI7XG5pbXBvcnQgXCIuLi9jaHVuay1DR0dQWDNPTi5qc1wiO1xuaW1wb3J0IFwiLi4vY2h1bmstSENGN1RYTU8uanNcIjtcbmltcG9ydCBcIi4uL2NodW5rLU1JNDNKUkVSLmpzXCI7XG5pbXBvcnQgXCIuLi9jaHVuay1KR1RIMkFOQy5qc1wiO1xuaW1wb3J0IFwiLi4vY2h1bmstSURRVFJJMzIuanNcIjtcblxuLy8gc3JjL25leHQvaW5kZXgudHNcbnZhciBjcmVhdGVGcmFtZXMyID0gZnVuY3Rpb24gY3JlYXRlRnJhbWVzRm9yTmV4dEpTKG9wdGlvbnMpIHtcbiAgY29uc3QgZnJhbWVzID0gY3JlYXRlRnJhbWVzKG9wdGlvbnMpO1xuICByZXR1cm4gZnVuY3Rpb24gY3JlYXRlSGFuZGxlcihoYW5kbGVyLCBoYW5kbGVyT3B0aW9ucykge1xuICAgIGNvbnN0IGhhbmRsZVJlcXVlc3QgPSBmcmFtZXMoaGFuZGxlciwgaGFuZGxlck9wdGlvbnMpO1xuICAgIHJldHVybiAocmVxKSA9PiB7XG4gICAgICByZXR1cm4gaGFuZGxlUmVxdWVzdChuZXcgUmVxdWVzdChyZXEubmV4dFVybC50b1N0cmluZygpLCByZXEpKTtcbiAgICB9O1xuICB9O1xufTtcbmV4cG9ydCB7XG4gIEJ1dHRvbixcbiAgY3JlYXRlRnJhbWVzMiBhcyBjcmVhdGVGcmFtZXMsXG4gIGZldGNoTWV0YWRhdGFcbn07XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/frames.js/dist/next/index.js\n");

/***/ })

};
;